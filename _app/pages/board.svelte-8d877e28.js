var pt=Object.defineProperty,vt=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var Qe=(n,e,t)=>e in n?pt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,We=(n,e)=>{for(var t in e||(e={}))gt.call(e,t)&&Qe(n,t,e[t]);if(Le)for(var t of Le(e))$t.call(e,t)&&Qe(n,t,e[t]);return n},Ze=(n,e)=>vt(n,mt(e));import{S as se,i as le,s as re,X as Fe,Y as Xe,e as k,t as D,k as j,j as N,c as w,a as $,g as I,d as p,n as C,m as T,b as v,f as P,G as _,o as U,h as O,Z as Ye,x as q,T as ce,ac as he,V as Ae,ad as Je,u as H,v as L,a7 as be,A as Ke,ak as kt,al as wt,a6 as Ee,D as ye,E as Ve,R as xe,r as ge,w as $e,ae as Re,l as ee,am as bt}from"../chunks/vendor-453c144d.js";import{p as qe,g as Et,q as yt}from"../chunks/index-784f6ff0.js";import{c as ze,g as et,a as Vt}from"../chunks/index-51669b21.js";import{H as ne}from"../chunks/houses-9a4fb946.js";import{C as Be,a as tt}from"../chunks/Confetti-bdd8c3bb.js";import{T as qt}from"../chunks/Crest.svelte_svelte_type_style_lang-cff3bd29.js";import{l as zt}from"../chunks/helpers-bcb7afd4.js";function Dt(n){var Oe,Se;let e,t,s,l,a,r,o,i=ze(n[6].name)+"",u,d,f,h,g,c,E=n[6].pts+"",m,V,b,A,G,Z,ie,S,R,B,M,Q,Y,x=((Oe=n[5])==null?void 0:Oe.name)+"",J,ae,F,_e=((Se=n[0])==null?void 0:Se.pts)+"",ke,De,Ie,oe,K,Pe,He,we,je,X;h=new Be({props:{house:n[6].name}});function _t(y){n[9](y)}let Me={width:n[3],height:n[4],repeat:!0};n[1]!==void 0&&(Me.show=n[1]),G=new tt({props:Me}),Fe.push(()=>Xe(G,"show",_t));function dt(y){n[10](y)}let Ge={width:n[3],height:n[4],repeat:!0};return n[2]!==void 0&&(Ge.show=n[2]),K=new tt({props:Ge}),Fe.push(()=>Xe(K,"show",dt)),{c(){e=k("div"),t=k("h1"),s=D("Und die Gewinner sind:"),l=j(),a=k("div"),r=k("div"),o=k("h2"),u=D(i),d=j(),f=k("div"),N(h.$$.fragment),g=j(),c=k("h3"),m=D(E),V=D(" Punkte"),b=j(),A=k("div"),N(G.$$.fragment),B=j(),M=k("div"),Q=k("div"),Y=k("h2"),J=D(x),ae=j(),F=k("h3"),ke=D(_e),De=D(" Punkte"),Ie=j(),oe=k("div"),N(K.$$.fragment),this.h()},l(y){e=w(y,"DIV",{class:!0});var z=$(e);t=w(z,"H1",{class:!0});var de=$(t);s=I(de,"Und die Gewinner sind:"),de.forEach(p),l=C(z),a=w(z,"DIV",{class:!0,style:!0});var te=$(a);r=w(te,"DIV",{});var W=$(r);o=w(W,"H2",{class:!0});var pe=$(o);u=I(pe,i),pe.forEach(p),d=C(W),f=w(W,"DIV",{class:!0});var ve=$(f);T(h.$$.fragment,ve),ve.forEach(p),g=C(W),c=w(W,"H3",{class:!0});var ue=$(c);m=I(ue,E),V=I(ue," Punkte"),ue.forEach(p),b=C(W),A=w(W,"DIV",{class:!0});var me=$(A);T(G.$$.fragment,me),me.forEach(p),W.forEach(p),te.forEach(p),B=C(z),M=w(z,"DIV",{class:!0,style:!0});var Ne=$(M);Q=w(Ne,"DIV",{});var fe=$(Q);Y=w(fe,"H2",{class:!0});var Te=$(Y);J=I(Te,x),Te.forEach(p),ae=C(fe),F=w(fe,"H3",{class:!0});var Ce=$(F);ke=I(Ce,_e),De=I(Ce," Punkte"),Ce.forEach(p),Ie=C(fe),oe=w(fe,"DIV",{class:!0});var Ue=$(oe);T(K.$$.fragment,Ue),Ue.forEach(p),fe.forEach(p),Ne.forEach(p),z.forEach(p),this.h()},h(){var y,z;v(t,"class","svelte-158sft3"),v(o,"class","svelte-158sft3"),v(f,"class","crest svelte-158sft3"),v(c,"class","svelte-158sft3"),v(A,"class","confetti-wrapper svelte-158sft3"),v(a,"class","left svelte-158sft3"),v(a,"style",S=`background-color: ${ne[n[6].name]}`),v(Y,"class","svelte-158sft3"),v(F,"class","svelte-158sft3"),v(oe,"class","confetti-wrapper svelte-158sft3"),v(M,"class","right svelte-158sft3"),v(M,"style",we=`background-color:  ${(z=ne)==null?void 0:z[(y=n[5])==null?void 0:y.house]}`),v(e,"class","wrapper svelte-158sft3")},m(y,z){P(y,e,z),_(e,t),_(t,s),_(e,l),_(e,a),_(a,r),_(r,o),_(o,u),_(r,d),_(r,f),U(h,f,null),_(r,g),_(r,c),_(c,m),_(c,V),_(r,b),_(r,A),U(G,A,null),_(e,B),_(e,M),_(M,Q),_(Q,Y),_(Y,J),_(Q,ae),_(Q,F),_(F,ke),_(F,De),_(Q,Ie),_(Q,oe),U(K,oe,null),X=!0},p(y,[z]){var pe,ve,ue,me;(!X||z&64)&&i!==(i=ze(y[6].name)+"")&&O(u,i);const de={};z&64&&(de.house=y[6].name),h.$set(de),(!X||z&64)&&E!==(E=y[6].pts+"")&&O(m,E);const te={};z&8&&(te.width=y[3]),z&16&&(te.height=y[4]),!Z&&z&2&&(Z=!0,te.show=y[1],Ye(()=>Z=!1)),G.$set(te),(!X||z&64&&S!==(S=`background-color: ${ne[y[6].name]}`))&&v(a,"style",S),(!X||z&32)&&x!==(x=((pe=y[5])==null?void 0:pe.name)+"")&&O(J,x),(!X||z&1)&&_e!==(_e=((ve=y[0])==null?void 0:ve.pts)+"")&&O(ke,_e);const W={};z&8&&(W.width=y[3]),z&16&&(W.height=y[4]),!Pe&&z&4&&(Pe=!0,W.show=y[2],Ye(()=>Pe=!1)),K.$set(W),(!X||z&32&&we!==(we=`background-color:  ${(me=ne)==null?void 0:me[(ue=y[5])==null?void 0:ue.house]}`))&&v(M,"style",we)},i(y){X||(q(h.$$.fragment,y),q(G.$$.fragment,y),ie||ce(()=>{ie=he(r,Ae,{delay:8500,duration:1e3}),ie.start()}),R||ce(()=>{R=he(a,Je,{delay:8e3,duration:2e3}),R.start()}),q(K.$$.fragment,y),He||ce(()=>{He=he(Q,Ae,{delay:4500,duration:1e3}),He.start()}),je||ce(()=>{je=he(M,Je,{delay:4e3,duration:2e3}),je.start()}),X=!0)},o(y){H(h.$$.fragment,y),H(G.$$.fragment,y),H(K.$$.fragment,y),X=!1},d(y){y&&p(e),L(h),L(G),L(K)}}}function It(n,e,t){let s,l,a,r;be(n,qe,c=>t(8,r=c));let{quiz:o}=e,i,u,d=500,f=500;Ke(async()=>{t(4,f=window.innerHeight),t(3,d=window.innerWidth/2);const c=await et("api/quiz/points");kt(qe,r=await c.json(),r),setTimeout(()=>{u==null||u()},5e3),setTimeout(()=>{i==null||i()},9e3)});function h(c){i=c,t(1,i)}function g(c){u=c,t(2,u)}return n.$$set=c=>{"quiz"in c&&t(7,o=c.quiz)},n.$$.update=()=>{n.$$.dirty&256&&t(6,s=Object.entries(r.house).map(([c,E])=>({name:c,pts:E})).sort((c,E)=>c.pts>E.pts?-1:1)[0]),n.$$.dirty&256&&t(0,l=Object.entries(r.users).map(([c,E])=>({id:c,pts:E})).sort((c,E)=>c.pts>E.pts?-1:1)[0]),n.$$.dirty&129&&t(5,a=l&&o.users.find(c=>c.id===l.id))},[l,i,u,d,f,a,s,o,r,h,g]}class Pt extends se{constructor(e){super();le(this,e,It,Dt,re,{quiz:7})}}function Ht(n){let e,t,s=n[1].pts+"",l,a,r=(n[1].pts>1?"e":"")+"",o,i,u=n[1].name+"",d,f;return{c(){e=k("div"),t=k("h2"),l=D(s),a=D(" Punkt"),o=D(r),i=D(" | \xA0"),d=D(u),this.h()},l(h){e=w(h,"DIV",{class:!0,style:!0});var g=$(e);t=w(g,"H2",{class:!0});var c=$(t);l=I(c,s),a=I(c," Punkt"),o=I(c,r),i=I(c," | \xA0"),d=I(c,u),c.forEach(p),g.forEach(p),this.h()},h(){v(t,"class","svelte-x0uiwq"),v(e,"class","user svelte-x0uiwq"),v(e,"style",f=`--color: ${ne[n[1].house]}`)},m(h,g){P(h,e,g),_(e,t),_(t,l),_(t,a),_(t,o),_(t,i),_(t,d)},p(h,g){g&2&&s!==(s=h[1].pts+"")&&O(l,s),g&2&&r!==(r=(h[1].pts>1?"e":"")+"")&&O(o,r),g&2&&u!==(u=h[1].name+"")&&O(d,u),g&2&&f!==(f=`--color: ${ne[h[1].house]}`)&&v(e,"style",f)},d(h){h&&p(e)}}}function jt(n){let e,t,s;return t=new wt({props:{list:n[0],key:"name",$$slots:{default:[Ht,({item:l})=>({1:l}),({item:l})=>l?2:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),N(t.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var a=$(e);T(t.$$.fragment,a),a.forEach(p),this.h()},h(){v(e,"class","leader-board svelte-x0uiwq"),Ee(e,"visible",!!n[0].length)},m(l,a){P(l,e,a),U(t,e,null),s=!0},p(l,[a]){const r={};a&1&&(r.list=l[0]),a&6&&(r.$$scope={dirty:a,ctx:l}),t.$set(r),a&1&&Ee(e,"visible",!!l[0].length)},i(l){s||(q(t.$$.fragment,l),s=!0)},o(l){H(t.$$.fragment,l),s=!1},d(l){l&&p(e),L(t)}}}function Ct(n,e,t){let{users:s}=e;return n.$$set=l=>{"users"in l&&t(0,s=l.users)},[s]}class At extends se{constructor(e){super();le(this,e,Ct,jt,re,{users:0})}}function Rt(n){let e,t,s,l=(n[0].pts||0)+"",a,r,o,i=ze(n[0].name)+"",u,d,f,h,g,c,E,m,V,b,A,G,Z,ie,S;return h=new Be({props:{house:n[0].name}}),{c(){e=k("div"),t=k("div"),s=k("h2"),a=D(l),r=j(),o=k("p"),u=D(i),d=j(),f=k("div"),N(h.$$.fragment),g=j(),c=k("div"),E=ye("svg"),m=ye("path"),V=j(),b=ye("svg"),A=ye("path"),G=j(),Z=k("img"),this.h()},l(R){e=w(R,"DIV",{class:!0});var B=$(e);t=w(B,"DIV",{class:!0});var M=$(t);s=w(M,"H2",{class:!0});var Q=$(s);a=I(Q,l),Q.forEach(p),r=C(M),o=w(M,"P",{class:!0});var Y=$(o);u=I(Y,i),Y.forEach(p),d=C(M),f=w(M,"DIV",{class:!0});var x=$(f);T(h.$$.fragment,x),x.forEach(p),M.forEach(p),g=C(B),c=w(B,"DIV",{class:!0});var J=$(c);E=Ve(J,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0,fill:!0,xmlns:!0});var ae=$(E);m=Ve(ae,"path",{d:!0,fill:!0}),$(m).forEach(p),ae.forEach(p),V=C(J),b=Ve(J,"svg",{class:!0,viewBox:!0,fill:!0,xmlns:!0});var F=$(b);A=Ve(F,"path",{opacity:!0,d:!0,fill:!0}),$(A).forEach(p),F.forEach(p),J.forEach(p),G=C(B),Z=w(B,"IMG",{class:!0,src:!0,alt:!0}),B.forEach(p),this.h()},h(){v(s,"class","svelte-1skask8"),v(o,"class","svelte-1skask8"),v(f,"class","crest svelte-1skask8"),v(t,"class","top svelte-1skask8"),v(m,"d",n[1]),v(m,"fill",n[2]),v(E,"class","color-bottom width svelte-1skask8"),v(E,"viewBox","0 0 100 306"),v(E,"preserveAspectRatio","none"),v(E,"fill","none"),v(E,"xmlns","http://www.w3.org/2000/svg"),v(A,"opacity","0.75"),v(A,"d","M 1 10 L 1 77 C 20 77 29 97 45 97 C 60 97 71 77 90 77 V 10 C 90 6 84 0 45 0 C 7 0 1 7 1 10 Z"),v(A,"fill",n[2]),v(b,"class","color-top width svelte-1skask8"),v(b,"viewBox","0 0 91 98"),v(b,"fill","none"),v(b,"xmlns","http://www.w3.org/2000/svg"),v(c,"class","bottom-container"),v(Z,"class","glass svelte-1skask8"),xe(Z.src,ie="/sorting-glass.png")||v(Z,"src",ie),v(Z,"alt",""),v(e,"class","container svelte-1skask8")},m(R,B){P(R,e,B),_(e,t),_(t,s),_(s,a),_(t,r),_(t,o),_(o,u),_(t,d),_(t,f),U(h,f,null),_(e,g),_(e,c),_(c,E),_(E,m),_(c,V),_(c,b),_(b,A),_(e,G),_(e,Z),S=!0},p(R,[B]){(!S||B&1)&&l!==(l=(R[0].pts||0)+"")&&O(a,l),(!S||B&1)&&i!==(i=ze(R[0].name)+"")&&O(u,i);const M={};B&1&&(M.house=R[0].name),h.$set(M),(!S||B&2)&&v(m,"d",R[1]),(!S||B&4)&&v(m,"fill",R[2]),(!S||B&4)&&v(A,"fill",R[2])},i(R){S||(q(h.$$.fragment,R),S=!0)},o(R){H(h.$$.fragment,R),S=!1},d(R){R&&p(e),L(h)}}}let Bt=120;function st(n){return Math.min(Math.max(n,0),1)}function Mt(n,e,t){let s,l,a,r,{house:o}=e,{maxPoints:i}=e,u=0,d=0,f=!1,h=0;function g(){h++;const c=Vt(h/Bt);Math.abs(u-d)>.01?requestAnimationFrame(g):(t(4,u=d),t(6,f=!1)),t(4,u=st(zt(u,d,1-c)))}return n.$$set=c=>{"house"in c&&t(0,o=c.house),"maxPoints"in c&&t(3,i=c.maxPoints)},n.$$.update=()=>{if(n.$$.dirty&1&&t(8,s=(o==null?void 0:o.pts)||0),n.$$.dirty&376&&(s||i)){let c=st(s/i);c!==d&&(console.log("Animate",u,c),t(5,d=c),h=0,f||g())}n.$$.dirty&1&&t(2,l=ne[o.name]),n.$$.dirty&16&&t(7,a=300-u*230),n.$$.dirty&128&&t(1,r=`M 0 270 
	V ${a+5} 
	C 30 ${a+5} 30 ${a} 50 ${a} 
	C 70 ${a} 70 ${a+5} 100 ${a+5} 
	V 270 
	C 100 290 80 300 50 300 
	C 20 300 0 290 0 270 
	Z`)},[o,r,l,i,u,d,f,a,s]}class Gt extends se{constructor(e){super();le(this,e,Mt,Rt,re,{house:0,maxPoints:3})}}function lt(n,e,t){const s=n.slice();return s[4]=e[t],s}function rt(n){let e,t,s,l;return t=new Gt({props:{house:n[4],maxPoints:n[1]}}),{c(){e=k("div"),N(t.$$.fragment),s=j(),this.h()},l(a){e=w(a,"DIV",{class:!0});var r=$(e);T(t.$$.fragment,r),s=C(r),r.forEach(p),this.h()},h(){v(e,"class","glass-wrapper svelte-1sp1i21")},m(a,r){P(a,e,r),U(t,e,null),_(e,s),l=!0},p(a,r){const o={};r&1&&(o.house=a[4]),r&2&&(o.maxPoints=a[1]),t.$set(o)},i(a){l||(q(t.$$.fragment,a),l=!0)},o(a){H(t.$$.fragment,a),l=!1},d(a){a&&p(e),L(t)}}}function Ot(n){let e,t,s=n[0].sort(nt),l=[];for(let r=0;r<s.length;r+=1)l[r]=rt(lt(n,s,r));const a=r=>H(l[r],1,1,()=>{l[r]=null});return{c(){e=k("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=w(r,"DIV",{class:!0});var o=$(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(p),this.h()},h(){v(e,"class","house-wrapper svelte-1sp1i21")},m(r,o){P(r,e,o);for(let i=0;i<l.length;i+=1)l[i].m(e,null);t=!0},p(r,[o]){if(o&3){s=r[0].sort(nt);let i;for(i=0;i<s.length;i+=1){const u=lt(r,s,i);l[i]?(l[i].p(u,o),q(l[i],1)):(l[i]=rt(u),l[i].c(),q(l[i],1),l[i].m(e,null))}for(ge(),i=s.length;i<l.length;i+=1)a(i);$e()}},i(r){if(!t){for(let o=0;o<s.length;o+=1)q(l[o]);t=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)H(l[o]);t=!1},d(r){r&&p(e),Re(l,r)}}}const nt=(n,e)=>n.name>e.name?-1:1;function St(n,e,t){let s,l,a,{houses:r={}}=e;return n.$$set=o=>{"houses"in o&&t(2,r=o.houses)},n.$$.update=()=>{var o;n.$$.dirty&4&&t(0,s=Object.entries(r).map(([i,u])=>({name:i,pts:u}))),n.$$.dirty&1&&t(3,l=(s==null?void 0:s.sort((i,u)=>i.pts>u.pts?-1:1))||[]),n.$$.dirty&8&&t(1,a=Math.max(5,(o=l[0])==null?void 0:o.pts)||0)},[s,a,r,l]}class it extends se{constructor(e){super();le(this,e,St,Ot,re,{houses:2})}}function at(n,e,t){const s=n.slice();return s[9]=e[t],s}function ot(n){var d;let e,t=((d=n[2])==null?void 0:d.description)+"",s,l,a,r,o=!n[6]&&ut(n),i=n[3],u=[];for(let f=0;f<i.length;f+=1)u[f]=ft(at(n,i,f));return{c(){e=k("h1"),s=D(t),l=j(),o&&o.c(),a=j();for(let f=0;f<u.length;f+=1)u[f].c();r=ee()},l(f){e=w(f,"H1",{});var h=$(e);s=I(h,t),h.forEach(p),l=C(f),o&&o.l(f),a=C(f);for(let g=0;g<u.length;g+=1)u[g].l(f);r=ee()},m(f,h){P(f,e,h),_(e,s),P(f,l,h),o&&o.m(f,h),P(f,a,h);for(let g=0;g<u.length;g+=1)u[g].m(f,h);P(f,r,h)},p(f,h){var g;if(h&4&&t!==(t=((g=f[2])==null?void 0:g.description)+"")&&O(s,t),f[6]?o&&(o.d(1),o=null):o?o.p(f,h):(o=ut(f),o.c(),o.m(a.parentNode,a)),h&76){i=f[3];let c;for(c=0;c<i.length;c+=1){const E=at(f,i,c);u[c]?u[c].p(E,h):(u[c]=ft(E),u[c].c(),u[c].m(r.parentNode,r))}for(;c<u.length;c+=1)u[c].d(1);u.length=i.length}},d(f){f&&p(e),f&&p(l),o&&o.d(f),f&&p(a),Re(u,f),f&&p(r)}}}function ut(n){let e,t,s,l=n[0].users.length+"",a;return{c(){e=k("p"),t=D(n[5]),s=D("/"),a=D(l)},l(r){e=w(r,"P",{});var o=$(e);t=I(o,n[5]),s=I(o,"/"),a=I(o,l),o.forEach(p)},m(r,o){P(r,e,o),_(e,t),_(e,s),_(e,a)},p(r,o){o&32&&O(t,r[5]),o&1&&l!==(l=r[0].users.length+"")&&O(a,l)},d(r){r&&p(e)}}}function ft(n){let e,t=n[9].value+"",s,l;return{c(){e=k("p"),s=D(t),l=j(),this.h()},l(a){e=w(a,"P",{class:!0});var r=$(e);s=I(r,t),l=C(r),r.forEach(p),this.h()},h(){var a;v(e,"class","answer svelte-lzxxm1"),Ee(e,"right",((a=n[2])==null?void 0:a.state)==="closed"&&n[6]&&n[6].id===n[9].id)},m(a,r){P(a,e,r),_(e,s),_(e,l)},p(a,r){var o;r&8&&t!==(t=a[9].value+"")&&O(s,t),r&76&&Ee(e,"right",((o=a[2])==null?void 0:o.state)==="closed"&&a[6]&&a[6].id===a[9].id)},d(a){a&&p(e)}}}function Nt(n){let e,t,s,l,a,r,o;t=new it({props:{houses:n[4].house}});let i=n[2]&&ot(n);return r=new At({props:{users:n[1]}}),{c(){e=k("div"),N(t.$$.fragment),s=j(),l=k("div"),i&&i.c(),a=j(),N(r.$$.fragment),this.h()},l(u){e=w(u,"DIV",{class:!0});var d=$(e);T(t.$$.fragment,d),s=C(d),l=w(d,"DIV",{class:!0});var f=$(l);i&&i.l(f),f.forEach(p),a=C(d),T(r.$$.fragment,d),d.forEach(p),this.h()},h(){v(l,"class","current-question svelte-lzxxm1"),v(e,"class","container svelte-lzxxm1")},m(u,d){P(u,e,d),U(t,e,null),_(e,s),_(e,l),i&&i.m(l,null),_(e,a),U(r,e,null),o=!0},p(u,[d]){const f={};d&16&&(f.houses=u[4].house),t.$set(f),u[2]?i?i.p(u,d):(i=ot(u),i.c(),i.m(l,null)):i&&(i.d(1),i=null);const h={};d&2&&(h.users=u[1]),r.$set(h)},i(u){o||(q(t.$$.fragment,u),q(r.$$.fragment,u),o=!0)},o(u){H(t.$$.fragment,u),H(r.$$.fragment,u),o=!1},d(u){u&&p(e),L(t),i&&i.d(),L(r)}}}function Tt(n,e,t){let s,l,a,r,o,i;be(n,qe,f=>t(4,i=f));let{quiz:u}=e;function d(f){return u.users.find(h=>h.id===f)}return n.$$set=f=>{"quiz"in f&&t(0,u=f.quiz)},n.$$.update=()=>{n.$$.dirty&1&&t(2,s=u==null?void 0:u.activeQuestion),n.$$.dirty&4&&t(3,l=s==null?void 0:s.answers),n.$$.dirty&12&&t(6,a=l==null?void 0:l.find(f=>(f==null?void 0:f.id)===(s==null?void 0:s.correctAnswer))),n.$$.dirty&4&&t(5,r=s.type==="multiple"?s.answers.map(f=>f.votes.length).reduce((f,h)=>f+h,0):s.answers.length),n.$$.dirty&16&&Object.entries(i==null?void 0:i.house).map(([f,h])=>({name:f,pts:h})),n.$$.dirty&16&&t(1,o=Object.entries(i.users).map(([f,h])=>(console.log(f,h),Ze(We({},d(f)),{pts:h}))).sort((f,h)=>f.pts>h.pts?-1:1)),n.$$.dirty&2&&console.log(o)},[u,o,s,l,i,r,a]}class Ut extends se{constructor(e){super();le(this,e,Tt,Nt,re,{quiz:0})}}function ct(n,e,t){const s=n.slice();return s[3]=e[t],s}function Lt(n){let e,t,s,l,a,r,o,i=n[0].description+"",u,d,f,h,g=n[1],c=[];for(let m=0;m<g.length;m+=1)c[m]=ht(ct(n,g,m));const E=m=>H(c[m],1,1,()=>{c[m]=null});return{c(){e=k("img"),s=j(),l=k("h3"),a=D("Registriert euch f\xFCr"),r=j(),o=k("h1"),u=D(i),d=j(),f=k("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){e=w(m,"IMG",{src:!0,alt:!0,class:!0}),s=C(m),l=w(m,"H3",{class:!0});var V=$(l);a=I(V,"Registriert euch f\xFCr"),V.forEach(p),r=C(m),o=w(m,"H1",{class:!0});var b=$(o);u=I(b,i),b.forEach(p),d=C(m),f=w(m,"DIV",{class:!0});var A=$(f);for(let G=0;G<c.length;G+=1)c[G].l(A);A.forEach(p),this.h()},h(){xe(e.src,t="/icons/qr.svg")||v(e,"src",t),v(e,"alt",""),v(e,"class","svelte-lto4kw"),v(l,"class","svelte-lto4kw"),v(o,"class","svelte-lto4kw"),v(f,"class","users svelte-lto4kw")},m(m,V){P(m,e,V),P(m,s,V),P(m,l,V),_(l,a),P(m,r,V),P(m,o,V),_(o,u),P(m,d,V),P(m,f,V);for(let b=0;b<c.length;b+=1)c[b].m(f,null);h=!0},p(m,V){if((!h||V&1)&&i!==(i=m[0].description+"")&&O(u,i),V&2){g=m[1];let b;for(b=0;b<g.length;b+=1){const A=ct(m,g,b);c[b]?(c[b].p(A,V),q(c[b],1)):(c[b]=ht(A),c[b].c(),q(c[b],1),c[b].m(f,null))}for(ge(),b=g.length;b<c.length;b+=1)E(b);$e()}},i(m){if(!h){for(let V=0;V<g.length;V+=1)q(c[V]);h=!0}},o(m){c=c.filter(Boolean);for(let V=0;V<c.length;V+=1)H(c[V]);h=!1},d(m){m&&p(e),m&&p(s),m&&p(l),m&&p(r),m&&p(o),m&&p(d),m&&p(f),Re(c,m)}}}function Qt(n){let e,t;return e=new qt({props:{endsAt:n[0].startsAt,$$slots:{default:[Wt,({secondsLeft:s})=>({2:s}),({secondsLeft:s})=>s?4:0]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const a={};l&1&&(a.endsAt=s[0].startsAt),l&68&&(a.$$scope={dirty:l,ctx:s}),e.$set(a)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function ht(n){let e,t,s,l,a,r,o=n[3].name+"",i,u,d,f,h;return s=new Be({props:{house:n[3].house}}),{c(){e=k("div"),t=k("div"),N(s.$$.fragment),a=j(),r=k("p"),i=D(o),u=D(" registered"),d=j(),this.h()},l(g){e=w(g,"DIV",{class:!0});var c=$(e);t=w(c,"DIV",{class:!0});var E=$(t);T(s.$$.fragment,E),E.forEach(p),a=C(c),r=w(c,"P",{class:!0});var m=$(r);i=I(m,o),u=I(m," registered"),m.forEach(p),d=C(c),c.forEach(p),this.h()},h(){v(t,"class","crest svelte-lto4kw"),v(r,"class","svelte-lto4kw"),v(e,"class","user svelte-lto4kw")},m(g,c){P(g,e,c),_(e,t),U(s,t,null),_(e,a),_(e,r),_(r,i),_(r,u),_(e,d),h=!0},p(g,c){const E={};c&2&&(E.house=g[3].house),s.$set(E),(!h||c&2)&&o!==(o=g[3].name+"")&&O(i,o)},i(g){h||(q(s.$$.fragment,g),l||ce(()=>{l=he(t,Ae,{delay:500}),l.start()}),f||ce(()=>{f=he(e,bt,{}),f.start()}),h=!0)},o(g){H(s.$$.fragment,g),h=!1},d(g){g&&p(e),L(s)}}}function Wt(n){let e,t,s=n[2]+"",l;return{c(){e=k("h1"),t=D("Quiz startet in "),l=D(s),this.h()},l(a){e=w(a,"H1",{class:!0});var r=$(e);t=I(r,"Quiz startet in "),l=I(r,s),r.forEach(p),this.h()},h(){v(e,"class","svelte-lto4kw")},m(a,r){P(a,e,r),_(e,t),_(e,l)},p(a,r){r&4&&s!==(s=a[2]+"")&&O(l,s)},d(a){a&&p(e)}}}function Zt(n){let e,t,s,l;const a=[Qt,Lt],r=[];function o(i,u){return i[0].startsAt?0:1}return e=o(n),t=r[e]=a[e](n),{c(){t.c(),s=ee()},l(i){t.l(i),s=ee()},m(i,u){r[e].m(i,u),P(i,s,u),l=!0},p(i,[u]){let d=e;e=o(i),e===d?r[e].p(i,u):(ge(),H(r[d],1,1,()=>{r[d]=null}),$e(),t=r[e],t?t.p(i,u):(t=r[e]=a[e](i),t.c()),q(t,1),t.m(s.parentNode,s))},i(i){l||(q(t),l=!0)},o(i){H(t),l=!1},d(i){r[e].d(i),i&&p(s)}}}function Ft(n,e,t){let s,{quiz:l}=e;return n.$$set=a=>{"quiz"in a&&t(0,l=a.quiz)},n.$$.update=()=>{n.$$.dirty&1&&t(1,s=(l==null?void 0:l.users)||[])},[l,s]}class Xt extends se{constructor(e){super();le(this,e,Ft,Zt,re,{quiz:0})}}function Yt(n){let e,t;return e=new it({props:{houses:n[0].points}}),{c(){N(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const a={};l&1&&(a.houses=s[0].points),e.$set(a)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Jt(n){let e,t,s,l;const a=[es,xt,Kt],r=[];function o(i,u){var d,f,h;return((d=i[1])==null?void 0:d.state)==="registration"?0:((f=i[1])==null?void 0:f.state)==="running"?1:((h=i[1])==null?void 0:h.state)==="results"?2:-1}return~(e=o(n))&&(t=r[e]=a[e](n)),{c(){t&&t.c(),s=ee()},l(i){t&&t.l(i),s=ee()},m(i,u){~e&&r[e].m(i,u),P(i,s,u),l=!0},p(i,u){let d=e;e=o(i),e===d?~e&&r[e].p(i,u):(t&&(ge(),H(r[d],1,1,()=>{r[d]=null}),$e()),~e?(t=r[e],t?t.p(i,u):(t=r[e]=a[e](i),t.c()),q(t,1),t.m(s.parentNode,s)):t=null)},i(i){l||(q(t),l=!0)},o(i){H(t),l=!1},d(i){~e&&r[e].d(i),i&&p(s)}}}function Kt(n){let e,t;return e=new Pt({props:{quiz:n[1]}}),{c(){N(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const a={};l&2&&(a.quiz=s[1]),e.$set(a)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function xt(n){let e,t;return e=new Ut({props:{quiz:n[1]}}),{c(){N(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const a={};l&2&&(a.quiz=s[1]),e.$set(a)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function es(n){let e,t;return e=new Xt({props:{quiz:n[1]}}),{c(){N(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const a={};l&2&&(a.quiz=s[1]),e.$set(a)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function ts(n){let e,t,s,l;const a=[Jt,Yt],r=[];function o(i,u){var d;return((d=i[0])==null?void 0:d.state)==="quiz"?0:1}return e=o(n),t=r[e]=a[e](n),{c(){t.c(),s=ee()},l(i){t.l(i),s=ee()},m(i,u){r[e].m(i,u),P(i,s,u),l=!0},p(i,[u]){let d=e;e=o(i),e===d?r[e].p(i,u):(ge(),H(r[d],1,1,()=>{r[d]=null}),$e(),t=r[e],t?t.p(i,u):(t=r[e]=a[e](i),t.c()),q(t,1),t.m(s.parentNode,s))},i(i){l||(q(t),l=!0)},o(i){H(t),l=!1},d(i){r[e].d(i),i&&p(s)}}}function ss(n,e,t){let s,l;be(n,yt,r=>t(1,l=r));const a=Et();return be(n,a,r=>t(0,s=r)),Ke(async()=>{const o=await(await et("api/quiz/points")).json();qe.set(o),a.init()}),[s,l,a]}class cs extends se{constructor(e){super();le(this,e,ss,ts,re,{})}}export{cs as default};
