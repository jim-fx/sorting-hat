import{S as ye,i as qe,s as Ae,e as b,t as C,k as N,l as te,c as g,a as k,g as D,d as u,n as P,b as p,f as w,G as m,h as le,H as B,N as re,al as dt,ai as Je,ap as G,Z as Ie,ab as Z,P as ae,O as Ue,Q as ht,A as pt,$ as oe,a0 as fe,J as je,j as ce,m as ue,F as ie,o as _e,a1 as de,K as Te,L as ze,M as Re,x as T,V as mt,Y as vt,X as bt,u as $,v as he,ah as gt,w as $e,r as Me}from"../chunks/vendor-561498aa.js";import{q as He,l as Ke,u as kt}from"../chunks/stores-7e1142e6.js";import{p as Fe,d as wt}from"../chunks/index-21c51c30.js";/* empty css                                                       */import{s as Le}from"../chunks/pointerStore-6e4380ec.js";import{T as Et}from"../chunks/Timer-9d60cbf0.js";function Xe(l,e,s){const t=l.slice();return t[19]=e[s],t[23]=s,t}function Ze(l,e,s){const t=l.slice();return t[19]=e[s],t}function Ge(l,e,s){const t=l.slice();return t[16]=e[s],t}function yt(l){let e,s=l[1].answers.sort(tt),t=[];for(let n=0;n<s.length;n+=1)t[n]=Ye(Xe(l,s,n));return{c(){e=b("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=g(n,"DIV",{class:!0});var f=k(e);for(let o=0;o<t.length;o+=1)t[o].l(f);f.forEach(u),this.h()},h(){p(e,"class","vote-wrapper svelte-e8ido8")},m(n,f){w(n,e,f);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(n,f){if(f&130){s=n[1].answers.sort(tt);let o;for(o=0;o<s.length;o+=1){const i=Xe(n,s,o);t[o]?t[o].p(i,f):(t[o]=Ye(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=s.length}},d(n){n&&u(e),Ie(t,n)}}}function qt(l){let e,s,t,n,f=l[1].answers,o=[];for(let i=0;i<f.length;i+=1)o[i]=xe(Ze(l,f,i));return{c(){e=b("p"),s=C("Vote for the best answer"),t=N(),n=b("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=g(i,"P",{class:!0});var a=k(e);s=D(a,"Vote for the best answer"),a.forEach(u),t=P(i),n=g(i,"DIV",{class:!0});var r=k(n);for(let c=0;c<o.length;c+=1)o[c].l(r);r.forEach(u),this.h()},h(){p(e,"class","svelte-e8ido8"),p(n,"class","vote-wrapper svelte-e8ido8")},m(i,a){w(i,e,a),m(e,s),w(i,t,a),w(i,n,a);for(let r=0;r<o.length;r+=1)o[r].m(n,null)},p(i,a){if(a&74){f=i[1].answers;let r;for(r=0;r<f.length;r+=1){const c=Ze(i,f,r);o[r]?o[r].p(c,a):(o[r]=xe(c),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=f.length}},d(i){i&&u(e),i&&u(t),i&&u(n),Ie(o,i)}}}function At(l){let e,s,t,n,f,o,i;return{c(){e=b("textarea"),s=N(),t=b("button"),n=C("abschicken"),this.h()},l(a){e=g(a,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0,class:!0}),k(e).forEach(u),s=P(a),t=g(a,"BUTTON",{});var r=k(t);n=D(r,"abschicken"),r.forEach(u),this.h()},h(){var a;p(e,"name",""),p(e,"id",""),p(e,"cols","30"),p(e,"rows","10"),p(e,"class","svelte-e8ido8"),t.disabled=f=!((a=l[0])==null?void 0:a.length)},m(a,r){w(a,e,r),Ue(e,l[0]),w(a,s,r),w(a,t,r),m(t,n),o||(i=[ae(e,"input",l[10]),ae(t,"click",l[11])],o=!0)},p(a,r){var c;r&1&&Ue(e,a[0]),r&1&&f!==(f=!((c=a[0])==null?void 0:c.length))&&(t.disabled=f)},d(a){a&&u(e),a&&u(s),a&&u(t),o=!1,ht(i)}}}function Vt(l){let e,s=l[1].answers,t=[];for(let n=0;n<s.length;n+=1)t[n]=et(Ge(l,s,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=te()},l(n){for(let f=0;f<t.length;f+=1)t[f].l(n);e=te()},m(n,f){for(let o=0;o<t.length;o+=1)t[o].m(n,f);w(n,e,f)},p(n,f){if(f&26){s=n[1].answers;let o;for(o=0;o<s.length;o+=1){const i=Ge(n,s,o);t[o]?t[o].p(i,f):(t[o]=et(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=s.length}},d(n){Ie(t,n),n&&u(e)}}}function St(l){let e,s,t=l[7](l[19].userId)+"",n,f;return{c(){e=b("br"),s=C(`
					(`),n=C(t),f=C(")")},l(o){e=g(o,"BR",{}),s=D(o,`
					(`),n=D(o,t),f=D(o,")")},m(o,i){w(o,e,i),w(o,s,i),w(o,n,i),w(o,f,i)},p(o,i){i&2&&t!==(t=o[7](o[19].userId)+"")&&le(n,t)},d(o){o&&u(e),o&&u(s),o&&u(n),o&&u(f)}}}function Ye(l){let e,s=l[19].votes.length+"",t,n,f,o=l[19].value+"",i,a,r,c=l[23]===0&&St(l);return{c(){e=b("p"),t=C(s),n=N(),f=b("p"),i=C(o),a=N(),c&&c.c(),r=N(),this.h()},l(_){e=g(_,"P",{class:!0});var d=k(e);t=D(d,s),d.forEach(u),n=P(_),f=g(_,"P",{class:!0});var h=k(f);i=D(h,o),a=P(h),c&&c.l(h),r=P(h),h.forEach(u),this.h()},h(){p(e,"class","vote-amount svelte-e8ido8"),p(f,"class","vote-value svelte-e8ido8")},m(_,d){w(_,e,d),m(e,t),w(_,n,d),w(_,f,d),m(f,i),m(f,a),c&&c.m(f,null),m(f,r)},p(_,d){d&2&&s!==(s=_[19].votes.length+"")&&le(t,s),d&2&&o!==(o=_[19].value+"")&&le(i,o),_[23]===0&&c.p(_,d)},d(_){_&&u(e),_&&u(n),_&&u(f),c&&c.d()}}}function xe(l){let e,s=(l[3].vote!==l[19].id?"\u2610":"\u2612")+"",t,n,f,o=l[19].value+"",i,a,r;function c(){return l[12](l[19])}return{c(){e=b("button"),t=C(s),n=N(),f=b("p"),i=C(o),this.h()},l(_){e=g(_,"BUTTON",{class:!0});var d=k(e);t=D(d,s),d.forEach(u),n=P(_),f=g(_,"P",{class:!0});var h=k(f);i=D(h,o),h.forEach(u),this.h()},h(){p(e,"class","vote-button svelte-e8ido8"),Z(e,"selected",l[3].vote===l[19].id),p(f,"class","vote-value svelte-e8ido8")},m(_,d){w(_,e,d),m(e,t),w(_,n,d),w(_,f,d),m(f,i),a||(r=ae(e,"click",c),a=!0)},p(_,d){l=_,d&10&&s!==(s=(l[3].vote!==l[19].id?"\u2610":"\u2612")+"")&&le(t,s),d&10&&Z(e,"selected",l[3].vote===l[19].id),d&2&&o!==(o=l[19].value+"")&&le(i,o)},d(_){_&&u(e),_&&u(n),_&&u(f),a=!1,r()}}}function et(l){let e,s=l[16].value+"",t,n,f;function o(){return l[9](l[16])}return{c(){e=b("button"),t=C(s),this.h()},l(i){e=g(i,"BUTTON",{class:!0});var a=k(e);t=D(a,s),a.forEach(u),this.h()},h(){var i,a,r;p(e,"class","answer svelte-e8ido8"),Z(e,"showAnswer",(i=l[1])==null?void 0:i.correctAnswer),Z(e,"correct",l[16].id===((a=l[1])==null?void 0:a.correctAnswer)),Z(e,"selected",((r=l[3])==null?void 0:r.aid)===l[16].id)},m(i,a){w(i,e,a),m(e,t),n||(f=ae(e,"click",o),n=!0)},p(i,a){var r,c,_;l=i,a&2&&s!==(s=l[16].value+"")&&le(t,s),a&2&&Z(e,"showAnswer",(r=l[1])==null?void 0:r.correctAnswer),a&2&&Z(e,"correct",l[16].id===((c=l[1])==null?void 0:c.correctAnswer)),a&10&&Z(e,"selected",((_=l[3])==null?void 0:_.aid)===l[16].id)},d(i){i&&u(e),n=!1,f()}}}function Nt(l){let e,s=l[1].description+"",t,n,f;function o(r,c){if(r[1].type==="multiple")return Vt;if(r[1].state==="open")return At;if(r[1].state==="voting-open")return qt;if(r[1].state==="closed")return yt}let i=o(l),a=i&&i(l);return{c(){e=b("p"),t=C(s),n=N(),a&&a.c(),f=te(),this.h()},l(r){e=g(r,"P",{class:!0});var c=k(e);t=D(c,s),c.forEach(u),n=P(r),a&&a.l(r),f=te(),this.h()},h(){p(e,"class","description svelte-e8ido8")},m(r,c){w(r,e,c),m(e,t),w(r,n,c),a&&a.m(r,c),w(r,f,c)},p(r,[c]){c&2&&s!==(s=r[1].description+"")&&le(t,s),i===(i=o(r))&&a?a.p(r,c):(a&&a.d(1),a=i&&i(r),a&&(a.c(),a.m(f.parentNode,f)))},i:B,o:B,d(r){r&&u(e),r&&u(n),a&&a.d(r),r&&u(f)}}}const tt=(l,e)=>l.votes.length>e.votes.length?-1:1;function Pt(l,e,s){let t,n,f=B,o=()=>(f(),f=Je(c,E=>s(3,n=E)),c),i;re(l,He,E=>s(8,i=E)),l.$$.on_destroy.push(()=>f());const a=dt();let{question:r}=e;const c=Ke("active-question",{qid:"",aid:"",value:"",vote:""});o();let{textValue:_}=e;function d(E){E!==n.qid&&r.state==="open"&&(G(c,n.qid=r.id,n),G(c,n.aid=E,n),a("answer",E))}function h(E){a("text",E)}function A(E){G(c,n.vote=E,n),a("vote",E)}function M(E){const j=t.find(V=>V.id===E);return j?j==null?void 0:j.name:""}const I=E=>d(E.id);function O(){_=this.value,s(0,_)}const q=()=>h(_),R=E=>A(E.id);return l.$$set=E=>{"question"in E&&s(1,r=E.question),"textValue"in E&&s(0,_=E.textValue)},l.$$.update=()=>{l.$$.dirty&256&&(t=i.users),l.$$.dirty&10&&(r==null||r.correctAnswer,n.aid)},[_,r,c,n,d,h,A,M,i,I,O,q,R]}class Ct extends ye{constructor(e){super();qe(this,e,Pt,Nt,Ae,{question:1,questionStore:2,textValue:0})}get questionStore(){return this.$$.ctx[2]}}function Dt(l){let e;return{c(){e=b("canvas"),this.h()},l(s){e=g(s,"CANVAS",{width:!0,height:!0,style:!0,class:!0}),k(e).forEach(u),this.h()},h(){p(e,"width",l[0]),p(e,"height",l[1]),p(e,"style","transform: translateZ(var(--z))"),p(e,"class","svelte-m0dfni")},m(s,t){w(s,e,t),l[5](e)},p(s,[t]){t&1&&p(e,"width",s[0]),t&2&&p(e,"height",s[1])},i:B,o:B,d(s){s&&u(e),l[5](null)}}}const pe=9;function It(l,e,s){let t,n;re(l,Le,q=>s(9,n=q));let{width:f=200}=e,{height:o=400}=e,{amount:i=200}=e,a,r;function c(q,R){t.splice(q,R.length,...R)}function _(q){return t.slice(q,q+pe)}const d=()=>Math.random();function h(){console.log("INit Particles");for(let q=0;q<t.length-pe;q+=pe){const R=f/2,E=o-10,j=5+Math.random()*7,V=j/12,W=(d()-.5)*(V*V)*5,J=1+Math.random()*5,F=1+Math.random()*5,U=Math.random(),y=Math.random()*.1,z=.1+Math.random()*.4;c(q,[R,E,W,j,J,F,U,y,z])}A||(A=!0,I())}let A=!1;function M(){h()}function I(){if(A)requestAnimationFrame(I);else{r.clearRect(0,0,f,o);return}r.clearRect(0,0,f,o);const q=n.x;n.y;let R=0;for(let E=0;E<i;E++){let[j,V,W,J,F,U,y,z,Q]=_(E*pe);if(j===0)continue;R++;const me=Q+y/10%.5;r.fillStyle=`hsl(34, 100%, ${me*100}%, 1)`,r.save(),r.translate(j+F/2,V+U/2),r.rotate(y),r.fillRect(-F/2,-U/2,F,U),r.restore(),j-=W-q,V-=J-.2,J>-2&&(J-=.2),y+=z,V>o&&(j=0),c(E*pe,[j,V,W,J,F,U,y,z])}A=R>1}pt(()=>{r=a.getContext("2d")});function O(q){oe[q?"unshift":"push"](()=>{a=q,s(2,a)})}return l.$$set=q=>{"width"in q&&s(0,f=q.width),"height"in q&&s(1,o=q.height),"amount"in q&&s(3,i=q.amount)},l.$$.update=()=>{l.$$.dirty&8&&(t=new Array(i*pe).fill(null))},[f,o,a,i,M,O]}class st extends ye{constructor(e){super();qe(this,e,It,Dt,Ae,{width:0,height:1,amount:3,show:4})}get show(){return this.$$.ctx[4]}}const jt=l=>({}),nt=l=>({}),Tt=l=>({}),lt=l=>({}),zt=l=>({}),ot=l=>({});function Rt(l){let e,s;return{c(){e=b("p"),s=C("No Frontside")},l(t){e=g(t,"P",{});var n=k(e);s=D(n,"No Frontside"),n.forEach(u)},m(t,n){w(t,e,n),m(e,s)},d(t){t&&u(e)}}}function $t(l){let e;return{c(){e=b("p")},l(s){e=g(s,"P",{}),k(e).forEach(u)},m(s,t){w(s,e,t)},d(s){s&&u(e)}}}function Mt(l){let e;return{c(){e=b("span")},l(s){e=g(s,"SPAN",{}),k(e).forEach(u)},m(s,t){w(s,e,t)},d(s){s&&u(e)}}}function Ft(l){let e,s,t,n,f,o,i,a,r,c,_,d,h,A,M,I,O,q,R,E,j,V,W,J,F,U,y,z,Q,me,se,Ve,ne,ve,Se,Ne,H;function ut(v){l[8](v)}let Be={amount:200};l[1]!==void 0&&(Be.show=l[1]),s=new st({props:Be}),oe.push(()=>fe(s,"show",ut));function _t(v){l[9](v)}let Oe={amount:50};l[2]!==void 0&&(Oe.show=l[2]),i=new st({props:Oe}),oe.push(()=>fe(i,"show",_t));const Pe=l[7].front,be=je(Pe,l,l[6],ot),K=be||Rt(),Ce=l[7].back,ge=je(Ce,l,l[6],lt),L=ge||$t(),De=l[7].info,ke=je(De,l,l[6],nt),X=ke||Mt();return{c(){e=b("div"),t=b("div"),ce(s.$$.fragment),o=N(),a=b("div"),ce(i.$$.fragment),_=N(),d=b("div"),h=b("div"),A=b("span"),M=N(),I=b("span"),O=N(),q=b("span"),R=N(),E=b("span"),j=N(),V=b("div"),W=b("span"),J=N(),F=b("span"),U=N(),y=b("span"),z=N(),Q=b("span"),me=N(),se=b("div"),K&&K.c(),Ve=N(),ne=b("div"),L&&L.c(),Se=N(),X&&X.c(),this.h()},l(v){e=g(v,"DIV",{class:!0});var S=k(e);t=g(S,"DIV",{style:!0});var we=k(t);ue(s.$$.fragment,we),o=P(S),a=g(S,"DIV",{style:!0});var Ee=k(a);ue(i.$$.fragment,Ee),_=P(S),d=g(S,"DIV",{class:!0,style:!0});var Y=k(d);h=g(Y,"DIV",{class:!0});var x=k(h);A=g(x,"SPAN",{class:!0}),k(A).forEach(u),M=P(x),I=g(x,"SPAN",{class:!0}),k(I).forEach(u),O=P(x),q=g(x,"SPAN",{class:!0}),k(q).forEach(u),R=P(x),E=g(x,"SPAN",{class:!0}),k(E).forEach(u),x.forEach(u),j=P(Y),V=g(Y,"DIV",{class:!0});var ee=k(V);W=g(ee,"SPAN",{class:!0}),k(W).forEach(u),J=P(ee),F=g(ee,"SPAN",{class:!0}),k(F).forEach(u),U=P(ee),y=g(ee,"SPAN",{class:!0}),k(y).forEach(u),z=P(ee),Q=g(ee,"SPAN",{class:!0}),k(Q).forEach(u),ee.forEach(u),me=P(Y),se=g(Y,"DIV",{class:!0,id:!0});var Qe=k(se);K&&K.l(Qe),Qe.forEach(u),Ve=P(Y),ne=g(Y,"DIV",{class:!0,id:!0});var We=k(ne);L&&L.l(We),We.forEach(u),Y.forEach(u),Se=P(S),X&&X.l(S),S.forEach(u),this.h()},h(){ie(t,"display","contents"),ie(t,"--opacity","0.4"),ie(t,"--z",f=l[0]?"-30px":"30px"),ie(a,"display","contents"),ie(a,"--z",c=l[0]?"-70px":"70px"),p(A,"class","corner tr svelte-14m8728"),p(I,"class","corner tl svelte-14m8728"),p(q,"class","corner br svelte-14m8728"),p(E,"class","corner bl svelte-14m8728"),p(h,"class","corner-wrapper svelte-14m8728"),p(W,"class","corner tr svelte-14m8728"),p(F,"class","corner tl svelte-14m8728"),p(y,"class","corner br svelte-14m8728"),p(Q,"class","corner bl svelte-14m8728"),p(V,"class","corner-wrapper back svelte-14m8728"),p(se,"class","card-face svelte-14m8728"),p(se,"id","front"),p(ne,"class","card-face svelte-14m8728"),p(ne,"id","back"),p(d,"class","card svelte-14m8728"),p(d,"style",ve=`
		--x:${l[4].x*l[3]}deg;
		--y:${l[4].y*-l[3]}deg;
		`),p(e,"class","scene svelte-14m8728"),Z(e,"flipped",l[0])},m(v,S){w(v,e,S),m(e,t),_e(s,t,null),m(e,o),m(e,a),_e(i,a,null),m(e,_),m(e,d),m(d,h),m(h,A),m(h,M),m(h,I),m(h,O),m(h,q),m(h,R),m(h,E),m(d,j),m(d,V),m(V,W),m(V,J),m(V,F),m(V,U),m(V,y),m(V,z),m(V,Q),m(d,me),m(d,se),K&&K.m(se,null),m(d,Ve),m(d,ne),L&&L.m(ne,null),m(e,Se),X&&X.m(e,null),H=!0},p(v,[S]){S&1&&f!==(f=v[0]?"-30px":"30px")&&ie(t,"--z",f);const we={};!n&&S&2&&(n=!0,we.show=v[1],de(()=>n=!1)),s.$set(we),S&1&&c!==(c=v[0]?"-70px":"70px")&&ie(a,"--z",c);const Ee={};!r&&S&4&&(r=!0,Ee.show=v[2],de(()=>r=!1)),i.$set(Ee),be&&be.p&&(!H||S&64)&&Te(be,Pe,v,v[6],H?Re(Pe,v[6],S,zt):ze(v[6]),ot),ge&&ge.p&&(!H||S&64)&&Te(ge,Ce,v,v[6],H?Re(Ce,v[6],S,Tt):ze(v[6]),lt),(!H||S&24&&ve!==(ve=`
		--x:${v[4].x*v[3]}deg;
		--y:${v[4].y*-v[3]}deg;
		`))&&p(d,"style",ve),ke&&ke.p&&(!H||S&64)&&Te(ke,De,v,v[6],H?Re(De,v[6],S,jt):ze(v[6]),nt),S&1&&Z(e,"flipped",v[0])},i(v){H||(T(s.$$.fragment,v),T(i.$$.fragment,v),T(K,v),T(L,v),T(X,v),Ne||mt(()=>{Ne=vt(e,bt,{}),Ne.start()}),H=!0)},o(v){$(s.$$.fragment,v),$(i.$$.fragment,v),$(K,v),$(L,v),$(X,v),H=!1},d(v){v&&u(e),he(s),he(i),K&&K.d(v),L&&L.d(v),X&&X.d(v)}}}function Bt(l,e,s){let t,n;re(l,Le,A=>s(4,n=A));let{$$slots:f={},$$scope:o}=e,{flipped:i=!1}=e,a,r,c;const _=()=>{a==null||a(),r==null||r(),c==null||c()};function d(A){a=A,s(1,a)}function h(A){c=A,s(2,c)}return l.$$set=A=>{"flipped"in A&&s(0,i=A.flipped),"$$scope"in A&&s(6,o=A.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s(3,t=i?1:10)},[i,a,c,t,n,_,o,f,d,h]}class it extends ye{constructor(e){super();qe(this,e,Bt,Ft,Ae,{flipped:0,showConfetti:5})}get showConfetti(){return this.$$.ctx[5]}}function Ot(l){let e,s;return{c(){e=b("p"),s=C("Quiz Already started")},l(t){e=g(t,"P",{});var n=k(e);s=D(n,"Quiz Already started"),n.forEach(u)},m(t,n){w(t,e,n),m(e,s)},p:B,i:B,o:B,d(t){t&&u(e)}}}function Qt(l){let e,s;return{c(){e=b("p"),s=C("Results")},l(t){e=g(t,"P",{});var n=k(e);s=D(n,"Results"),n.forEach(u)},m(t,n){w(t,e,n),m(e,s)},p:B,i:B,o:B,d(t){t&&u(e)}}}function Wt(l){let e,s,t;function n(o){l[21](o)}let f={flipped:l[1]!=="closed"&&l[5]&&l[1]!=="voting-open",$$slots:{info:[Kt],back:[Ht],front:[Ut]},$$scope:{ctx:l}};return l[0]!==void 0&&(f.showConfetti=l[0]),e=new it({props:f}),oe.push(()=>fe(e,"showConfetti",n)),{c(){ce(e.$$.fragment)},l(o){ue(e.$$.fragment,o)},m(o,i){_e(e,o,i),t=!0},p(o,i){const a={};i&34&&(a.flipped=o[1]!=="closed"&&o[5]&&o[1]!=="voting-open"),i&8388670&&(a.$$scope={dirty:i,ctx:o}),!s&&i&1&&(s=!0,a.showConfetti=o[0],de(()=>s=!1)),e.$set(a)},i(o){t||(T(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){he(e,o)}}}function Jt(l){let e,s,t;function n(o){l[18](o)}let f={flipped:l[6],$$slots:{info:[Gt],front:[Zt]},$$scope:{ctx:l}};return l[0]!==void 0&&(f.showConfetti=l[0]),e=new it({props:f}),oe.push(()=>fe(e,"showConfetti",n)),{c(){ce(e.$$.fragment)},l(o){ue(e.$$.fragment,o)},m(o,i){_e(e,o,i),t=!0},p(o,i){const a={};i&64&&(a.flipped=o[6]),i&8388932&&(a.$$scope={dirty:i,ctx:o}),!s&&i&1&&(s=!0,a.showConfetti=o[0],de(()=>s=!1)),e.$set(a)},i(o){t||(T(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){he(e,o)}}}function Ut(l){let e,s,t,n,f;function o(r){l[19](r)}function i(r){l[20](r)}let a={question:l[2].activeQuestion};return l[4]!==void 0&&(a.textValue=l[4]),l[3]!==void 0&&(a.questionStore=l[3]),s=new Ct({props:a}),oe.push(()=>fe(s,"textValue",o)),oe.push(()=>fe(s,"questionStore",i)),s.$on("vote",l[12]),s.$on("answer",l[11]),s.$on("text",l[11]),{c(){e=b("div"),ce(s.$$.fragment),this.h()},l(r){e=g(r,"DIV",{slot:!0,class:!0});var c=k(e);ue(s.$$.fragment,c),c.forEach(u),this.h()},h(){p(e,"slot","front"),p(e,"class","svelte-1jxik5q")},m(r,c){w(r,e,c),_e(s,e,null),f=!0},p(r,c){const _={};c&4&&(_.question=r[2].activeQuestion),!t&&c&16&&(t=!0,_.textValue=r[4],de(()=>t=!1)),!n&&c&8&&(n=!0,_.questionStore=r[3],de(()=>n=!1)),s.$set(_)},i(r){f||(T(s.$$.fragment,r),f=!0)},o(r){$(s.$$.fragment,r),f=!1},d(r){r&&u(e),he(s)}}}function rt(l){let e,s;return{c(){e=b("p"),s=C("Vote for the best answer")},l(t){e=g(t,"P",{});var n=k(e);s=D(n,"Vote for the best answer"),n.forEach(u)},m(t,n){w(t,e,n),m(e,s)},d(t){t&&u(e)}}}function Ht(l){let e,s=l[1]==="voting-open"&&rt();return{c(){e=b("div"),s&&s.c(),this.h()},l(t){e=g(t,"DIV",{slot:!0});var n=k(e);s&&s.l(n),n.forEach(u),this.h()},h(){p(e,"slot","back")},m(t,n){w(t,e,n),s&&s.m(e,null)},p(t,n){t[1]==="voting-open"?s||(s=rt(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&u(e),s&&s.d()}}}function at(l){let e,s;return{c(){e=b("p"),s=C("Warte bis die Frage beendet wird.")},l(t){e=g(t,"P",{});var n=k(e);s=D(n,"Warte bis die Frage beendet wird."),n.forEach(u)},m(t,n){w(t,e,n),m(e,s)},d(t){t&&u(e)}}}function Kt(l){let e,s=l[5]&&l[1]!=="closed"&&l[1]!=="voting-open"&&at();return{c(){e=b("div"),s&&s.c(),this.h()},l(t){e=g(t,"DIV",{slot:!0});var n=k(e);s&&s.l(n),n.forEach(u),this.h()},h(){p(e,"slot","info")},m(t,n){w(t,e,n),s&&s.m(e,null)},p(t,n){t[5]&&t[1]!=="closed"&&t[1]!=="voting-open"?s||(s=at(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&u(e),s&&s.d()}}}function Lt(l){let e,s,t,n;return{c(){e=b("button"),s=C("Join the quiz")},l(f){e=g(f,"BUTTON",{});var o=k(e);s=D(o,"Join the quiz"),o.forEach(u)},m(f,o){w(f,e,o),m(e,s),t||(n=ae(e,"click",l[10]),t=!0)},p:B,d(f){f&&u(e),t=!1,n()}}}function Xt(l){let e,s;return{c(){e=b("a"),s=C("Need to input your name"),this.h()},l(t){e=g(t,"A",{href:!0,class:!0});var n=k(e);s=D(n,"Need to input your name"),n.forEach(u),this.h()},h(){p(e,"href","/"),p(e,"class","svelte-1jxik5q")},m(t,n){w(t,e,n),m(e,s)},p:B,d(t){t&&u(e)}}}function Zt(l){let e,s,t,n;function f(a,r){return!a[8].name||!a[8].house?Xt:Lt}let o=f(l),i=o(l);return{c(){e=b("div"),s=b("h1"),t=C("Registration"),n=N(),i.c(),this.h()},l(a){e=g(a,"DIV",{slot:!0,class:!0});var r=k(e);s=g(r,"H1",{});var c=k(s);t=D(c,"Registration"),c.forEach(u),n=P(r),i.l(r),r.forEach(u),this.h()},h(){p(e,"slot","front"),p(e,"class","svelte-1jxik5q")},m(a,r){w(a,e,r),m(e,s),m(s,t),m(e,n),i.m(e,null)},p(a,r){o===(o=f(a))&&i?i.p(a,r):(i.d(1),i=o(a),i&&(i.c(),i.m(e,null)))},d(a){a&&u(e),i.d()}}}function ft(l){let e,s,t,n,f,o=l[2].startsAt&&ct(l);return{c(){e=b("p"),s=C("Warte bis das Quiz beginnt"),t=N(),o&&o.c(),n=te()},l(i){e=g(i,"P",{});var a=k(e);s=D(a,"Warte bis das Quiz beginnt"),a.forEach(u),t=P(i),o&&o.l(i),n=te()},m(i,a){w(i,e,a),m(e,s),w(i,t,a),o&&o.m(i,a),w(i,n,a),f=!0},p(i,a){i[2].startsAt?o?(o.p(i,a),a&4&&T(o,1)):(o=ct(i),o.c(),T(o,1),o.m(n.parentNode,n)):o&&(Me(),$(o,1,1,()=>{o=null}),$e())},i(i){f||(T(o),f=!0)},o(i){$(o),f=!1},d(i){i&&u(e),i&&u(t),o&&o.d(i),i&&u(n)}}}function ct(l){let e,s;return e=new Et({props:{endsAt:l[2].startsAt}}),{c(){ce(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,n){_e(e,t,n),s=!0},p(t,n){const f={};n&4&&(f.endsAt=t[2].startsAt),e.$set(f)},i(t){s||(T(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){he(e,t)}}}function Gt(l){let e,s,t=l[6]&&ft(l);return{c(){e=b("div"),t&&t.c(),this.h()},l(n){e=g(n,"DIV",{slot:!0,id:!0,class:!0});var f=k(e);t&&t.l(f),f.forEach(u),this.h()},h(){p(e,"slot","info"),p(e,"id","registration-success"),p(e,"class","svelte-1jxik5q")},m(n,f){w(n,e,f),t&&t.m(e,null),s=!0},p(n,f){n[6]?t?(t.p(n,f),f&64&&T(t,1)):(t=ft(n),t.c(),T(t,1),t.m(e,null)):t&&(Me(),$(t,1,1,()=>{t=null}),$e())},i(n){s||(T(t),s=!0)},o(n){$(t),s=!1},d(n){n&&u(e),t&&t.d()}}}function Yt(l){let e,s,t,n,f,o,i;const a=[Jt,Wt,Qt,Ot],r=[];function c(_,d){var h,A;return _[7]==="registration"?0:_[7]==="running"&&((A=(h=_[2])==null?void 0:h.activeQuestion)==null?void 0:A.id)&&_[6]?1:_[7]==="results"&&_[6]?2:3}return s=c(l),t=r[s]=a[s](l),{c(){e=N(),t.c(),n=te(),this.h()},l(_){gt('[data-svelte="svelte-aqh7sr"]',document.head).forEach(u),e=P(_),t.l(_),n=te(),this.h()},h(){document.title="Dungeon Quiz"},m(_,d){w(_,e,d),r[s].m(_,d),w(_,n,d),f=!0,o||(i=ae(window,"keydown",l[13]),o=!0)},p(_,[d]){let h=s;s=c(_),s===h?r[s].p(_,d):(Me(),$(r[h],1,1,()=>{r[h]=null}),$e(),t=r[s],t?t.p(_,d):(t=r[s]=a[s](_),t.c()),T(t,1),t.m(n.parentNode,n))},i(_){f||(T(t),f=!0)},o(_){$(t),f=!1},d(_){_&&u(e),r[s].d(_),_&&u(n),o=!1,i()}}}function xt(l,e,s){let t,n,f,o,i,a,r,c,_=B,d=()=>(_(),_=Je(I,y=>s(16,c=y)),I),h,A;re(l,He,y=>s(2,r=y)),re(l,kt,y=>s(8,A=y)),l.$$.on_destroy.push(()=>_());let M,I;const O=Ke("quiz-user-data",{id:"",qid:"",token:""});re(l,O,y=>s(17,h=y));let q;async function R(){const z=await(await Fe("api/quiz/register",{name:A.name,house:A.house})).json(),Q=wt(z.token);G(O,h.token=z.token,h),G(O,h.id=Q.id,h),G(O,h.qid=Q.qid,h)}async function E({detail:y}){const z=await Fe("api/quiz/answer",y,h.token);if(!z.ok)return;const Q=await z.json();G(I,c.qid=n.id,c),G(I,c.value=y,c),n.type==="voting"&&Q.id&&G(I,c.aid=Q.id,c)}async function j({detail:y}){const z=await Fe("api/quiz/vote",y,h.token);console.log(await z.json())}function V({key:y}){y==="L"&&console.log(c,r)}function W(y){M=y,s(0,M)}function J(y){q=y,s(4,q)}function F(y){I=y,d(s(3,I))}function U(y){M=y,s(0,M)}return l.$$.update=()=>{l.$$.dirty&4&&s(7,t=r==null?void 0:r.state),l.$$.dirty&4&&s(14,n=r==null?void 0:r.activeQuestion),l.$$.dirty&16384&&s(1,f=n==null?void 0:n.state),l.$$.dirty&4&&(r==null||r.users),l.$$.dirty&131076&&s(6,o=(h==null?void 0:h.id)&&(h==null?void 0:h.qid)===(r==null?void 0:r.id)),l.$$.dirty&81920&&s(5,i=(n==null?void 0:n.type)==="multiple"?(c==null?void 0:c.qid)===(n==null?void 0:n.id):(c==null?void 0:c.qid)===(n==null?void 0:n.id)&&(c==null?void 0:c.value)),l.$$.dirty&81920&&s(15,a=(n==null?void 0:n.correctAnswer)===(c==null?void 0:c.aid)),l.$$.dirty&32771&&f==="closed"&&a&&setTimeout(()=>{M()},1e3)},[M,f,r,I,q,i,o,t,A,O,R,E,j,V,n,a,c,h,W,J,F,U]}class is extends ye{constructor(e){super();qe(this,e,xt,Yt,Ae,{})}}export{is as default};
