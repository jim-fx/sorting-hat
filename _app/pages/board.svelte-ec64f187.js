var pt=Object.defineProperty,vt=Object.defineProperties;var gt=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var Qe=(r,e,t)=>e in r?pt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,We=(r,e)=>{for(var t in e||(e={}))$t.call(e,t)&&Qe(r,t,e[t]);if(Le)for(var t of Le(e))wt.call(e,t)&&Qe(r,t,e[t]);return r},Ze=(r,e)=>vt(r,gt(e));import{S as se,i as le,s as re,ak as kt,e as E,j as S,c as y,a as b,m as N,d as m,b as v,a6 as be,f as q,o as U,x as I,u as H,v as L,t as P,g as j,G as _,h as T,X as Fe,Y as Xe,k as A,n as C,Z as Ye,T as fe,ac as ce,V as Ce,ad as Je,a7 as Ee,A as Ke,al as bt,D as ye,E as Ve,R as xe,r as ge,w as $e,ae as Be,l as he,am as Et}from"../chunks/vendor-4d1406ba.js";import{p as ze,g as yt,q as Vt}from"../chunks/index-5d576dff.js";import{c as Ie,g as et,a as zt}from"../chunks/index-d0b67739.js";import{H as ne}from"../chunks/houses-9a4fb946.js";import{C as Re,a as tt}from"../chunks/Confetti-6f158ebc.js";/* empty css                                                          */import{l as It}from"../chunks/helpers-ce805da6.js";import{T as Dt}from"../chunks/Timer-d5988874.js";const qt=!0;function Pt(r){let e,t,s=r[1].pts+"",l,i,n=(r[1].pts>1?"e":"")+"",o,a,f=r[1].name+"",p,u;return{c(){e=E("div"),t=E("h2"),l=P(s),i=P(" Punkt"),o=P(n),a=P(" | \xA0"),p=P(f),this.h()},l(h){e=y(h,"DIV",{class:!0,style:!0});var g=b(e);t=y(g,"H2",{class:!0});var c=b(t);l=j(c,s),i=j(c," Punkt"),o=j(c,n),a=j(c," | \xA0"),p=j(c,f),c.forEach(m),g.forEach(m),this.h()},h(){v(t,"class","svelte-3qtzgj"),v(e,"class","user svelte-3qtzgj"),v(e,"style",u=`--color: ${ne[r[1].house]}`)},m(h,g){q(h,e,g),_(e,t),_(t,l),_(t,i),_(t,o),_(t,a),_(t,p)},p(h,g){g&2&&s!==(s=h[1].pts+"")&&T(l,s),g&2&&n!==(n=(h[1].pts>1?"e":"")+"")&&T(o,n),g&2&&f!==(f=h[1].name+"")&&T(p,f),g&2&&u!==(u=`--color: ${ne[h[1].house]}`)&&v(e,"style",u)},d(h){h&&m(e)}}}function jt(r){let e,t,s;return t=new kt({props:{list:r[0],key:"name",$$slots:{default:[Pt,({item:l})=>({1:l}),({item:l})=>l?2:0]},$$scope:{ctx:r}}}),{c(){e=E("div"),S(t.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var i=b(e);N(t.$$.fragment,i),i.forEach(m),this.h()},h(){v(e,"class","leader-board svelte-3qtzgj"),be(e,"visible",!!r[0].length)},m(l,i){q(l,e,i),U(t,e,null),s=!0},p(l,[i]){const n={};i&1&&(n.list=l[0]),i&6&&(n.$$scope={dirty:i,ctx:l}),t.$set(n),i&1&&be(e,"visible",!!l[0].length)},i(l){s||(I(t.$$.fragment,l),s=!0)},o(l){H(t.$$.fragment,l),s=!1},d(l){l&&m(e),L(t)}}}function Ht(r,e,t){let{users:s}=e;return r.$$set=l=>{"users"in l&&t(0,s=l.users)},[s]}class At extends se{constructor(e){super();le(this,e,Ht,jt,re,{users:0})}}function Ct(r){var Te,Oe;let e,t,s,l,i,n,o,a=Ie(r[6].name)+"",f,p,u,h,g,c,w=r[6].pts+"",k,Y,d,$,V,G,Z,O,B,R,M,Q,J,ee=((Te=r[5])==null?void 0:Te.name)+"",K,ie,F,_e=((Oe=r[0])==null?void 0:Oe.pts)+"",we,De,qe,ae,x,Pe,je,ke,He,X;h=new Re({props:{house:r[6].name}});function dt(z){r[9](z)}let Me={width:r[3],height:r[4],repeat:!0};r[1]!==void 0&&(Me.show=r[1]),V=new tt({props:Me}),Fe.push(()=>Xe(V,"show",dt));function mt(z){r[10](z)}let Ge={width:r[3],height:r[4],repeat:!0};return r[2]!==void 0&&(Ge.show=r[2]),x=new tt({props:Ge}),Fe.push(()=>Xe(x,"show",mt)),{c(){e=E("div"),t=E("h1"),s=P("Und die Gewinner sind:"),l=A(),i=E("div"),n=E("div"),o=E("h2"),f=P(a),p=A(),u=E("div"),S(h.$$.fragment),g=A(),c=E("h3"),k=P(w),Y=P(" Punkte"),d=A(),$=E("div"),S(V.$$.fragment),R=A(),M=E("div"),Q=E("div"),J=E("h2"),K=P(ee),ie=A(),F=E("h3"),we=P(_e),De=P(" Punkte"),qe=A(),ae=E("div"),S(x.$$.fragment),this.h()},l(z){e=y(z,"DIV",{class:!0});var D=b(e);t=y(D,"H1",{class:!0});var de=b(t);s=j(de,"Und die Gewinner sind:"),de.forEach(m),l=C(D),i=y(D,"DIV",{class:!0,style:!0});var te=b(i);n=y(te,"DIV",{});var W=b(n);o=y(W,"H2",{class:!0});var me=b(o);f=j(me,a),me.forEach(m),p=C(W),u=y(W,"DIV",{class:!0});var pe=b(u);N(h.$$.fragment,pe),pe.forEach(m),g=C(W),c=y(W,"H3",{class:!0});var oe=b(c);k=j(oe,w),Y=j(oe," Punkte"),oe.forEach(m),d=C(W),$=y(W,"DIV",{class:!0});var ve=b($);N(V.$$.fragment,ve),ve.forEach(m),W.forEach(m),te.forEach(m),R=C(D),M=y(D,"DIV",{class:!0,style:!0});var Se=b(M);Q=y(Se,"DIV",{});var ue=b(Q);J=y(ue,"H2",{class:!0});var Ne=b(J);K=j(Ne,ee),Ne.forEach(m),ie=C(ue),F=y(ue,"H3",{class:!0});var Ae=b(F);we=j(Ae,_e),De=j(Ae," Punkte"),Ae.forEach(m),qe=C(ue),ae=y(ue,"DIV",{class:!0});var Ue=b(ae);N(x.$$.fragment,Ue),Ue.forEach(m),ue.forEach(m),Se.forEach(m),D.forEach(m),this.h()},h(){var z,D;v(t,"class","svelte-11m86oy"),v(o,"class","svelte-11m86oy"),v(u,"class","crest svelte-11m86oy"),v(c,"class","svelte-11m86oy"),v($,"class","confetti-wrapper svelte-11m86oy"),v(i,"class","left svelte-11m86oy"),v(i,"style",O=`background-color: ${ne[r[6].name]}`),v(J,"class","svelte-11m86oy"),v(F,"class","svelte-11m86oy"),v(ae,"class","confetti-wrapper svelte-11m86oy"),v(M,"class","right svelte-11m86oy"),v(M,"style",ke=`background-color:  ${(D=ne)==null?void 0:D[(z=r[5])==null?void 0:z.house]}`),v(e,"class","wrapper svelte-11m86oy")},m(z,D){q(z,e,D),_(e,t),_(t,s),_(e,l),_(e,i),_(i,n),_(n,o),_(o,f),_(n,p),_(n,u),U(h,u,null),_(n,g),_(n,c),_(c,k),_(c,Y),_(n,d),_(n,$),U(V,$,null),_(e,R),_(e,M),_(M,Q),_(Q,J),_(J,K),_(Q,ie),_(Q,F),_(F,we),_(F,De),_(Q,qe),_(Q,ae),U(x,ae,null),X=!0},p(z,[D]){var me,pe,oe,ve;(!X||D&64)&&a!==(a=Ie(z[6].name)+"")&&T(f,a);const de={};D&64&&(de.house=z[6].name),h.$set(de),(!X||D&64)&&w!==(w=z[6].pts+"")&&T(k,w);const te={};D&8&&(te.width=z[3]),D&16&&(te.height=z[4]),!G&&D&2&&(G=!0,te.show=z[1],Ye(()=>G=!1)),V.$set(te),(!X||D&64&&O!==(O=`background-color: ${ne[z[6].name]}`))&&v(i,"style",O),(!X||D&32)&&ee!==(ee=((me=z[5])==null?void 0:me.name)+"")&&T(K,ee),(!X||D&1)&&_e!==(_e=((pe=z[0])==null?void 0:pe.pts)+"")&&T(we,_e);const W={};D&8&&(W.width=z[3]),D&16&&(W.height=z[4]),!Pe&&D&4&&(Pe=!0,W.show=z[2],Ye(()=>Pe=!1)),x.$set(W),(!X||D&32&&ke!==(ke=`background-color:  ${(ve=ne)==null?void 0:ve[(oe=z[5])==null?void 0:oe.house]}`))&&v(M,"style",ke)},i(z){X||(I(h.$$.fragment,z),I(V.$$.fragment,z),Z||fe(()=>{Z=ce(n,Ce,{delay:8500,duration:1e3}),Z.start()}),B||fe(()=>{B=ce(i,Je,{delay:8e3,duration:2e3}),B.start()}),I(x.$$.fragment,z),je||fe(()=>{je=ce(Q,Ce,{delay:4500,duration:1e3}),je.start()}),He||fe(()=>{He=ce(M,Je,{delay:4e3,duration:2e3}),He.start()}),X=!0)},o(z){H(h.$$.fragment,z),H(V.$$.fragment,z),H(x.$$.fragment,z),X=!1},d(z){z&&m(e),L(h),L(V),L(x)}}}function Bt(r,e,t){let s,l,i,n;Ee(r,ze,c=>t(8,n=c));let{quiz:o}=e,a,f,p=500,u=500;Ke(async()=>{t(4,u=window.innerHeight),t(3,p=window.innerWidth/2);const c=await et("api/quiz/points");bt(ze,n=await c.json(),n),setTimeout(()=>{f==null||f()},5e3),setTimeout(()=>{a==null||a()},9e3)});function h(c){a=c,t(1,a)}function g(c){f=c,t(2,f)}return r.$$set=c=>{"quiz"in c&&t(7,o=c.quiz)},r.$$.update=()=>{r.$$.dirty&256&&t(6,s=Object.entries(n.house).map(([c,w])=>({name:c,pts:w})).sort((c,w)=>c.pts>w.pts?-1:1)[0]),r.$$.dirty&256&&t(0,l=Object.entries(n.users).map(([c,w])=>({id:c,pts:w})).sort((c,w)=>c.pts>w.pts?-1:1)[0]),r.$$.dirty&129&&t(5,i=l&&o.users.find(c=>c.id===l.id))},[l,a,f,p,u,i,s,o,n,h,g]}class Rt extends se{constructor(e){super();le(this,e,Bt,Ct,re,{quiz:7})}}function Mt(r){let e,t,s,l=(r[0].pts||0)+"",i,n,o,a=Ie(r[0].name)+"",f,p,u,h,g,c,w,k,Y,d,$,V,G,Z,O;return h=new Re({props:{house:r[0].name}}),{c(){e=E("div"),t=E("div"),s=E("h2"),i=P(l),n=A(),o=E("p"),f=P(a),p=A(),u=E("div"),S(h.$$.fragment),g=A(),c=E("div"),w=ye("svg"),k=ye("path"),Y=A(),d=ye("svg"),$=ye("path"),V=A(),G=E("img"),this.h()},l(B){e=y(B,"DIV",{class:!0});var R=b(e);t=y(R,"DIV",{class:!0});var M=b(t);s=y(M,"H2",{class:!0});var Q=b(s);i=j(Q,l),Q.forEach(m),n=C(M),o=y(M,"P",{class:!0});var J=b(o);f=j(J,a),J.forEach(m),p=C(M),u=y(M,"DIV",{class:!0});var ee=b(u);N(h.$$.fragment,ee),ee.forEach(m),M.forEach(m),g=C(R),c=y(R,"DIV",{class:!0});var K=b(c);w=Ve(K,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0,fill:!0,xmlns:!0});var ie=b(w);k=Ve(ie,"path",{d:!0,fill:!0}),b(k).forEach(m),ie.forEach(m),Y=C(K),d=Ve(K,"svg",{class:!0,viewBox:!0,fill:!0,xmlns:!0});var F=b(d);$=Ve(F,"path",{opacity:!0,d:!0,fill:!0}),b($).forEach(m),F.forEach(m),K.forEach(m),V=C(R),G=y(R,"IMG",{class:!0,src:!0,alt:!0}),R.forEach(m),this.h()},h(){v(s,"class","svelte-1skask8"),v(o,"class","svelte-1skask8"),v(u,"class","crest svelte-1skask8"),v(t,"class","top svelte-1skask8"),v(k,"d",r[1]),v(k,"fill",r[2]),v(w,"class","color-bottom width svelte-1skask8"),v(w,"viewBox","0 0 100 306"),v(w,"preserveAspectRatio","none"),v(w,"fill","none"),v(w,"xmlns","http://www.w3.org/2000/svg"),v($,"opacity","0.75"),v($,"d","M 1 10 L 1 77 C 20 77 29 97 45 97 C 60 97 71 77 90 77 V 10 C 90 6 84 0 45 0 C 7 0 1 7 1 10 Z"),v($,"fill",r[2]),v(d,"class","color-top width svelte-1skask8"),v(d,"viewBox","0 0 91 98"),v(d,"fill","none"),v(d,"xmlns","http://www.w3.org/2000/svg"),v(c,"class","bottom-container"),v(G,"class","glass svelte-1skask8"),xe(G.src,Z="/sorting-glass.webp")||v(G,"src",Z),v(G,"alt",""),v(e,"class","container svelte-1skask8")},m(B,R){q(B,e,R),_(e,t),_(t,s),_(s,i),_(t,n),_(t,o),_(o,f),_(t,p),_(t,u),U(h,u,null),_(e,g),_(e,c),_(c,w),_(w,k),_(c,Y),_(c,d),_(d,$),_(e,V),_(e,G),O=!0},p(B,[R]){(!O||R&1)&&l!==(l=(B[0].pts||0)+"")&&T(i,l),(!O||R&1)&&a!==(a=Ie(B[0].name)+"")&&T(f,a);const M={};R&1&&(M.house=B[0].name),h.$set(M),(!O||R&2)&&v(k,"d",B[1]),(!O||R&4)&&v(k,"fill",B[2]),(!O||R&4)&&v($,"fill",B[2])},i(B){O||(I(h.$$.fragment,B),O=!0)},o(B){H(h.$$.fragment,B),O=!1},d(B){B&&m(e),L(h)}}}let Gt=120;function st(r){return Math.min(Math.max(r,0),1)}function Tt(r,e,t){let s,l,i,n,{house:o}=e,{maxPoints:a}=e,f=0,p=0,u=!1,h=0;function g(){h++;const c=zt(h/Gt);Math.abs(f-p)>.01?requestAnimationFrame(g):(t(4,f=p),t(6,u=!1)),t(4,f=st(It(f,p,1-c)))}return r.$$set=c=>{"house"in c&&t(0,o=c.house),"maxPoints"in c&&t(3,a=c.maxPoints)},r.$$.update=()=>{if(r.$$.dirty&1&&t(8,s=(o==null?void 0:o.pts)||0),r.$$.dirty&376&&(s||a)){let c=st(s/a);c!==p&&(console.log("Animate",f,c),t(5,p=c),h=0,u||g())}r.$$.dirty&1&&t(2,l=ne[o.name]),r.$$.dirty&16&&t(7,i=300-f*230),r.$$.dirty&128&&t(1,n=`M 0 270 
	V ${i+5} 
	C 30 ${i+5} 30 ${i} 50 ${i} 
	C 70 ${i} 70 ${i+5} 100 ${i+5} 
	V 270 
	C 100 290 80 300 50 300 
	C 20 300 0 290 0 270 
	Z`)},[o,n,l,a,f,p,u,i,s]}class Ot extends se{constructor(e){super();le(this,e,Tt,Mt,re,{house:0,maxPoints:3})}}function lt(r,e,t){const s=r.slice();return s[4]=e[t],s}function rt(r){let e,t,s,l;return t=new Ot({props:{house:r[4],maxPoints:r[1]}}),{c(){e=E("div"),S(t.$$.fragment),s=A(),this.h()},l(i){e=y(i,"DIV",{class:!0});var n=b(e);N(t.$$.fragment,n),s=C(n),n.forEach(m),this.h()},h(){v(e,"class","glass-wrapper svelte-1sp1i21")},m(i,n){q(i,e,n),U(t,e,null),_(e,s),l=!0},p(i,n){const o={};n&1&&(o.house=i[4]),n&2&&(o.maxPoints=i[1]),t.$set(o)},i(i){l||(I(t.$$.fragment,i),l=!0)},o(i){H(t.$$.fragment,i),l=!1},d(i){i&&m(e),L(t)}}}function St(r){let e,t,s=r[0].sort(nt),l=[];for(let n=0;n<s.length;n+=1)l[n]=rt(lt(r,s,n));const i=n=>H(l[n],1,1,()=>{l[n]=null});return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"DIV",{class:!0});var o=b(e);for(let a=0;a<l.length;a+=1)l[a].l(o);o.forEach(m),this.h()},h(){v(e,"class","house-wrapper svelte-1sp1i21")},m(n,o){q(n,e,o);for(let a=0;a<l.length;a+=1)l[a].m(e,null);t=!0},p(n,[o]){if(o&3){s=n[0].sort(nt);let a;for(a=0;a<s.length;a+=1){const f=lt(n,s,a);l[a]?(l[a].p(f,o),I(l[a],1)):(l[a]=rt(f),l[a].c(),I(l[a],1),l[a].m(e,null))}for(ge(),a=s.length;a<l.length;a+=1)i(a);$e()}},i(n){if(!t){for(let o=0;o<s.length;o+=1)I(l[o]);t=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)H(l[o]);t=!1},d(n){n&&m(e),Be(l,n)}}}const nt=(r,e)=>r.name>e.name?-1:1;function Nt(r,e,t){let s,l,i,{houses:n={}}=e;return r.$$set=o=>{"houses"in o&&t(2,n=o.houses)},r.$$.update=()=>{var o;r.$$.dirty&4&&t(0,s=Object.entries(n).map(([a,f])=>({name:a,pts:f}))),r.$$.dirty&1&&t(3,l=(s==null?void 0:s.sort((a,f)=>a.pts>f.pts?-1:1))||[]),r.$$.dirty&8&&t(1,i=Math.max(5,(o=l[0])==null?void 0:o.pts)||0)},[s,i,n,l]}class it extends se{constructor(e){super();le(this,e,Nt,St,re,{houses:2})}}function at(r,e,t){const s=r.slice();return s[9]=e[t],s}function ot(r){var p;let e,t=((p=r[2])==null?void 0:p.description)+"",s,l,i,n,o=!r[6]&&ut(r),a=r[3],f=[];for(let u=0;u<a.length;u+=1)f[u]=ft(at(r,a,u));return{c(){e=E("h1"),s=P(t),l=A(),o&&o.c(),i=A();for(let u=0;u<f.length;u+=1)f[u].c();n=he()},l(u){e=y(u,"H1",{});var h=b(e);s=j(h,t),h.forEach(m),l=C(u),o&&o.l(u),i=C(u);for(let g=0;g<f.length;g+=1)f[g].l(u);n=he()},m(u,h){q(u,e,h),_(e,s),q(u,l,h),o&&o.m(u,h),q(u,i,h);for(let g=0;g<f.length;g+=1)f[g].m(u,h);q(u,n,h)},p(u,h){var g;if(h&4&&t!==(t=((g=u[2])==null?void 0:g.description)+"")&&T(s,t),u[6]?o&&(o.d(1),o=null):o?o.p(u,h):(o=ut(u),o.c(),o.m(i.parentNode,i)),h&76){a=u[3];let c;for(c=0;c<a.length;c+=1){const w=at(u,a,c);f[c]?f[c].p(w,h):(f[c]=ft(w),f[c].c(),f[c].m(n.parentNode,n))}for(;c<f.length;c+=1)f[c].d(1);f.length=a.length}},d(u){u&&m(e),u&&m(l),o&&o.d(u),u&&m(i),Be(f,u),u&&m(n)}}}function ut(r){let e,t,s,l=r[0].users.length+"",i;return{c(){e=E("p"),t=P(r[5]),s=P("/"),i=P(l)},l(n){e=y(n,"P",{});var o=b(e);t=j(o,r[5]),s=j(o,"/"),i=j(o,l),o.forEach(m)},m(n,o){q(n,e,o),_(e,t),_(e,s),_(e,i)},p(n,o){o&32&&T(t,n[5]),o&1&&l!==(l=n[0].users.length+"")&&T(i,l)},d(n){n&&m(e)}}}function ft(r){let e,t=r[9].value+"",s,l;return{c(){e=E("p"),s=P(t),l=A(),this.h()},l(i){e=y(i,"P",{class:!0});var n=b(e);s=j(n,t),l=C(n),n.forEach(m),this.h()},h(){var i;v(e,"class","answer svelte-lzxxm1"),be(e,"right",((i=r[2])==null?void 0:i.state)==="closed"&&r[6]&&r[6].id===r[9].id)},m(i,n){q(i,e,n),_(e,s),_(e,l)},p(i,n){var o;n&8&&t!==(t=i[9].value+"")&&T(s,t),n&76&&be(e,"right",((o=i[2])==null?void 0:o.state)==="closed"&&i[6]&&i[6].id===i[9].id)},d(i){i&&m(e)}}}function Ut(r){let e,t,s,l,i,n,o;t=new it({props:{houses:r[4].house}});let a=r[2]&&ot(r);return n=new At({props:{users:r[1]}}),{c(){e=E("div"),S(t.$$.fragment),s=A(),l=E("div"),a&&a.c(),i=A(),S(n.$$.fragment),this.h()},l(f){e=y(f,"DIV",{class:!0,id:!0});var p=b(e);N(t.$$.fragment,p),s=C(p),l=y(p,"DIV",{class:!0});var u=b(l);a&&a.l(u),u.forEach(m),i=C(p),N(n.$$.fragment,p),p.forEach(m),this.h()},h(){v(l,"class","current-question svelte-lzxxm1"),v(e,"class","container svelte-lzxxm1"),v(e,"id","board-running")},m(f,p){q(f,e,p),U(t,e,null),_(e,s),_(e,l),a&&a.m(l,null),_(e,i),U(n,e,null),o=!0},p(f,[p]){const u={};p&16&&(u.houses=f[4].house),t.$set(u),f[2]?a?a.p(f,p):(a=ot(f),a.c(),a.m(l,null)):a&&(a.d(1),a=null);const h={};p&2&&(h.users=f[1]),n.$set(h)},i(f){o||(I(t.$$.fragment,f),I(n.$$.fragment,f),o=!0)},o(f){H(t.$$.fragment,f),H(n.$$.fragment,f),o=!1},d(f){f&&m(e),L(t),a&&a.d(),L(n)}}}function Lt(r,e,t){let s,l,i,n,o,a;Ee(r,ze,u=>t(4,a=u));let{quiz:f}=e;function p(u){return f.users.find(h=>h.id===u)}return r.$$set=u=>{"quiz"in u&&t(0,f=u.quiz)},r.$$.update=()=>{r.$$.dirty&1&&t(2,s=f==null?void 0:f.activeQuestion),r.$$.dirty&4&&t(3,l=s==null?void 0:s.answers),r.$$.dirty&12&&t(6,i=l==null?void 0:l.find(u=>(u==null?void 0:u.id)===(s==null?void 0:s.correctAnswer))),r.$$.dirty&4&&t(5,n=s.type==="multiple"?s.answers.map(u=>u.votes.length).reduce((u,h)=>u+h,0):s.answers.length),r.$$.dirty&16&&Object.entries(a==null?void 0:a.house).map(([u,h])=>({name:u,pts:h})),r.$$.dirty&16&&t(1,o=Object.entries(a.users).map(([u,h])=>(console.log(u,h),Ze(We({},p(u)),{pts:h}))).sort((u,h)=>u.pts>h.pts?-1:1)),r.$$.dirty&2&&console.log(o)},[f,o,s,l,a,n,i]}class Qt extends se{constructor(e){super();le(this,e,Lt,Ut,re,{quiz:0})}}function ct(r,e,t){const s=r.slice();return s[2]=e[t],s}function ht(r){let e,t;return e=new Dt({props:{endsAt:r[0].startsAt,$$slots:{default:[Wt,({secondsLeft:s})=>({5:s}),({secondsLeft:s})=>s?32:0]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.endsAt=s[0].startsAt),l&96&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Wt(r){let e,t,s=r[5]+"",l;return{c(){e=E("h1"),t=P("Quiz startet in "),l=P(s),this.h()},l(i){e=y(i,"H1",{class:!0});var n=b(e);t=j(n,"Quiz startet in "),l=j(n,s),n.forEach(m),this.h()},h(){v(e,"class","svelte-lto4kw")},m(i,n){q(i,e,n),_(e,t),_(e,l)},p(i,n){n&32&&s!==(s=i[5]+"")&&T(l,s)},d(i){i&&m(e)}}}function _t(r){let e,t,s,l,i,n,o=r[2].name+"",a,f,p,u,h;return s=new Re({props:{house:r[2].house}}),{c(){e=E("div"),t=E("div"),S(s.$$.fragment),i=A(),n=E("p"),a=P(o),f=P(" registered"),p=A(),this.h()},l(g){e=y(g,"DIV",{class:!0});var c=b(e);t=y(c,"DIV",{class:!0});var w=b(t);N(s.$$.fragment,w),w.forEach(m),i=C(c),n=y(c,"P",{class:!0});var k=b(n);a=j(k,o),f=j(k," registered"),k.forEach(m),p=C(c),c.forEach(m),this.h()},h(){v(t,"class","crest svelte-lto4kw"),v(n,"class","svelte-lto4kw"),v(e,"class","user svelte-lto4kw")},m(g,c){q(g,e,c),_(e,t),U(s,t,null),_(e,i),_(e,n),_(n,a),_(n,f),_(e,p),h=!0},p(g,c){const w={};c&2&&(w.house=g[2].house),s.$set(w),(!h||c&2)&&o!==(o=g[2].name+"")&&T(a,o)},i(g){h||(I(s.$$.fragment,g),l||fe(()=>{l=ce(t,Ce,{delay:500}),l.start()}),u||fe(()=>{u=ce(e,Et,{}),u.start()}),h=!0)},o(g){H(s.$$.fragment,g),h=!1},d(g){g&&m(e),L(s)}}}function Zt(r){let e,t,s,l,i,n,o,a=r[0].description+"",f,p,u,h,g,c=r[0].startsAt&&ht(r),w=r[1],k=[];for(let d=0;d<w.length;d+=1)k[d]=_t(ct(r,w,d));const Y=d=>H(k[d],1,1,()=>{k[d]=null});return{c(){e=E("img"),s=A(),l=E("h3"),i=P("Registriert euch f\xFCr"),n=A(),o=E("h1"),f=P(a),p=A(),c&&c.c(),u=A(),h=E("div");for(let d=0;d<k.length;d+=1)k[d].c();this.h()},l(d){e=y(d,"IMG",{src:!0,alt:!0,class:!0}),s=C(d),l=y(d,"H3",{class:!0});var $=b(l);i=j($,"Registriert euch f\xFCr"),$.forEach(m),n=C(d),o=y(d,"H1",{class:!0});var V=b(o);f=j(V,a),V.forEach(m),p=C(d),c&&c.l(d),u=C(d),h=y(d,"DIV",{class:!0});var G=b(h);for(let Z=0;Z<k.length;Z+=1)k[Z].l(G);G.forEach(m),this.h()},h(){xe(e.src,t="/icons/qr.svg")||v(e,"src",t),v(e,"alt",""),v(e,"class","svelte-lto4kw"),v(l,"class","svelte-lto4kw"),v(o,"class","svelte-lto4kw"),v(h,"class","users svelte-lto4kw")},m(d,$){q(d,e,$),q(d,s,$),q(d,l,$),_(l,i),q(d,n,$),q(d,o,$),_(o,f),q(d,p,$),c&&c.m(d,$),q(d,u,$),q(d,h,$);for(let V=0;V<k.length;V+=1)k[V].m(h,null);g=!0},p(d,[$]){if((!g||$&1)&&a!==(a=d[0].description+"")&&T(f,a),d[0].startsAt?c?(c.p(d,$),$&1&&I(c,1)):(c=ht(d),c.c(),I(c,1),c.m(u.parentNode,u)):c&&(ge(),H(c,1,1,()=>{c=null}),$e()),$&2){w=d[1];let V;for(V=0;V<w.length;V+=1){const G=ct(d,w,V);k[V]?(k[V].p(G,$),I(k[V],1)):(k[V]=_t(G),k[V].c(),I(k[V],1),k[V].m(h,null))}for(ge(),V=w.length;V<k.length;V+=1)Y(V);$e()}},i(d){if(!g){I(c);for(let $=0;$<w.length;$+=1)I(k[$]);g=!0}},o(d){H(c),k=k.filter(Boolean);for(let $=0;$<k.length;$+=1)H(k[$]);g=!1},d(d){d&&m(e),d&&m(s),d&&m(l),d&&m(n),d&&m(o),d&&m(p),c&&c.d(d),d&&m(u),d&&m(h),Be(k,d)}}}function Ft(r,e,t){let s,{quiz:l}=e;return r.$$set=i=>{"quiz"in i&&t(0,l=i.quiz)},r.$$.update=()=>{r.$$.dirty&1&&t(1,s=(l==null?void 0:l.users)||[])},[l,s]}class Xt extends se{constructor(e){super();le(this,e,Ft,Zt,re,{quiz:0})}}function Yt(r){let e,t;return e=new it({props:{houses:r[1].points}}),{c(){S(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const i={};l&2&&(i.houses=s[1].points),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Jt(r){let e,t,s,l;const i=[es,xt,Kt],n=[];function o(a,f){var p,u,h;return((p=a[0])==null?void 0:p.state)==="registration"?0:((u=a[0])==null?void 0:u.state)==="running"?1:((h=a[0])==null?void 0:h.state)==="results"?2:-1}return~(e=o(r))&&(t=n[e]=i[e](r)),{c(){t&&t.c(),s=he()},l(a){t&&t.l(a),s=he()},m(a,f){~e&&n[e].m(a,f),q(a,s,f),l=!0},p(a,f){let p=e;e=o(a),e===p?~e&&n[e].p(a,f):(t&&(ge(),H(n[p],1,1,()=>{n[p]=null}),$e()),~e?(t=n[e],t?t.p(a,f):(t=n[e]=i[e](a),t.c()),I(t,1),t.m(s.parentNode,s)):t=null)},i(a){l||(I(t),l=!0)},o(a){H(t),l=!1},d(a){~e&&n[e].d(a),a&&m(s)}}}function Kt(r){let e,t;return e=new Rt({props:{quiz:r[0]}}),{c(){S(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.quiz=s[0]),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function xt(r){let e,t;return e=new Qt({props:{quiz:r[0]}}),{c(){S(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.quiz=s[0]),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function es(r){let e,t;return e=new Xt({props:{quiz:r[0]}}),{c(){S(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.quiz=s[0]),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function ts(r){let e,t,s,l;const i=[Jt,Yt],n=[];function o(a,f){var p;return((p=a[1])==null?void 0:p.state)==="quiz"?0:1}return e=o(r),t=n[e]=i[e](r),{c(){t.c(),s=he()},l(a){t.l(a),s=he()},m(a,f){n[e].m(a,f),q(a,s,f),l=!0},p(a,[f]){let p=e;e=o(a),e===p?n[e].p(a,f):(ge(),H(n[p],1,1,()=>{n[p]=null}),$e(),t=n[e],t?t.p(a,f):(t=n[e]=i[e](a),t.c()),I(t,1),t.m(s.parentNode,s))},i(a){l||(I(t),l=!0)},o(a){H(t),l=!1},d(a){n[e].d(a),a&&m(s)}}}function ss(r,e,t){let s,l;Ee(r,Vt,n=>t(0,s=n));const i=yt();return Ee(r,i,n=>t(1,l=n)),Ke(async()=>{const o=await(await et("api/quiz/points")).json();ze.set(o),i.init()}),r.$$.update=()=>{r.$$.dirty&1&&(s==null?void 0:s.state)!=="running"&&qt&&setTimeout(()=>{if((s==null?void 0:s.state)!=="running"){const n=document.getElementById("board-running");n&&n.remove()}},1e3)},[s,l,i]}class hs extends se{constructor(e){super();le(this,e,ss,ts,re,{})}}export{hs as default};
