var dt=Object.defineProperty,pt=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;var Qe=(n,e,t)=>e in n?dt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,We=(n,e)=>{for(var t in e||(e={}))mt.call(e,t)&&Qe(n,t,e[t]);if(Le)for(var t of Le(e))gt.call(e,t)&&Qe(n,t,e[t]);return n},Ze=(n,e)=>pt(n,vt(e));import{S as se,i as le,s as re,X as Fe,Y as Xe,e as b,t as V,k as P,j as G,c as k,a as $,g as z,d as v,n as H,m as O,b as m,f as I,G as p,o as S,h as R,Z as Ye,x as E,T as ce,ac as he,V as Ae,ad as Je,u as q,v as N,a7 as we,A as Ke,ak as $t,al as bt,a6 as Ee,D as ye,E as Ve,R as kt,r as ge,w as $e,ae as Re,l as ee,am as wt}from"../chunks/vendor-453c144d.js";import{p as ze,g as Et,q as yt}from"../chunks/index-9ea0191b.js";import{c as qe,g as xe,a as Vt}from"../chunks/index-5161a508.js";import{H as ne}from"../chunks/houses-9a4fb946.js";import{C as Be,a as et}from"../chunks/Confetti-8482a9de.js";import{T as zt}from"../chunks/Crest.svelte_svelte_type_style_lang-cff3bd29.js";import{l as qt}from"../chunks/helpers-bcb7afd4.js";function Dt(n){var Oe,Se;let e,t,s,l,a,r,u,i=qe(n[6].name)+"",f,d,o,_,h,c,g=n[6].pts+"",D,W,T,B,U,Z,ie,M,j,C,A,L,Y,x=((Oe=n[5])==null?void 0:Oe.name)+"",J,ae,F,_e=((Se=n[0])==null?void 0:Se.pts)+"",be,De,Ie,oe,K,Pe,He,ke,je,X;_=new Be({props:{house:n[6].name}});function ht(w){n[9](w)}let Me={width:n[3],height:n[4],repeat:!0};n[1]!==void 0&&(Me.show=n[1]),U=new et({props:Me}),Fe.push(()=>Xe(U,"show",ht));function _t(w){n[10](w)}let Ge={width:n[3],height:n[4],repeat:!0};return n[2]!==void 0&&(Ge.show=n[2]),K=new et({props:Ge}),Fe.push(()=>Xe(K,"show",_t)),{c(){e=b("div"),t=b("h1"),s=V("Und die Gewinner sind:"),l=P(),a=b("div"),r=b("div"),u=b("h2"),f=V(i),d=P(),o=b("div"),G(_.$$.fragment),h=P(),c=b("h3"),D=V(g),W=V(" Punkte"),T=P(),B=b("div"),G(U.$$.fragment),C=P(),A=b("div"),L=b("div"),Y=b("h2"),J=V(x),ae=P(),F=b("h3"),be=V(_e),De=V(" Punkte"),Ie=P(),oe=b("div"),G(K.$$.fragment),this.h()},l(w){e=k(w,"DIV",{class:!0});var y=$(e);t=k(y,"H1",{class:!0});var de=$(t);s=z(de,"Und die Gewinner sind:"),de.forEach(v),l=H(y),a=k(y,"DIV",{class:!0,style:!0});var te=$(a);r=k(te,"DIV",{});var Q=$(r);u=k(Q,"H2",{class:!0});var pe=$(u);f=z(pe,i),pe.forEach(v),d=H(Q),o=k(Q,"DIV",{class:!0});var ve=$(o);O(_.$$.fragment,ve),ve.forEach(v),h=H(Q),c=k(Q,"H3",{class:!0});var ue=$(c);D=z(ue,g),W=z(ue," Punkte"),ue.forEach(v),T=H(Q),B=k(Q,"DIV",{class:!0});var me=$(B);O(U.$$.fragment,me),me.forEach(v),Q.forEach(v),te.forEach(v),C=H(y),A=k(y,"DIV",{class:!0,style:!0});var Ne=$(A);L=k(Ne,"DIV",{});var fe=$(L);Y=k(fe,"H2",{class:!0});var Te=$(Y);J=z(Te,x),Te.forEach(v),ae=H(fe),F=k(fe,"H3",{class:!0});var Ce=$(F);be=z(Ce,_e),De=z(Ce," Punkte"),Ce.forEach(v),Ie=H(fe),oe=k(fe,"DIV",{class:!0});var Ue=$(oe);O(K.$$.fragment,Ue),Ue.forEach(v),fe.forEach(v),Ne.forEach(v),y.forEach(v),this.h()},h(){var w,y;m(t,"class","svelte-158sft3"),m(u,"class","svelte-158sft3"),m(o,"class","crest svelte-158sft3"),m(c,"class","svelte-158sft3"),m(B,"class","confetti-wrapper svelte-158sft3"),m(a,"class","left svelte-158sft3"),m(a,"style",M=`background-color: ${ne[n[6].name]}`),m(Y,"class","svelte-158sft3"),m(F,"class","svelte-158sft3"),m(oe,"class","confetti-wrapper svelte-158sft3"),m(A,"class","right svelte-158sft3"),m(A,"style",ke=`background-color:  ${(y=ne)==null?void 0:y[(w=n[5])==null?void 0:w.house]}`),m(e,"class","wrapper svelte-158sft3")},m(w,y){I(w,e,y),p(e,t),p(t,s),p(e,l),p(e,a),p(a,r),p(r,u),p(u,f),p(r,d),p(r,o),S(_,o,null),p(r,h),p(r,c),p(c,D),p(c,W),p(r,T),p(r,B),S(U,B,null),p(e,C),p(e,A),p(A,L),p(L,Y),p(Y,J),p(L,ae),p(L,F),p(F,be),p(F,De),p(L,Ie),p(L,oe),S(K,oe,null),X=!0},p(w,[y]){var pe,ve,ue,me;(!X||y&64)&&i!==(i=qe(w[6].name)+"")&&R(f,i);const de={};y&64&&(de.house=w[6].name),_.$set(de),(!X||y&64)&&g!==(g=w[6].pts+"")&&R(D,g);const te={};y&8&&(te.width=w[3]),y&16&&(te.height=w[4]),!Z&&y&2&&(Z=!0,te.show=w[1],Ye(()=>Z=!1)),U.$set(te),(!X||y&64&&M!==(M=`background-color: ${ne[w[6].name]}`))&&m(a,"style",M),(!X||y&32)&&x!==(x=((pe=w[5])==null?void 0:pe.name)+"")&&R(J,x),(!X||y&1)&&_e!==(_e=((ve=w[0])==null?void 0:ve.pts)+"")&&R(be,_e);const Q={};y&8&&(Q.width=w[3]),y&16&&(Q.height=w[4]),!Pe&&y&4&&(Pe=!0,Q.show=w[2],Ye(()=>Pe=!1)),K.$set(Q),(!X||y&32&&ke!==(ke=`background-color:  ${(me=ne)==null?void 0:me[(ue=w[5])==null?void 0:ue.house]}`))&&m(A,"style",ke)},i(w){X||(E(_.$$.fragment,w),E(U.$$.fragment,w),ie||ce(()=>{ie=he(r,Ae,{delay:8500,duration:1e3}),ie.start()}),j||ce(()=>{j=he(a,Je,{delay:8e3,duration:2e3}),j.start()}),E(K.$$.fragment,w),He||ce(()=>{He=he(L,Ae,{delay:4500,duration:1e3}),He.start()}),je||ce(()=>{je=he(A,Je,{delay:4e3,duration:2e3}),je.start()}),X=!0)},o(w){q(_.$$.fragment,w),q(U.$$.fragment,w),q(K.$$.fragment,w),X=!1},d(w){w&&v(e),N(_),N(U),N(K)}}}function It(n,e,t){let s,l,a,r;we(n,ze,c=>t(8,r=c));let{quiz:u}=e,i,f,d=500,o=500;Ke(async()=>{t(4,o=window.innerHeight),t(3,d=window.innerWidth/2);const c=await xe("api/quiz/points");$t(ze,r=await c.json(),r),setTimeout(()=>{f==null||f()},5e3),setTimeout(()=>{i==null||i()},9e3)});function _(c){i=c,t(1,i)}function h(c){f=c,t(2,f)}return n.$$set=c=>{"quiz"in c&&t(7,u=c.quiz)},n.$$.update=()=>{n.$$.dirty&256&&t(6,s=Object.entries(r.house).map(([c,g])=>({name:c,pts:g})).sort((c,g)=>c.pts>g.pts?-1:1)[0]),n.$$.dirty&256&&t(0,l=Object.entries(r.users).map(([c,g])=>({id:c,pts:g})).sort((c,g)=>c.pts>g.pts?-1:1)[0]),n.$$.dirty&129&&t(5,a=l&&u.users.find(c=>c.id===l.id))},[l,i,f,d,o,a,s,u,r,_,h]}class Pt extends se{constructor(e){super();le(this,e,It,Dt,re,{quiz:7})}}function Ht(n){let e,t,s=n[1].pts+"",l,a,r=(n[1].pts>1?"e":"")+"",u,i,f=n[1].name+"",d,o;return{c(){e=b("div"),t=b("h2"),l=V(s),a=V(" Punkt"),u=V(r),i=V(" | \xA0"),d=V(f),this.h()},l(_){e=k(_,"DIV",{class:!0,style:!0});var h=$(e);t=k(h,"H2",{class:!0});var c=$(t);l=z(c,s),a=z(c," Punkt"),u=z(c,r),i=z(c," | \xA0"),d=z(c,f),c.forEach(v),h.forEach(v),this.h()},h(){m(t,"class","svelte-x0uiwq"),m(e,"class","user svelte-x0uiwq"),m(e,"style",o=`--color: ${ne[n[1].house]}`)},m(_,h){I(_,e,h),p(e,t),p(t,l),p(t,a),p(t,u),p(t,i),p(t,d)},p(_,h){h&2&&s!==(s=_[1].pts+"")&&R(l,s),h&2&&r!==(r=(_[1].pts>1?"e":"")+"")&&R(u,r),h&2&&f!==(f=_[1].name+"")&&R(d,f),h&2&&o!==(o=`--color: ${ne[_[1].house]}`)&&m(e,"style",o)},d(_){_&&v(e)}}}function jt(n){let e,t,s;return t=new bt({props:{list:n[0],key:"name",$$slots:{default:[Ht,({item:l})=>({1:l}),({item:l})=>l?2:0]},$$scope:{ctx:n}}}),{c(){e=b("div"),G(t.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var a=$(e);O(t.$$.fragment,a),a.forEach(v),this.h()},h(){m(e,"class","leader-board svelte-x0uiwq"),Ee(e,"visible",!!n[0].length)},m(l,a){I(l,e,a),S(t,e,null),s=!0},p(l,[a]){const r={};a&1&&(r.list=l[0]),a&6&&(r.$$scope={dirty:a,ctx:l}),t.$set(r),a&1&&Ee(e,"visible",!!l[0].length)},i(l){s||(E(t.$$.fragment,l),s=!0)},o(l){q(t.$$.fragment,l),s=!1},d(l){l&&v(e),N(t)}}}function Ct(n,e,t){let{users:s}=e;return n.$$set=l=>{"users"in l&&t(0,s=l.users)},[s]}class At extends se{constructor(e){super();le(this,e,Ct,jt,re,{users:0})}}function Rt(n){let e,t,s,l=(n[0].pts||0)+"",a,r,u,i=qe(n[0].name)+"",f,d,o,_,h,c,g,D,W,T,B,U,Z,ie,M;return _=new Be({props:{house:n[0].name}}),{c(){e=b("div"),t=b("div"),s=b("h2"),a=V(l),r=P(),u=b("p"),f=V(i),d=P(),o=b("div"),G(_.$$.fragment),h=P(),c=b("div"),g=ye("svg"),D=ye("path"),W=P(),T=ye("svg"),B=ye("path"),U=P(),Z=b("img"),this.h()},l(j){e=k(j,"DIV",{class:!0});var C=$(e);t=k(C,"DIV",{class:!0});var A=$(t);s=k(A,"H2",{class:!0});var L=$(s);a=z(L,l),L.forEach(v),r=H(A),u=k(A,"P",{class:!0});var Y=$(u);f=z(Y,i),Y.forEach(v),d=H(A),o=k(A,"DIV",{class:!0});var x=$(o);O(_.$$.fragment,x),x.forEach(v),A.forEach(v),h=H(C),c=k(C,"DIV",{class:!0});var J=$(c);g=Ve(J,"svg",{class:!0,viewBox:!0,preserveAspectRatio:!0,fill:!0,xmlns:!0});var ae=$(g);D=Ve(ae,"path",{d:!0,fill:!0}),$(D).forEach(v),ae.forEach(v),W=H(J),T=Ve(J,"svg",{class:!0,viewBox:!0,fill:!0,xmlns:!0});var F=$(T);B=Ve(F,"path",{opacity:!0,d:!0,fill:!0}),$(B).forEach(v),F.forEach(v),J.forEach(v),U=H(C),Z=k(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(v),this.h()},h(){m(s,"class","svelte-1skask8"),m(u,"class","svelte-1skask8"),m(o,"class","crest svelte-1skask8"),m(t,"class","top svelte-1skask8"),m(D,"d",n[1]),m(D,"fill",n[2]),m(g,"class","color-bottom width svelte-1skask8"),m(g,"viewBox","0 0 100 306"),m(g,"preserveAspectRatio","none"),m(g,"fill","none"),m(g,"xmlns","http://www.w3.org/2000/svg"),m(B,"opacity","0.75"),m(B,"d","M 1 10 L 1 77 C 20 77 29 97 45 97 C 60 97 71 77 90 77 V 10 C 90 6 84 0 45 0 C 7 0 1 7 1 10 Z"),m(B,"fill",n[2]),m(T,"class","color-top width svelte-1skask8"),m(T,"viewBox","0 0 91 98"),m(T,"fill","none"),m(T,"xmlns","http://www.w3.org/2000/svg"),m(c,"class","bottom-container"),m(Z,"class","glass svelte-1skask8"),kt(Z.src,ie="/sorting-glass.png")||m(Z,"src",ie),m(Z,"alt",""),m(e,"class","container svelte-1skask8")},m(j,C){I(j,e,C),p(e,t),p(t,s),p(s,a),p(t,r),p(t,u),p(u,f),p(t,d),p(t,o),S(_,o,null),p(e,h),p(e,c),p(c,g),p(g,D),p(c,W),p(c,T),p(T,B),p(e,U),p(e,Z),M=!0},p(j,[C]){(!M||C&1)&&l!==(l=(j[0].pts||0)+"")&&R(a,l),(!M||C&1)&&i!==(i=qe(j[0].name)+"")&&R(f,i);const A={};C&1&&(A.house=j[0].name),_.$set(A),(!M||C&2)&&m(D,"d",j[1]),(!M||C&4)&&m(D,"fill",j[2]),(!M||C&4)&&m(B,"fill",j[2])},i(j){M||(E(_.$$.fragment,j),M=!0)},o(j){q(_.$$.fragment,j),M=!1},d(j){j&&v(e),N(_)}}}let Bt=120;function tt(n){return Math.min(Math.max(n,0),1)}function Mt(n,e,t){let s,l,a,r,{house:u}=e,{maxPoints:i}=e,f=0,d=0,o=!1,_=0;function h(){_++;const c=Vt(_/Bt);Math.abs(f-d)>.01?requestAnimationFrame(h):(t(4,f=d),t(6,o=!1)),t(4,f=tt(qt(f,d,1-c)))}return n.$$set=c=>{"house"in c&&t(0,u=c.house),"maxPoints"in c&&t(3,i=c.maxPoints)},n.$$.update=()=>{if(n.$$.dirty&1&&t(8,s=(u==null?void 0:u.pts)||0),n.$$.dirty&376&&(s||i)){let c=tt(s/i);c!==d&&(console.log("Animate",f,c),t(5,d=c),_=0,o||h())}n.$$.dirty&1&&t(2,l=ne[u.name]),n.$$.dirty&16&&t(7,a=300-f*230),n.$$.dirty&128&&t(1,r=`M 0 270 
	V ${a+5} 
	C 30 ${a+5} 30 ${a} 50 ${a} 
	C 70 ${a} 70 ${a+5} 100 ${a+5} 
	V 270 
	C 100 290 80 300 50 300 
	C 20 300 0 290 0 270 
	Z`)},[u,r,l,i,f,d,o,a,s]}class Gt extends se{constructor(e){super();le(this,e,Mt,Rt,re,{house:0,maxPoints:3})}}function st(n,e,t){const s=n.slice();return s[4]=e[t],s}function lt(n){let e,t,s,l;return t=new Gt({props:{house:n[4],maxPoints:n[1]}}),{c(){e=b("div"),G(t.$$.fragment),s=P(),this.h()},l(a){e=k(a,"DIV",{class:!0});var r=$(e);O(t.$$.fragment,r),s=H(r),r.forEach(v),this.h()},h(){m(e,"class","glass-wrapper svelte-1sp1i21")},m(a,r){I(a,e,r),S(t,e,null),p(e,s),l=!0},p(a,r){const u={};r&1&&(u.house=a[4]),r&2&&(u.maxPoints=a[1]),t.$set(u)},i(a){l||(E(t.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),l=!1},d(a){a&&v(e),N(t)}}}function Ot(n){let e,t,s=n[0].sort(rt),l=[];for(let r=0;r<s.length;r+=1)l[r]=lt(st(n,s,r));const a=r=>q(l[r],1,1,()=>{l[r]=null});return{c(){e=b("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=k(r,"DIV",{class:!0});var u=$(e);for(let i=0;i<l.length;i+=1)l[i].l(u);u.forEach(v),this.h()},h(){m(e,"class","house-wrapper svelte-1sp1i21")},m(r,u){I(r,e,u);for(let i=0;i<l.length;i+=1)l[i].m(e,null);t=!0},p(r,[u]){if(u&3){s=r[0].sort(rt);let i;for(i=0;i<s.length;i+=1){const f=st(r,s,i);l[i]?(l[i].p(f,u),E(l[i],1)):(l[i]=lt(f),l[i].c(),E(l[i],1),l[i].m(e,null))}for(ge(),i=s.length;i<l.length;i+=1)a(i);$e()}},i(r){if(!t){for(let u=0;u<s.length;u+=1)E(l[u]);t=!0}},o(r){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)q(l[u]);t=!1},d(r){r&&v(e),Re(l,r)}}}const rt=(n,e)=>n.name>e.name?-1:1;function St(n,e,t){let s,l,a,{houses:r={}}=e;return n.$$set=u=>{"houses"in u&&t(2,r=u.houses)},n.$$.update=()=>{var u;n.$$.dirty&4&&t(0,s=Object.entries(r).map(([i,f])=>({name:i,pts:f}))),n.$$.dirty&1&&t(3,l=(s==null?void 0:s.sort((i,f)=>i.pts>f.pts?-1:1))||[]),n.$$.dirty&8&&t(1,a=Math.max(5,(u=l[0])==null?void 0:u.pts)||0)},[s,a,r,l]}class nt extends se{constructor(e){super();le(this,e,St,Ot,re,{houses:2})}}function it(n,e,t){const s=n.slice();return s[9]=e[t],s}function at(n){var d;let e,t=((d=n[2])==null?void 0:d.description)+"",s,l,a,r,u=!n[6]&&ot(n),i=n[3],f=[];for(let o=0;o<i.length;o+=1)f[o]=ut(it(n,i,o));return{c(){e=b("h1"),s=V(t),l=P(),u&&u.c(),a=P();for(let o=0;o<f.length;o+=1)f[o].c();r=ee()},l(o){e=k(o,"H1",{});var _=$(e);s=z(_,t),_.forEach(v),l=H(o),u&&u.l(o),a=H(o);for(let h=0;h<f.length;h+=1)f[h].l(o);r=ee()},m(o,_){I(o,e,_),p(e,s),I(o,l,_),u&&u.m(o,_),I(o,a,_);for(let h=0;h<f.length;h+=1)f[h].m(o,_);I(o,r,_)},p(o,_){var h;if(_&4&&t!==(t=((h=o[2])==null?void 0:h.description)+"")&&R(s,t),o[6]?u&&(u.d(1),u=null):u?u.p(o,_):(u=ot(o),u.c(),u.m(a.parentNode,a)),_&76){i=o[3];let c;for(c=0;c<i.length;c+=1){const g=it(o,i,c);f[c]?f[c].p(g,_):(f[c]=ut(g),f[c].c(),f[c].m(r.parentNode,r))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}},d(o){o&&v(e),o&&v(l),u&&u.d(o),o&&v(a),Re(f,o),o&&v(r)}}}function ot(n){let e,t,s,l=n[0].users.length+"",a;return{c(){e=b("p"),t=V(n[5]),s=V("/"),a=V(l)},l(r){e=k(r,"P",{});var u=$(e);t=z(u,n[5]),s=z(u,"/"),a=z(u,l),u.forEach(v)},m(r,u){I(r,e,u),p(e,t),p(e,s),p(e,a)},p(r,u){u&32&&R(t,r[5]),u&1&&l!==(l=r[0].users.length+"")&&R(a,l)},d(r){r&&v(e)}}}function ut(n){let e,t=n[9].value+"",s,l;return{c(){e=b("p"),s=V(t),l=P(),this.h()},l(a){e=k(a,"P",{class:!0});var r=$(e);s=z(r,t),l=H(r),r.forEach(v),this.h()},h(){var a;m(e,"class","answer svelte-lzxxm1"),Ee(e,"right",((a=n[2])==null?void 0:a.state)==="closed"&&n[6]&&n[6].id===n[9].id)},m(a,r){I(a,e,r),p(e,s),p(e,l)},p(a,r){var u;r&8&&t!==(t=a[9].value+"")&&R(s,t),r&76&&Ee(e,"right",((u=a[2])==null?void 0:u.state)==="closed"&&a[6]&&a[6].id===a[9].id)},d(a){a&&v(e)}}}function Nt(n){let e,t,s,l,a,r,u;t=new nt({props:{houses:n[4].house}});let i=n[2]&&at(n);return r=new At({props:{users:n[1]}}),{c(){e=b("div"),G(t.$$.fragment),s=P(),l=b("div"),i&&i.c(),a=P(),G(r.$$.fragment),this.h()},l(f){e=k(f,"DIV",{class:!0});var d=$(e);O(t.$$.fragment,d),s=H(d),l=k(d,"DIV",{class:!0});var o=$(l);i&&i.l(o),o.forEach(v),a=H(d),O(r.$$.fragment,d),d.forEach(v),this.h()},h(){m(l,"class","current-question svelte-lzxxm1"),m(e,"class","container svelte-lzxxm1")},m(f,d){I(f,e,d),S(t,e,null),p(e,s),p(e,l),i&&i.m(l,null),p(e,a),S(r,e,null),u=!0},p(f,[d]){const o={};d&16&&(o.houses=f[4].house),t.$set(o),f[2]?i?i.p(f,d):(i=at(f),i.c(),i.m(l,null)):i&&(i.d(1),i=null);const _={};d&2&&(_.users=f[1]),r.$set(_)},i(f){u||(E(t.$$.fragment,f),E(r.$$.fragment,f),u=!0)},o(f){q(t.$$.fragment,f),q(r.$$.fragment,f),u=!1},d(f){f&&v(e),N(t),i&&i.d(),N(r)}}}function Tt(n,e,t){let s,l,a,r,u,i;we(n,ze,o=>t(4,i=o));let{quiz:f}=e;function d(o){return f.users.find(_=>_.id===o)}return n.$$set=o=>{"quiz"in o&&t(0,f=o.quiz)},n.$$.update=()=>{n.$$.dirty&1&&t(2,s=f==null?void 0:f.activeQuestion),n.$$.dirty&4&&t(3,l=s==null?void 0:s.answers),n.$$.dirty&12&&t(6,a=l==null?void 0:l.find(o=>(o==null?void 0:o.id)===(s==null?void 0:s.correctAnswer))),n.$$.dirty&4&&t(5,r=s.type==="multiple"?s.answers.map(o=>o.votes.length).reduce((o,_)=>o+_,0):s.answers.length),n.$$.dirty&16&&Object.entries(i==null?void 0:i.house).map(([o,_])=>({name:o,pts:_})),n.$$.dirty&16&&t(1,u=Object.entries(i.users).map(([o,_])=>(console.log(o,_),Ze(We({},d(o)),{pts:_}))).sort((o,_)=>o.pts>_.pts?-1:1)),n.$$.dirty&2&&console.log(u)},[f,u,s,l,i,r,a]}class Ut extends se{constructor(e){super();le(this,e,Tt,Nt,re,{quiz:0})}}function ft(n,e,t){const s=n.slice();return s[3]=e[t],s}function Lt(n){let e,t,s,l,a=n[0].description+"",r,u,i,f,d=n[1],o=[];for(let h=0;h<d.length;h+=1)o[h]=ct(ft(n,d,h));const _=h=>q(o[h],1,1,()=>{o[h]=null});return{c(){e=b("h3"),t=V("Registriert euch f\xFCr"),s=P(),l=b("h1"),r=V(a),u=P(),i=b("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=k(h,"H3",{class:!0});var c=$(e);t=z(c,"Registriert euch f\xFCr"),c.forEach(v),s=H(h),l=k(h,"H1",{class:!0});var g=$(l);r=z(g,a),g.forEach(v),u=H(h),i=k(h,"DIV",{class:!0});var D=$(i);for(let W=0;W<o.length;W+=1)o[W].l(D);D.forEach(v),this.h()},h(){m(e,"class","svelte-2bu6ux"),m(l,"class","svelte-2bu6ux"),m(i,"class","users svelte-2bu6ux")},m(h,c){I(h,e,c),p(e,t),I(h,s,c),I(h,l,c),p(l,r),I(h,u,c),I(h,i,c);for(let g=0;g<o.length;g+=1)o[g].m(i,null);f=!0},p(h,c){if((!f||c&1)&&a!==(a=h[0].description+"")&&R(r,a),c&2){d=h[1];let g;for(g=0;g<d.length;g+=1){const D=ft(h,d,g);o[g]?(o[g].p(D,c),E(o[g],1)):(o[g]=ct(D),o[g].c(),E(o[g],1),o[g].m(i,null))}for(ge(),g=d.length;g<o.length;g+=1)_(g);$e()}},i(h){if(!f){for(let c=0;c<d.length;c+=1)E(o[c]);f=!0}},o(h){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)q(o[c]);f=!1},d(h){h&&v(e),h&&v(s),h&&v(l),h&&v(u),h&&v(i),Re(o,h)}}}function Qt(n){let e,t;return e=new zt({props:{endsAt:n[0].startsAt,$$slots:{default:[Wt,({secondsLeft:s})=>({2:s}),({secondsLeft:s})=>s?4:0]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){S(e,s,l),t=!0},p(s,l){const a={};l&1&&(a.endsAt=s[0].startsAt),l&68&&(a.$$scope={dirty:l,ctx:s}),e.$set(a)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function ct(n){let e,t,s,l,a,r,u=n[3].name+"",i,f,d,o,_;return s=new Be({props:{house:n[3].house}}),{c(){e=b("div"),t=b("div"),G(s.$$.fragment),a=P(),r=b("p"),i=V(u),f=V(" registered"),d=P(),this.h()},l(h){e=k(h,"DIV",{class:!0});var c=$(e);t=k(c,"DIV",{class:!0});var g=$(t);O(s.$$.fragment,g),g.forEach(v),a=H(c),r=k(c,"P",{class:!0});var D=$(r);i=z(D,u),f=z(D," registered"),D.forEach(v),d=H(c),c.forEach(v),this.h()},h(){m(t,"class","crest svelte-2bu6ux"),m(r,"class","svelte-2bu6ux"),m(e,"class","user svelte-2bu6ux")},m(h,c){I(h,e,c),p(e,t),S(s,t,null),p(e,a),p(e,r),p(r,i),p(r,f),p(e,d),_=!0},p(h,c){const g={};c&2&&(g.house=h[3].house),s.$set(g),(!_||c&2)&&u!==(u=h[3].name+"")&&R(i,u)},i(h){_||(E(s.$$.fragment,h),l||ce(()=>{l=he(t,Ae,{delay:500}),l.start()}),o||ce(()=>{o=he(e,wt,{}),o.start()}),_=!0)},o(h){q(s.$$.fragment,h),_=!1},d(h){h&&v(e),N(s)}}}function Wt(n){let e,t,s=n[2]+"",l;return{c(){e=b("h1"),t=V("Quiz startet in "),l=V(s),this.h()},l(a){e=k(a,"H1",{class:!0});var r=$(e);t=z(r,"Quiz startet in "),l=z(r,s),r.forEach(v),this.h()},h(){m(e,"class","svelte-2bu6ux")},m(a,r){I(a,e,r),p(e,t),p(e,l)},p(a,r){r&4&&s!==(s=a[2]+"")&&R(l,s)},d(a){a&&v(e)}}}function Zt(n){let e,t,s,l;const a=[Qt,Lt],r=[];function u(i,f){return i[0].startsAt?0:1}return e=u(n),t=r[e]=a[e](n),{c(){t.c(),s=ee()},l(i){t.l(i),s=ee()},m(i,f){r[e].m(i,f),I(i,s,f),l=!0},p(i,[f]){let d=e;e=u(i),e===d?r[e].p(i,f):(ge(),q(r[d],1,1,()=>{r[d]=null}),$e(),t=r[e],t?t.p(i,f):(t=r[e]=a[e](i),t.c()),E(t,1),t.m(s.parentNode,s))},i(i){l||(E(t),l=!0)},o(i){q(t),l=!1},d(i){r[e].d(i),i&&v(s)}}}function Ft(n,e,t){let s,{quiz:l}=e;return n.$$set=a=>{"quiz"in a&&t(0,l=a.quiz)},n.$$.update=()=>{n.$$.dirty&1&&t(1,s=(l==null?void 0:l.users)||[])},[l,s]}class Xt extends se{constructor(e){super();le(this,e,Ft,Zt,re,{quiz:0})}}function Yt(n){let e,t;return e=new nt({props:{houses:n[0].points}}),{c(){G(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){S(e,s,l),t=!0},p(s,l){const a={};l&1&&(a.houses=s[0].points),e.$set(a)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Jt(n){let e,t,s,l;const a=[es,xt,Kt],r=[];function u(i,f){var d,o,_;return((d=i[1])==null?void 0:d.state)==="registration"?0:((o=i[1])==null?void 0:o.state)==="running"?1:((_=i[1])==null?void 0:_.state)==="results"?2:-1}return~(e=u(n))&&(t=r[e]=a[e](n)),{c(){t&&t.c(),s=ee()},l(i){t&&t.l(i),s=ee()},m(i,f){~e&&r[e].m(i,f),I(i,s,f),l=!0},p(i,f){let d=e;e=u(i),e===d?~e&&r[e].p(i,f):(t&&(ge(),q(r[d],1,1,()=>{r[d]=null}),$e()),~e?(t=r[e],t?t.p(i,f):(t=r[e]=a[e](i),t.c()),E(t,1),t.m(s.parentNode,s)):t=null)},i(i){l||(E(t),l=!0)},o(i){q(t),l=!1},d(i){~e&&r[e].d(i),i&&v(s)}}}function Kt(n){let e,t;return e=new Pt({props:{quiz:n[1]}}),{c(){G(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){S(e,s,l),t=!0},p(s,l){const a={};l&2&&(a.quiz=s[1]),e.$set(a)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function xt(n){let e,t;return e=new Ut({props:{quiz:n[1]}}),{c(){G(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){S(e,s,l),t=!0},p(s,l){const a={};l&2&&(a.quiz=s[1]),e.$set(a)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function es(n){let e,t;return e=new Xt({props:{quiz:n[1]}}),{c(){G(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,l){S(e,s,l),t=!0},p(s,l){const a={};l&2&&(a.quiz=s[1]),e.$set(a)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function ts(n){let e,t,s,l;const a=[Jt,Yt],r=[];function u(i,f){var d;return((d=i[0])==null?void 0:d.state)==="quiz"?0:1}return e=u(n),t=r[e]=a[e](n),{c(){t.c(),s=ee()},l(i){t.l(i),s=ee()},m(i,f){r[e].m(i,f),I(i,s,f),l=!0},p(i,[f]){let d=e;e=u(i),e===d?r[e].p(i,f):(ge(),q(r[d],1,1,()=>{r[d]=null}),$e(),t=r[e],t?t.p(i,f):(t=r[e]=a[e](i),t.c()),E(t,1),t.m(s.parentNode,s))},i(i){l||(E(t),l=!0)},o(i){q(t),l=!1},d(i){r[e].d(i),i&&v(s)}}}function ss(n,e,t){let s,l;we(n,yt,r=>t(1,l=r));const a=Et();return we(n,a,r=>t(0,s=r)),Ke(async()=>{const u=await(await xe("api/quiz/points")).json();ze.set(u),a.init()}),[s,l,a]}class cs extends se{constructor(e){super();le(this,e,ss,ts,re,{})}}export{cs as default};
