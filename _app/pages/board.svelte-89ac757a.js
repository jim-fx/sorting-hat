import{S as P,i as R,s as Q,e as v,t as y,c as $,a as g,g as z,d as _,b as d,f as k,G as h,h as H,k as N,n as D,U as F,H as G,an as te,l as E,j as I,m as V,o as j,x as q,u as w,v as A,N as M,r as T,w as B,V as W,Y as L,X as se,ao as re,Z as le,A as ne}from"../chunks/vendor-561498aa.js";import{p as O,q as ie}from"../chunks/stores-7e1142e6.js";import{c as U,g as ae}from"../chunks/index-21c51c30.js";/* empty css                                                       */import{T as oe}from"../chunks/Timer-9d60cbf0.js";function ue(u,e,s){let{quiz:t}=e;return u.$$set=l=>{"quiz"in l&&s(0,t=l.quiz)},[t]}class ce extends P{constructor(e){super();R(this,e,ue,null,Q,{quiz:0})}}function X(u){let e,s=U(u[0])+"",t;return{c(){e=v("p"),t=y(s),this.h()},l(l){e=$(l,"P",{class:!0});var n=g(e);t=z(n,s),n.forEach(_),this.h()},h(){d(e,"class","svelte-voe2pl")},m(l,n){k(l,e,n),h(e,t)},p(l,n){n&1&&s!==(s=U(l[0])+"")&&H(t,s)},d(l){l&&_(e)}}}function fe(u){let e,s,t,l,n,i=u[1]&&X(u);return{c(){e=v("div"),s=v("img"),n=N(),i&&i.c(),this.h()},l(o){e=$(o,"DIV",{});var r=g(e);s=$(r,"IMG",{src:!0,alt:!0,class:!0}),n=D(r),i&&i.l(r),r.forEach(_),this.h()},h(){F(s.src,t="/icons/"+u[0]+".svg")||d(s,"src",t),d(s,"alt",l="Crest of house "+u[0]),d(s,"class","svelte-voe2pl")},m(o,r){k(o,e,r),h(e,s),h(e,n),i&&i.m(e,null)},p(o,[r]){r&1&&!F(s.src,t="/icons/"+o[0]+".svg")&&d(s,"src",t),r&1&&l!==(l="Crest of house "+o[0])&&d(s,"alt",l),o[1]?i?i.p(o,r):(i=X(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:G,o:G,d(o){o&&_(e),i&&i.d()}}}function _e(u,e,s){let{house:t}=e,{showName:l=!1}=e;return u.$$set=n=>{"house"in n&&s(0,t=n.house),"showName"in n&&s(1,l=n.showName)},[t,l]}class Y extends P{constructor(e){super();R(this,e,_e,fe,Q,{house:0,showName:1})}}const Z={gryffindor:"#75262A",hufflepuff:"#F1DE16",ravenclaw:"#1F4963",slytherin:"#437845"};function me(u){let e,s,t,l,n,i=u[6].pts+"",o,r,a,c;return t=new Y({props:{house:u[6].name,showName:!0}}),{c(){e=v("div"),s=v("div"),I(t.$$.fragment),l=N(),n=v("h2"),o=y(i),r=y(" Punkte"),this.h()},l(f){e=$(f,"DIV",{class:!0,style:!0});var m=g(e);s=$(m,"DIV",{class:!0});var p=g(s);V(t.$$.fragment,p),p.forEach(_),l=D(m),n=$(m,"H2",{class:!0});var b=g(n);o=z(b,i),r=z(b," Punkte"),b.forEach(_),m.forEach(_),this.h()},h(){d(s,"class","crest svelte-avrmqx"),d(n,"class","svelte-avrmqx"),d(e,"class","house svelte-avrmqx"),d(e,"style",a=`--color: ${Z[u[6].name]}`)},m(f,m){k(f,e,m),h(e,s),j(t,s,null),h(e,l),h(e,n),h(n,o),h(n,r),c=!0},p(f,m){const p={};m&64&&(p.house=f[6].name),t.$set(p),(!c||m&64)&&i!==(i=f[6].pts+"")&&H(o,i),(!c||m&64&&a!==(a=`--color: ${Z[f[6].name]}`))&&d(e,"style",a)},i(f){c||(q(t.$$.fragment,f),c=!0)},o(f){w(t.$$.fragment,f),c=!1},d(f){f&&_(e),A(t)}}}function J(u){var o;let e,s=((o=u[0])==null?void 0:o.description)+"",t,l,n,i=u[2]&&K(u);return{c(){e=v("h1"),t=y(s),l=N(),i&&i.c(),n=E()},l(r){e=$(r,"H1",{});var a=g(e);t=z(a,s),a.forEach(_),l=D(r),i&&i.l(r),n=E()},m(r,a){k(r,e,a),h(e,t),k(r,l,a),i&&i.m(r,a),k(r,n,a)},p(r,a){var c;a&1&&s!==(s=((c=r[0])==null?void 0:c.description)+"")&&H(t,s),r[2]?i?i.p(r,a):(i=K(r),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(r){r&&_(e),r&&_(l),i&&i.d(r),r&&_(n)}}}function K(u){let e,s=u[2].value+"",t;return{c(){e=v("p"),t=y(s)},l(l){e=$(l,"P",{});var n=g(e);t=z(n,s),n.forEach(_)},m(l,n){k(l,e,n),h(e,t)},p(l,n){n&4&&s!==(s=l[2].value+"")&&H(t,s)},d(l){l&&_(e)}}}function he(u){let e,s,t,l,n,i;t=new te({props:{list:u[1],key:"name",$$slots:{default:[me,({item:r})=>({6:r}),({item:r})=>r?64:0]},$$scope:{ctx:u}}});let o=u[0]&&J(u);return{c(){e=v("div"),s=v("div"),I(t.$$.fragment),l=N(),n=v("div"),o&&o.c(),this.h()},l(r){e=$(r,"DIV",{class:!0});var a=g(e);s=$(a,"DIV",{class:!0});var c=g(s);V(t.$$.fragment,c),c.forEach(_),l=D(a),n=$(a,"DIV",{class:!0});var f=g(n);o&&o.l(f),f.forEach(_),a.forEach(_),this.h()},h(){d(s,"class","house-wrapper svelte-avrmqx"),d(n,"class","current-question svelte-avrmqx"),d(e,"class","container svelte-avrmqx")},m(r,a){k(r,e,a),h(e,s),j(t,s,null),h(e,l),h(e,n),o&&o.m(n,null),i=!0},p(r,[a]){const c={};a&2&&(c.list=r[1]),a&192&&(c.$$scope={dirty:a,ctx:r}),t.$set(c),r[0]?o?o.p(r,a):(o=J(r),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i(r){i||(q(t.$$.fragment,r),i=!0)},o(r){w(t.$$.fragment,r),i=!1},d(r){r&&_(e),A(t),o&&o.d()}}}function pe(u,e,s){let t,l,n,i,o;M(u,O,a=>s(5,o=a));let{quiz:r}=e;return u.$$set=a=>{"quiz"in a&&s(3,r=a.quiz)},u.$$.update=()=>{u.$$.dirty&8&&s(0,t=r==null?void 0:r.activeQuestion),u.$$.dirty&1&&s(2,l=t==null?void 0:t.answers.find(a=>(a==null?void 0:a.id)===(t==null?void 0:t.correctAnswer))),u.$$.dirty&32&&s(4,n=Object.entries(o==null?void 0:o.house).map(([a,c])=>({name:a,pts:c}))),u.$$.dirty&16&&s(1,i=n.sort((a,c)=>a.pts>c.pts?-1:1))},[t,i,l,r,n,o]}class de extends P{constructor(e){super();R(this,e,pe,he,Q,{quiz:3})}}function x(u,e,s){const t=u.slice();return t[3]=e[s],t}function ve(u){let e,s,t,l,n,i=u[1],o=[];for(let a=0;a<i.length;a+=1)o[a]=ee(x(u,i,a));const r=a=>w(o[a],1,1,()=>{o[a]=null});return{c(){e=v("h1"),s=y("Registriert euch"),t=N();for(let a=0;a<o.length;a+=1)o[a].c();l=E()},l(a){e=$(a,"H1",{});var c=g(e);s=z(c,"Registriert euch"),c.forEach(_),t=D(a);for(let f=0;f<o.length;f+=1)o[f].l(a);l=E()},m(a,c){k(a,e,c),h(e,s),k(a,t,c);for(let f=0;f<o.length;f+=1)o[f].m(a,c);k(a,l,c),n=!0},p(a,c){if(c&2){i=a[1];let f;for(f=0;f<i.length;f+=1){const m=x(a,i,f);o[f]?(o[f].p(m,c),q(o[f],1)):(o[f]=ee(m),o[f].c(),q(o[f],1),o[f].m(l.parentNode,l))}for(T(),f=i.length;f<o.length;f+=1)r(f);B()}},i(a){if(!n){for(let c=0;c<i.length;c+=1)q(o[c]);n=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)w(o[c]);n=!1},d(a){a&&_(e),a&&_(t),le(o,a),a&&_(l)}}}function $e(u){let e,s;return e=new oe({props:{endsAt:u[0].startsAt,$$slots:{default:[ge,({secondsLeft:t})=>({2:t}),({secondsLeft:t})=>t?4:0]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p(t,l){const n={};l&1&&(n.endsAt=t[0].startsAt),l&68&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){A(e,t)}}}function ee(u){let e,s,t,l,n,i,o=u[3].name+"",r,a,c,f,m;return t=new Y({props:{house:u[3].house}}),{c(){e=v("div"),s=v("div"),I(t.$$.fragment),n=N(),i=v("p"),r=y(o),a=y(" registered"),c=N(),this.h()},l(p){e=$(p,"DIV",{class:!0});var b=g(e);s=$(b,"DIV",{class:!0});var C=g(s);V(t.$$.fragment,C),C.forEach(_),n=D(b),i=$(b,"P",{class:!0});var S=g(i);r=z(S,o),a=z(S," registered"),S.forEach(_),c=D(b),b.forEach(_),this.h()},h(){d(s,"class","crest svelte-1pgh7fu"),d(i,"class","svelte-1pgh7fu"),d(e,"class","user svelte-1pgh7fu")},m(p,b){k(p,e,b),h(e,s),j(t,s,null),h(e,n),h(e,i),h(i,r),h(i,a),h(e,c),m=!0},p(p,b){const C={};b&2&&(C.house=p[3].house),t.$set(C),(!m||b&2)&&o!==(o=p[3].name+"")&&H(r,o)},i(p){m||(q(t.$$.fragment,p),l||W(()=>{l=L(s,se,{delay:500}),l.start()}),f||W(()=>{f=L(e,re,{}),f.start()}),m=!0)},o(p){w(t.$$.fragment,p),m=!1},d(p){p&&_(e),A(t)}}}function ge(u){let e,s,t=u[2]+"",l;return{c(){e=v("h1"),s=y("Quiz startet in "),l=y(t)},l(n){e=$(n,"H1",{});var i=g(e);s=z(i,"Quiz startet in "),l=z(i,t),i.forEach(_)},m(n,i){k(n,e,i),h(e,s),h(e,l)},p(n,i){i&4&&t!==(t=n[2]+"")&&H(l,t)},d(n){n&&_(e)}}}function ke(u){let e,s,t,l;const n=[$e,ve],i=[];function o(r,a){return r[0].startsAt?0:1}return e=o(u),s=i[e]=n[e](u),{c(){s.c(),t=E()},l(r){s.l(r),t=E()},m(r,a){i[e].m(r,a),k(r,t,a),l=!0},p(r,[a]){let c=e;e=o(r),e===c?i[e].p(r,a):(T(),w(i[c],1,1,()=>{i[c]=null}),B(),s=i[e],s?s.p(r,a):(s=i[e]=n[e](r),s.c()),q(s,1),s.m(t.parentNode,t))},i(r){l||(q(s),l=!0)},o(r){w(s),l=!1},d(r){i[e].d(r),r&&_(t)}}}function be(u,e,s){let t,{quiz:l}=e;return u.$$set=n=>{"quiz"in n&&s(0,l=n.quiz)},u.$$.update=()=>{u.$$.dirty&1&&s(1,t=(l==null?void 0:l.users)||[])},[l,t]}class qe extends P{constructor(e){super();R(this,e,be,ke,Q,{quiz:0})}}function we(u){let e,s;return e=new ce({props:{quiz:u[0]}}),{c(){I(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p(t,l){const n={};l&1&&(n.quiz=t[0]),e.$set(n)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){A(e,t)}}}function ye(u){let e,s;return e=new de({props:{quiz:u[0]}}),{c(){I(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p(t,l){const n={};l&1&&(n.quiz=t[0]),e.$set(n)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){A(e,t)}}}function ze(u){let e,s;return e=new qe({props:{quiz:u[0]}}),{c(){I(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p(t,l){const n={};l&1&&(n.quiz=t[0]),e.$set(n)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){A(e,t)}}}function Ee(u){let e,s,t,l;const n=[ze,ye,we],i=[];function o(r,a){var c,f,m;return((c=r[0])==null?void 0:c.state)==="registration"?0:((f=r[0])==null?void 0:f.state)==="running"?1:((m=r[0])==null?void 0:m.state)==="results"?2:-1}return~(e=o(u))&&(s=i[e]=n[e](u)),{c(){s&&s.c(),t=E()},l(r){s&&s.l(r),t=E()},m(r,a){~e&&i[e].m(r,a),k(r,t,a),l=!0},p(r,[a]){let c=e;e=o(r),e===c?~e&&i[e].p(r,a):(s&&(T(),w(i[c],1,1,()=>{i[c]=null}),B()),~e?(s=i[e],s?s.p(r,a):(s=i[e]=n[e](r),s.c()),q(s,1),s.m(t.parentNode,t)):s=null)},i(r){l||(q(s),l=!0)},o(r){w(s),l=!1},d(r){~e&&i[e].d(r),r&&_(t)}}}function Ne(u,e,s){let t;return M(u,ie,l=>s(0,t=l)),ne(async()=>{const n=await(await ae("api/quiz/points")).json();O.set(n)}),[t]}class He extends P{constructor(e){super();R(this,e,Ne,Ee,Q,{})}}export{He as default};
