import{S as R,i as M,s as Q,e as g,t as q,c as b,a as k,g as y,d as h,b as $,f as w,G as v,h as I,k as V,n as A,U as F,H as G,an as te,l as P,j as H,m as N,o as j,x as z,u as E,v as C,M as W,r as T,w as B,V as L,Y as O,X as se,ao as re,Z as le,A as ne}from"../chunks/vendor-3db4c2b7.js";import{p as U,q as ie}from"../chunks/stores-f6a5ebba.js";import{c as X,g as ae}from"../chunks/index-21c51c30.js";import{T as ue}from"../chunks/Timer-e03fbdb7.js";function oe(a,e,s){let{quiz:t}=e;return a.$$set=r=>{"quiz"in r&&s(0,t=r.quiz)},[t]}class ce extends R{constructor(e){super();M(this,e,oe,null,Q,{quiz:0})}}function Y(a){let e,s=X(a[0])+"",t;return{c(){e=g("p"),t=q(s),this.h()},l(r){e=b(r,"P",{class:!0});var n=k(e);t=y(n,s),n.forEach(h),this.h()},h(){$(e,"class","svelte-voe2pl")},m(r,n){w(r,e,n),v(e,t)},p(r,n){n&1&&s!==(s=X(r[0])+"")&&I(t,s)},d(r){r&&h(e)}}}function fe(a){let e,s,t,r,n,i=a[1]&&Y(a);return{c(){e=g("div"),s=g("img"),n=V(),i&&i.c(),this.h()},l(o){e=b(o,"DIV",{});var l=k(e);s=b(l,"IMG",{src:!0,alt:!0,class:!0}),n=A(l),i&&i.l(l),l.forEach(h),this.h()},h(){F(s.src,t="/icons/"+a[0]+".svg")||$(s,"src",t),$(s,"alt",r="Crest of house "+a[0]),$(s,"class","svelte-voe2pl")},m(o,l){w(o,e,l),v(e,s),v(e,n),i&&i.m(e,null)},p(o,[l]){l&1&&!F(s.src,t="/icons/"+o[0]+".svg")&&$(s,"src",t),l&1&&r!==(r="Crest of house "+o[0])&&$(s,"alt",r),o[1]?i?i.p(o,l):(i=Y(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:G,o:G,d(o){o&&h(e),i&&i.d()}}}function _e(a,e,s){let{house:t}=e,{showName:r=!1}=e;return a.$$set=n=>{"house"in n&&s(0,t=n.house),"showName"in n&&s(1,r=n.showName)},[t,r]}class Z extends R{constructor(e){super();M(this,e,_e,fe,Q,{house:0,showName:1})}}const J={gryffindor:"#75262A",hufflepuff:"#F1DE16",ravenclaw:"#1F4963",slytherin:"#437845"};function he(a){let e,s,t,r,n,i=a[7].pts+"",o,l,_,u;return t=new Z({props:{house:a[7].name,showName:!0}}),{c(){e=g("div"),s=g("div"),H(t.$$.fragment),r=V(),n=g("h2"),o=q(i),l=q(" Punkte"),this.h()},l(c){e=b(c,"DIV",{class:!0,style:!0});var d=k(e);s=b(d,"DIV",{class:!0});var f=k(s);N(t.$$.fragment,f),f.forEach(h),r=A(d),n=b(d,"H2",{class:!0});var m=k(n);o=y(m,i),l=y(m," Punkte"),m.forEach(h),d.forEach(h),this.h()},h(){$(s,"class","crest svelte-avrmqx"),$(n,"class","svelte-avrmqx"),$(e,"class","house svelte-avrmqx"),$(e,"style",_=`--color: ${J[a[7].name]}`)},m(c,d){w(c,e,d),v(e,s),j(t,s,null),v(e,r),v(e,n),v(n,o),v(n,l),u=!0},p(c,d){const f={};d&128&&(f.house=c[7].name),t.$set(f),(!u||d&128)&&i!==(i=c[7].pts+"")&&I(o,i),(!u||d&128&&_!==(_=`--color: ${J[c[7].name]}`))&&$(e,"style",_)},i(c){u||(z(t.$$.fragment,c),u=!0)},o(c){E(t.$$.fragment,c),u=!1},d(c){c&&h(e),C(t)}}}function K(a){var _;let e,s=((_=a[1])==null?void 0:_.description)+"",t,r,n;function i(u,c){return u[4]?pe:me}let o=i(a),l=o(a);return{c(){e=g("h1"),t=q(s),r=V(),l.c(),n=P()},l(u){e=b(u,"H1",{});var c=k(e);t=y(c,s),c.forEach(h),r=A(u),l.l(u),n=P()},m(u,c){w(u,e,c),v(e,t),w(u,r,c),l.m(u,c),w(u,n,c)},p(u,c){var d;c&2&&s!==(s=((d=u[1])==null?void 0:d.description)+"")&&I(t,s),o===(o=i(u))&&l?l.p(u,c):(l.d(1),l=o(u),l&&(l.c(),l.m(n.parentNode,n)))},d(u){u&&h(e),u&&h(r),l.d(u),u&&h(n)}}}function me(a){let e,s,t,r=a[0].users.length+"",n;return{c(){e=g("p"),s=q(a[3]),t=q("/"),n=q(r)},l(i){e=b(i,"P",{});var o=k(e);s=y(o,a[3]),t=y(o,"/"),n=y(o,r),o.forEach(h)},m(i,o){w(i,e,o),v(e,s),v(e,t),v(e,n)},p(i,o){o&8&&I(s,i[3]),o&1&&r!==(r=i[0].users.length+"")&&I(n,r)},d(i){i&&h(e)}}}function pe(a){let e,s=a[4].value+"",t;return{c(){e=g("p"),t=q(s)},l(r){e=b(r,"P",{});var n=k(e);t=y(n,s),n.forEach(h)},m(r,n){w(r,e,n),v(e,t)},p(r,n){n&16&&s!==(s=r[4].value+"")&&I(t,s)},d(r){r&&h(e)}}}function ve(a){let e,s,t,r,n,i;t=new te({props:{list:a[2],key:"name",$$slots:{default:[he,({item:l})=>({7:l}),({item:l})=>l?128:0]},$$scope:{ctx:a}}});let o=a[1]&&K(a);return{c(){e=g("div"),s=g("div"),H(t.$$.fragment),r=V(),n=g("div"),o&&o.c(),this.h()},l(l){e=b(l,"DIV",{class:!0});var _=k(e);s=b(_,"DIV",{class:!0});var u=k(s);N(t.$$.fragment,u),u.forEach(h),r=A(_),n=b(_,"DIV",{class:!0});var c=k(n);o&&o.l(c),c.forEach(h),_.forEach(h),this.h()},h(){$(s,"class","house-wrapper svelte-avrmqx"),$(n,"class","current-question svelte-avrmqx"),$(e,"class","container svelte-avrmqx")},m(l,_){w(l,e,_),v(e,s),j(t,s,null),v(e,r),v(e,n),o&&o.m(n,null),i=!0},p(l,[_]){const u={};_&4&&(u.list=l[2]),_&384&&(u.$$scope={dirty:_,ctx:l}),t.$set(u),l[1]?o?o.p(l,_):(o=K(l),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i(l){i||(z(t.$$.fragment,l),i=!0)},o(l){E(t.$$.fragment,l),i=!1},d(l){l&&h(e),C(t),o&&o.d()}}}function de(a,e,s){let t,r,n,i,o,l;W(a,U,u=>s(6,l=u));let{quiz:_}=e;return a.$$set=u=>{"quiz"in u&&s(0,_=u.quiz)},a.$$.update=()=>{a.$$.dirty&1&&s(1,t=_==null?void 0:_.activeQuestion),a.$$.dirty&2&&s(4,r=t==null?void 0:t.answers.find(u=>(u==null?void 0:u.id)===(t==null?void 0:t.correctAnswer))),a.$$.dirty&2&&s(3,n=t.type==="multiple"?t.answers.map(u=>u.votes.length).reduce((u,c)=>u+c,0):t.answers.length),a.$$.dirty&64&&s(5,i=Object.entries(l==null?void 0:l.house).map(([u,c])=>({name:u,pts:c}))),a.$$.dirty&32&&s(2,o=i.sort((u,c)=>u.pts>c.pts?-1:1))},[_,t,o,n,r,i,l]}class $e extends R{constructor(e){super();M(this,e,de,ve,Q,{quiz:0})}}function x(a,e,s){const t=a.slice();return t[3]=e[s],t}function ge(a){let e,s,t,r,n=a[0].description+"",i,o,l,_,u=a[1],c=[];for(let f=0;f<u.length;f+=1)c[f]=ee(x(a,u,f));const d=f=>E(c[f],1,1,()=>{c[f]=null});return{c(){e=g("h3"),s=q("Registriert euch f\xFCr"),t=V(),r=g("h1"),i=q(n),o=V(),l=g("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=b(f,"H3",{class:!0});var m=k(e);s=y(m,"Registriert euch f\xFCr"),m.forEach(h),t=A(f),r=b(f,"H1",{class:!0});var p=k(r);i=y(p,n),p.forEach(h),o=A(f),l=b(f,"DIV",{class:!0});var D=k(l);for(let S=0;S<c.length;S+=1)c[S].l(D);D.forEach(h),this.h()},h(){$(e,"class","svelte-2bu6ux"),$(r,"class","svelte-2bu6ux"),$(l,"class","users svelte-2bu6ux")},m(f,m){w(f,e,m),v(e,s),w(f,t,m),w(f,r,m),v(r,i),w(f,o,m),w(f,l,m);for(let p=0;p<c.length;p+=1)c[p].m(l,null);_=!0},p(f,m){if((!_||m&1)&&n!==(n=f[0].description+"")&&I(i,n),m&2){u=f[1];let p;for(p=0;p<u.length;p+=1){const D=x(f,u,p);c[p]?(c[p].p(D,m),z(c[p],1)):(c[p]=ee(D),c[p].c(),z(c[p],1),c[p].m(l,null))}for(T(),p=u.length;p<c.length;p+=1)d(p);B()}},i(f){if(!_){for(let m=0;m<u.length;m+=1)z(c[m]);_=!0}},o(f){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)E(c[m]);_=!1},d(f){f&&h(e),f&&h(t),f&&h(r),f&&h(o),f&&h(l),le(c,f)}}}function be(a){let e,s;return e=new ue({props:{endsAt:a[0].startsAt,$$slots:{default:[ke,({secondsLeft:t})=>({2:t}),({secondsLeft:t})=>t?4:0]},$$scope:{ctx:a}}}),{c(){H(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){j(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.endsAt=t[0].startsAt),r&68&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function ee(a){let e,s,t,r,n,i,o=a[3].name+"",l,_,u,c,d;return t=new Z({props:{house:a[3].house}}),{c(){e=g("div"),s=g("div"),H(t.$$.fragment),n=V(),i=g("p"),l=q(o),_=q(" registered"),u=V(),this.h()},l(f){e=b(f,"DIV",{class:!0});var m=k(e);s=b(m,"DIV",{class:!0});var p=k(s);N(t.$$.fragment,p),p.forEach(h),n=A(m),i=b(m,"P",{class:!0});var D=k(i);l=y(D,o),_=y(D," registered"),D.forEach(h),u=A(m),m.forEach(h),this.h()},h(){$(s,"class","crest svelte-2bu6ux"),$(i,"class","svelte-2bu6ux"),$(e,"class","user svelte-2bu6ux")},m(f,m){w(f,e,m),v(e,s),j(t,s,null),v(e,n),v(e,i),v(i,l),v(i,_),v(e,u),d=!0},p(f,m){const p={};m&2&&(p.house=f[3].house),t.$set(p),(!d||m&2)&&o!==(o=f[3].name+"")&&I(l,o)},i(f){d||(z(t.$$.fragment,f),r||L(()=>{r=O(s,se,{delay:500}),r.start()}),c||L(()=>{c=O(e,re,{}),c.start()}),d=!0)},o(f){E(t.$$.fragment,f),d=!1},d(f){f&&h(e),C(t)}}}function ke(a){let e,s,t=a[2]+"",r;return{c(){e=g("h1"),s=q("Quiz startet in "),r=q(t),this.h()},l(n){e=b(n,"H1",{class:!0});var i=k(e);s=y(i,"Quiz startet in "),r=y(i,t),i.forEach(h),this.h()},h(){$(e,"class","svelte-2bu6ux")},m(n,i){w(n,e,i),v(e,s),v(e,r)},p(n,i){i&4&&t!==(t=n[2]+"")&&I(r,t)},d(n){n&&h(e)}}}function we(a){let e,s,t,r;const n=[be,ge],i=[];function o(l,_){return l[0].startsAt?0:1}return e=o(a),s=i[e]=n[e](a),{c(){s.c(),t=P()},l(l){s.l(l),t=P()},m(l,_){i[e].m(l,_),w(l,t,_),r=!0},p(l,[_]){let u=e;e=o(l),e===u?i[e].p(l,_):(T(),E(i[u],1,1,()=>{i[u]=null}),B(),s=i[e],s?s.p(l,_):(s=i[e]=n[e](l),s.c()),z(s,1),s.m(t.parentNode,t))},i(l){r||(z(s),r=!0)},o(l){E(s),r=!1},d(l){i[e].d(l),l&&h(t)}}}function qe(a,e,s){let t,{quiz:r}=e;return a.$$set=n=>{"quiz"in n&&s(0,r=n.quiz)},a.$$.update=()=>{a.$$.dirty&1&&s(1,t=(r==null?void 0:r.users)||[])},[r,t]}class ye extends R{constructor(e){super();M(this,e,qe,we,Q,{quiz:0})}}function ze(a){let e,s;return e=new ce({props:{quiz:a[0]}}),{c(){H(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){j(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.quiz=t[0]),e.$set(n)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ee(a){let e,s;return e=new $e({props:{quiz:a[0]}}),{c(){H(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){j(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.quiz=t[0]),e.$set(n)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function De(a){let e,s;return e=new ye({props:{quiz:a[0]}}),{c(){H(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){j(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.quiz=t[0]),e.$set(n)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ie(a){let e,s,t,r;const n=[De,Ee,ze],i=[];function o(l,_){var u,c,d;return((u=l[0])==null?void 0:u.state)==="registration"?0:((c=l[0])==null?void 0:c.state)==="running"?1:((d=l[0])==null?void 0:d.state)==="results"?2:-1}return~(e=o(a))&&(s=i[e]=n[e](a)),{c(){s&&s.c(),t=P()},l(l){s&&s.l(l),t=P()},m(l,_){~e&&i[e].m(l,_),w(l,t,_),r=!0},p(l,[_]){let u=e;e=o(l),e===u?~e&&i[e].p(l,_):(s&&(T(),E(i[u],1,1,()=>{i[u]=null}),B()),~e?(s=i[e],s?s.p(l,_):(s=i[e]=n[e](l),s.c()),z(s,1),s.m(t.parentNode,t)):s=null)},i(l){r||(z(s),r=!0)},o(l){E(s),r=!1},d(l){~e&&i[e].d(l),l&&h(t)}}}function Ve(a,e,s){let t;return W(a,ie,r=>s(0,t=r)),ne(async()=>{const n=await(await ae("api/quiz/points")).json();U.set(n)}),[t]}class Ce extends R{constructor(e){super();M(this,e,Ve,Ie,Q,{})}}export{Ce as default};
