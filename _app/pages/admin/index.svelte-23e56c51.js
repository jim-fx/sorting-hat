var Te=Object.defineProperty;var te=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var le=(o,e,l)=>e in o?Te(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l,se=(o,e)=>{for(var l in e||(e={}))$e.call(e,l)&&le(o,l,e[l]);if(te)for(var l of te(e))ye.call(e,l)&&le(o,l,e[l]);return o};import{S as M,i as I,s as X,e as $,t as y,k as Q,c as N,a as z,g as w,d as p,n as q,b as S,f as E,G as v,h as H,H as A,ae as L,r as F,u as P,w as G,x as D,aj as Ne,N as R,l as j,O as ne,j as K,m as J,o as W,v as Y,a7 as x,A as re}from"../../chunks/vendor-453c144d.js";import{e as ze,g as we,p as Z}from"../../chunks/index-d0b67739.js";import{T as Se}from"../../chunks/Crest.svelte_svelte_type_style_lang-cff3bd29.js";import{u as Ue,q as Oe,g as Qe}from"../../chunks/index-8850a410.js";import{h as ie}from"../../chunks/houses-9a4fb946.js";function oe(o,e,l){const t=o.slice();return t[1]=e[l],t}function ce(o){let e,l,t=o[1].name+"",s,n,c,u=o[1].house+"",i,r;return{c(){e=$("tr"),l=$("td"),s=y(t),n=Q(),c=$("td"),i=y(u),r=Q(),this.h()},l(_){e=N(_,"TR",{class:!0});var a=z(e);l=N(a,"TD",{class:!0});var f=z(l);s=w(f,t),f.forEach(p),n=q(a),c=N(a,"TD",{class:!0});var d=z(c);i=w(d,u),d.forEach(p),r=q(a),a.forEach(p),this.h()},h(){S(l,"class","svelte-g1t6o9"),S(c,"class","svelte-g1t6o9"),S(e,"class","svelte-g1t6o9")},m(_,a){E(_,e,a),v(e,l),v(l,s),v(e,n),v(e,c),v(c,i),v(e,r)},p(_,a){a&1&&t!==(t=_[1].name+"")&&H(s,t),a&1&&u!==(u=_[1].house+"")&&H(i,u)},d(_){_&&p(e)}}}function qe(o){let e,l,t,s,n,c,u,i,r,_,a=o[0].length+"",f,d,h=o[0],k=[];for(let g=0;g<h.length;g+=1)k[g]=ce(oe(o,h,g));return{c(){e=$("table"),l=$("thead"),t=$("td"),s=y("Name"),n=Q(),c=$("td"),u=y("House"),i=Q();for(let g=0;g<k.length;g+=1)k[g].c();r=Q(),_=$("p"),f=y(a),d=y(" registrations"),this.h()},l(g){e=N(g,"TABLE",{class:!0});var U=z(e);l=N(U,"THEAD",{});var m=z(l);t=N(m,"TD",{class:!0});var b=z(t);s=w(b,"Name"),b.forEach(p),n=q(m),c=N(m,"TD",{class:!0});var O=z(c);u=w(O,"House"),O.forEach(p),m.forEach(p),i=q(U);for(let B=0;B<k.length;B+=1)k[B].l(U);U.forEach(p),r=q(g),_=N(g,"P",{});var T=z(_);f=w(T,a),d=w(T," registrations"),T.forEach(p),this.h()},h(){S(t,"class","svelte-g1t6o9"),S(c,"class","svelte-g1t6o9"),S(e,"class","svelte-g1t6o9")},m(g,U){E(g,e,U),v(e,l),v(l,t),v(t,s),v(l,n),v(l,c),v(c,u),v(e,i);for(let m=0;m<k.length;m+=1)k[m].m(e,null);E(g,r,U),E(g,_,U),v(_,f),v(_,d)},p(g,[U]){if(U&1){h=g[0];let m;for(m=0;m<h.length;m+=1){const b=oe(g,h,m);k[m]?k[m].p(b,U):(k[m]=ce(b),k[m].c(),k[m].m(e,null))}for(;m<k.length;m+=1)k[m].d(1);k.length=h.length}U&1&&a!==(a=g[0].length+"")&&H(f,a)},i:A,o:A,d(g){g&&p(e),L(k,g),g&&p(r),g&&p(_)}}}function Ae(o,e,l){let{users:t}=e;return o.$$set=s=>{"users"in s&&l(0,t=s.users)},[t]}class Be extends M{constructor(e){super();I(this,e,Ae,qe,X,{users:0})}}function De(o){let e,l,t,s;return{c(){e=$("button"),l=y("End Quiz"),this.h()},l(n){e=N(n,"BUTTON",{class:!0});var c=z(e);l=w(c,"End Quiz"),c.forEach(p),this.h()},h(){S(e,"class","svelte-pg62n")},m(n,c){E(n,e,c),v(e,l),t||(s=R(e,"click",o[14]),t=!0)},p:A,i:A,o:A,d(n){n&&p(e),t=!1,s()}}}function Re(o){let e,l,t,s,n;function c(r,_){if(r[2]==="open")return Ve;if(r[2]==="voting-open")return je;if(r[2]==="closed")return Pe}let u=c(o),i=u&&u(o);return{c(){i&&i.c(),e=Q(),l=$("button"),t=y("End Quiz"),this.h()},l(r){i&&i.l(r),e=q(r),l=N(r,"BUTTON",{class:!0});var _=z(l);t=w(_,"End Quiz"),_.forEach(p),this.h()},h(){S(l,"class","svelte-pg62n")},m(r,_){i&&i.m(r,_),E(r,e,_),E(r,l,_),v(l,t),s||(n=R(l,"click",o[13]),s=!0)},p(r,_){u===(u=c(r))&&i?i.p(r,_):(i&&i.d(1),i=u&&u(r),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(r){i&&i.d(r),r&&p(e),r&&p(l),s=!1,n()}}}function He(o){let e,l,t,s,n,c,u,i,r;const _=[Ie,Me],a=[];function f(d,h){return d[0].startsAt?0:d[0].startsAt?-1:1}return~(s=f(o))&&(n=a[s]=_[s](o)),{c(){e=$("button"),l=y("Start Quiz"),t=Q(),n&&n.c(),c=j(),this.h()},l(d){e=N(d,"BUTTON",{class:!0});var h=z(e);l=w(h,"Start Quiz"),h.forEach(p),t=q(d),n&&n.l(d),c=j(),this.h()},h(){S(e,"class","svelte-pg62n")},m(d,h){E(d,e,h),v(e,l),E(d,t,h),~s&&a[s].m(d,h),E(d,c,h),u=!0,i||(r=R(e,"click",o[5]),i=!0)},p(d,h){let k=s;s=f(d),s===k?~s&&a[s].p(d,h):(n&&(F(),P(a[k],1,1,()=>{a[k]=null}),G()),~s?(n=a[s],n?n.p(d,h):(n=a[s]=_[s](d),n.c()),D(n,1),n.m(c.parentNode,c)):n=null)},i(d){u||(D(n),u=!0)},o(d){P(n),u=!1},d(d){d&&p(e),d&&p(t),~s&&a[s].d(d),d&&p(c),i=!1,r()}}}function Pe(o){let e;function l(n,c){var u;return((u=n[1])==null?void 0:u.index)===n[0].amount-1?Ce:Le}let t=l(o),s=t(o);return{c(){s.c(),e=j()},l(n){s.l(n),e=j()},m(n,c){s.m(n,c),E(n,e,c)},p(n,c){t===(t=l(n))&&s?s.p(n,c):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){s.d(n),n&&p(e)}}}function je(o){let e,l,t,s;return{c(){e=$("button"),l=y("Close Voting"),this.h()},l(n){e=N(n,"BUTTON",{class:!0});var c=z(e);l=w(c,"Close Voting"),c.forEach(p),this.h()},h(){S(e,"class","svelte-pg62n")},m(n,c){E(n,e,c),v(e,l),t||(s=R(e,"click",o[10]),t=!0)},p:A,d(n){n&&p(e),t=!1,s()}}}function Ve(o){var c;let e,l=(((c=o[1])==null?void 0:c.type)==="voting"?"Start Voting":"End Question")+"",t,s,n;return{c(){e=$("button"),t=y(l),this.h()},l(u){e=N(u,"BUTTON",{class:!0});var i=z(e);t=w(i,l),i.forEach(p),this.h()},h(){S(e,"class","svelte-pg62n")},m(u,i){E(u,e,i),v(e,t),s||(n=R(e,"click",o[9]),s=!0)},p(u,i){var r;i&2&&l!==(l=(((r=u[1])==null?void 0:r.type)==="voting"?"Start Voting":"End Question")+"")&&H(t,l)},d(u){u&&p(e),s=!1,n()}}}function Le(o){let e,l,t,s;return{c(){e=$("button"),l=y("Next Question"),this.h()},l(n){e=N(n,"BUTTON",{class:!0});var c=z(e);l=w(c,"Next Question"),c.forEach(p),this.h()},h(){S(e,"class","svelte-pg62n")},m(n,c){E(n,e,c),v(e,l),t||(s=R(e,"click",o[12]),t=!0)},p:A,d(n){n&&p(e),t=!1,s()}}}function Ce(o){let e,l,t,s;return{c(){e=$("button"),l=y("Show Results"),this.h()},l(n){e=N(n,"BUTTON",{class:!0});var c=z(e);l=w(c,"Show Results"),c.forEach(p),this.h()},h(){S(e,"class","svelte-pg62n")},m(n,c){E(n,e,c),v(e,l),t||(s=R(e,"click",o[11]),t=!0)},p:A,d(n){n&&p(e),t=!1,s()}}}function Me(o){let e,l,t,s,n,c,u,i,r,_;return{c(){e=$("button"),l=y("Start in 10s"),t=Q(),s=$("button"),n=y("Start in 1m"),c=Q(),u=$("button"),i=y("Start in 5m"),this.h()},l(a){e=N(a,"BUTTON",{class:!0});var f=z(e);l=w(f,"Start in 10s"),f.forEach(p),t=q(a),s=N(a,"BUTTON",{class:!0});var d=z(s);n=w(d,"Start in 1m"),d.forEach(p),c=q(a),u=N(a,"BUTTON",{class:!0});var h=z(u);i=w(h,"Start in 5m"),h.forEach(p),this.h()},h(){S(e,"class","svelte-pg62n"),S(s,"class","svelte-pg62n"),S(u,"class","svelte-pg62n")},m(a,f){E(a,e,f),v(e,l),E(a,t,f),E(a,s,f),v(s,n),E(a,c,f),E(a,u,f),v(u,i),r||(_=[R(e,"click",o[6]),R(s,"click",o[7]),R(u,"click",o[8])],r=!0)},p:A,i:A,o:A,d(a){a&&p(e),a&&p(t),a&&p(s),a&&p(c),a&&p(u),r=!1,ne(_)}}}function Ie(o){let e,l;return e=new Se({props:{endsAt:o[0].startsAt}}),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){W(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.endsAt=t[0].startsAt),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function Xe(o){let e,l,t,s=(o[2]?"."+o[2]:"")+"",n,c,u,i,r,_;const a=[He,Re,De],f=[];function d(h,k){return h[3]==="registration"?0:h[3]==="running"?1:h[3]==="results"?2:-1}return~(i=d(o))&&(r=f[i]=a[i](o)),{c(){e=$("header"),l=$("h1"),t=y(o[3]),n=y(s),c=Q(),u=$("div"),r&&r.c(),this.h()},l(h){e=N(h,"HEADER",{class:!0});var k=z(e);l=N(k,"H1",{class:!0});var g=z(l);t=w(g,o[3]),n=w(g,s),g.forEach(p),c=q(k),u=N(k,"DIV",{class:!0});var U=z(u);r&&r.l(U),U.forEach(p),k.forEach(p),this.h()},h(){S(l,"class","svelte-pg62n"),S(u,"class","scroller svelte-pg62n"),S(e,"class","svelte-pg62n")},m(h,k){E(h,e,k),v(e,l),v(l,t),v(l,n),v(e,c),v(e,u),~i&&f[i].m(u,null),_=!0},p(h,[k]){(!_||k&8)&&H(t,h[3]),(!_||k&4)&&s!==(s=(h[2]?"."+h[2]:"")+"")&&H(n,s);let g=i;i=d(h),i===g?~i&&f[i].p(h,k):(r&&(F(),P(f[g],1,1,()=>{f[g]=null}),G()),~i?(r=f[i],r?r.p(h,k):(r=f[i]=a[i](h),r.c()),D(r,1),r.m(u,null)):r=null)},i(h){_||(D(r),_=!0)},o(h){P(r),_=!1},d(h){h&&p(e),~i&&f[i].d()}}}function Fe(o,e,l){let t,s,n;const c=Ne();let{quiz:u}=e;function i(b,O){c("action",{type:b,data:O})}const r=()=>i("start-quiz"),_=()=>i("start-quiz-timer",{time:10*1e3}),a=()=>i("start-quiz-timer",{time:60*1e3}),f=()=>i("start-quiz-timer",{time:60*1e3*5}),d=()=>i("close-question"),h=()=>i("close-voting"),k=()=>i("end-question"),g=()=>i("end-question"),U=()=>confirm("End Quiz?")&&i("end-quiz"),m=()=>confirm("End Quiz?")&&i("end-quiz");return o.$$set=b=>{"quiz"in b&&l(0,u=b.quiz)},o.$$.update=()=>{o.$$.dirty&1&&l(1,t=u==null?void 0:u.activeQuestion),o.$$.dirty&1&&l(3,s=u==null?void 0:u.state),o.$$.dirty&2&&l(2,n=t==null?void 0:t.state)},[u,t,n,s,i,r,_,a,f,d,h,k,g,U,m]}class Ge extends M{constructor(e){super();I(this,e,Fe,Xe,X,{quiz:0})}}function ae(o,e,l){const t=o.slice();return t[5]=e[l],t}function ue(o,e,l){const t=o.slice();return t[8]=e[l],t}function fe(o,e,l){const t=o.slice();return t[11]=e[l],t}function _e(o){let e,l=o[11].value+"",t;return{c(){e=$("td"),t=y(l),this.h()},l(s){e=N(s,"TD",{class:!0});var n=z(e);t=w(n,l),n.forEach(p),this.h()},h(){S(e,"class","svelte-177xkck")},m(s,n){E(s,e,n),v(e,t)},p(s,n){n&1&&l!==(l=s[11].value+"")&&H(t,l)},d(s){s&&p(e)}}}function he(o){let e,l=(o[8].votes.includes(o[5].id)?"X":" ")+"",t;return{c(){e=$("td"),t=y(l),this.h()},l(s){e=N(s,"TD",{class:!0});var n=z(e);t=w(n,l),n.forEach(p),this.h()},h(){S(e,"class","svelte-177xkck")},m(s,n){E(s,e,n),v(e,t)},p(s,n){n&5&&l!==(l=(s[8].votes.includes(s[5].id)?"X":" ")+"")&&H(t,l)},d(s){s&&p(e)}}}function de(o){let e,l,t=o[5].name+"",s,n,c,u=o[0],i=[];for(let r=0;r<u.length;r+=1)i[r]=he(ue(o,u,r));return{c(){e=$("tr"),l=$("td"),s=y(t),n=Q();for(let r=0;r<i.length;r+=1)i[r].c();c=Q(),this.h()},l(r){e=N(r,"TR",{class:!0});var _=z(e);l=N(_,"TD",{class:!0});var a=z(l);s=w(a,t),a.forEach(p),n=q(_);for(let f=0;f<i.length;f+=1)i[f].l(_);c=q(_),_.forEach(p),this.h()},h(){S(l,"class","svelte-177xkck"),S(e,"class","svelte-177xkck")},m(r,_){E(r,e,_),v(e,l),v(l,s),v(e,n);for(let a=0;a<i.length;a+=1)i[a].m(e,null);v(e,c)},p(r,_){if(_&4&&t!==(t=r[5].name+"")&&H(s,t),_&5){u=r[0];let a;for(a=0;a<u.length;a+=1){const f=ue(r,u,a);i[a]?i[a].p(f,_):(i[a]=he(f),i[a].c(),i[a].m(e,c))}for(;a<i.length;a+=1)i[a].d(1);i.length=u.length}},d(r){r&&p(e),L(i,r)}}}function Ke(o){let e,l,t,s,n,c,u,i,r,_,a,f=Math.floor(o[1]/o[2].length*100)+"",d,h,k=o[0],g=[];for(let b=0;b<k.length;b+=1)g[b]=_e(fe(o,k,b));let U=o[2],m=[];for(let b=0;b<U.length;b+=1)m[b]=de(ae(o,U,b));return{c(){e=$("div"),l=$("table"),t=$("thead"),s=$("td"),n=y("User"),c=Q();for(let b=0;b<g.length;b+=1)g[b].c();u=Q();for(let b=0;b<m.length;b+=1)m[b].c();i=Q(),r=$("p"),_=y(o[1]),a=y(" answers ("),d=y(f),h=y("%)"),this.h()},l(b){e=N(b,"DIV",{class:!0});var O=z(e);l=N(O,"TABLE",{class:!0});var T=z(l);t=N(T,"THEAD",{class:!0});var B=z(t);s=N(B,"TD",{class:!0});var ee=z(s);n=w(ee,"User"),ee.forEach(p),c=q(B);for(let V=0;V<g.length;V+=1)g[V].l(B);B.forEach(p),u=q(T);for(let V=0;V<m.length;V+=1)m[V].l(T);T.forEach(p),O.forEach(p),i=q(b),r=N(b,"P",{});var C=z(r);_=w(C,o[1]),a=w(C," answers ("),d=w(C,f),h=w(C,"%)"),C.forEach(p),this.h()},h(){S(s,"class","svelte-177xkck"),S(t,"class","svelte-177xkck"),S(l,"class","svelte-177xkck"),S(e,"class","w-wrapper svelte-177xkck")},m(b,O){E(b,e,O),v(e,l),v(l,t),v(t,s),v(s,n),v(t,c);for(let T=0;T<g.length;T+=1)g[T].m(t,null);v(l,u);for(let T=0;T<m.length;T+=1)m[T].m(l,null);E(b,i,O),E(b,r,O),v(r,_),v(r,a),v(r,d),v(r,h)},p(b,[O]){if(O&1){k=b[0];let T;for(T=0;T<k.length;T+=1){const B=fe(b,k,T);g[T]?g[T].p(B,O):(g[T]=_e(B),g[T].c(),g[T].m(t,null))}for(;T<g.length;T+=1)g[T].d(1);g.length=k.length}if(O&5){U=b[2];let T;for(T=0;T<U.length;T+=1){const B=ae(b,U,T);m[T]?m[T].p(B,O):(m[T]=de(B),m[T].c(),m[T].m(l,null))}for(;T<m.length;T+=1)m[T].d(1);m.length=U.length}O&2&&H(_,b[1]),O&6&&f!==(f=Math.floor(b[1]/b[2].length*100)+"")&&H(d,f)},i:A,o:A,d(b){b&&p(e),L(g,b),L(m,b),b&&p(i),b&&p(r)}}}function Je(o,e,l){let t,s,n,c,{quiz:u}=e;return o.$$set=i=>{"quiz"in i&&l(3,u=i.quiz)},o.$$.update=()=>{o.$$.dirty&8&&l(4,t=u==null?void 0:u.activeQuestion),o.$$.dirty&16&&l(0,s=(t==null?void 0:t.answers)||[]),o.$$.dirty&8&&l(2,n=(u==null?void 0:u.users)||[]),o.$$.dirty&17&&l(1,c=(t==null?void 0:t.type)==="multiple"?(s==null?void 0:s.map(i=>i.votes).flat().length)||0:t.state!=="closed"?s.length:(s==null?void 0:s.map(i=>i.votes).flat().length)||0)},[s,c,n,u,t]}class We extends M{constructor(e){super();I(this,e,Je,Ke,X,{quiz:3})}}function pe(o,e,l){const t=o.slice();return t[9]=e[l],t}function Ye(o){let e,l;return{c(){e=$("p"),l=y("results")},l(t){e=N(t,"P",{});var s=z(e);l=w(s,"results"),s.forEach(p)},m(t,s){E(t,e,s),v(e,l)},p:A,i:A,o:A,d(t){t&&p(e)}}}function Ze(o){var k,g,U;let e,l=((k=o[2])==null?void 0:k.index)+1+"",t,s,n=o[0].amount+"",c,u,i,r=((g=o[2])==null?void 0:g.description)+"",_,a,f,d,h=((U=o[2])==null?void 0:U.answers)&&me(o);return{c(){e=$("p"),t=y(l),s=y("/"),c=y(n),u=Q(),i=$("p"),_=y(r),a=Q(),h&&h.c(),f=j()},l(m){e=N(m,"P",{});var b=z(e);t=w(b,l),s=w(b,"/"),c=w(b,n),b.forEach(p),u=q(m),i=N(m,"P",{});var O=z(i);_=w(O,r),O.forEach(p),a=q(m),h&&h.l(m),f=j()},m(m,b){E(m,e,b),v(e,t),v(e,s),v(e,c),E(m,u,b),E(m,i,b),v(i,_),E(m,a,b),h&&h.m(m,b),E(m,f,b),d=!0},p(m,b){var O,T,B;(!d||b&4)&&l!==(l=((O=m[2])==null?void 0:O.index)+1+"")&&H(t,l),(!d||b&1)&&n!==(n=m[0].amount+"")&&H(c,n),(!d||b&4)&&r!==(r=((T=m[2])==null?void 0:T.description)+"")&&H(_,r),((B=m[2])==null?void 0:B.answers)?h?(h.p(m,b),b&4&&D(h,1)):(h=me(m),h.c(),D(h,1),h.m(f.parentNode,f)):h&&(F(),P(h,1,1,()=>{h=null}),G())},i(m){d||(D(h),d=!0)},o(m){P(h),d=!1},d(m){m&&p(e),m&&p(u),m&&p(i),m&&p(a),h&&h.d(m),m&&p(f)}}}function xe(o){let e,l,t,s=o[0].types,n=[];for(let c=0;c<s.length;c+=1)n[c]=be(pe(o,s,c));return l=new Be({props:{users:o[1]}}),{c(){for(let c=0;c<n.length;c+=1)n[c].c();e=Q(),K(l.$$.fragment)},l(c){for(let u=0;u<n.length;u+=1)n[u].l(c);e=q(c),J(l.$$.fragment,c)},m(c,u){for(let i=0;i<n.length;i+=1)n[i].m(c,u);E(c,e,u),W(l,c,u),t=!0},p(c,u){if(u&33){s=c[0].types;let r;for(r=0;r<s.length;r+=1){const _=pe(c,s,r);n[r]?n[r].p(_,u):(n[r]=be(_),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}const i={};u&2&&(i.users=c[1]),l.$set(i)},i(c){t||(D(l.$$.fragment,c),t=!0)},o(c){P(l.$$.fragment,c),t=!1},d(c){L(n,c),c&&p(e),Y(l,c)}}}function me(o){let e,l;return e=new We({props:{quiz:o[0]}}),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){W(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.quiz=t[0]),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function be(o){let e,l,t=o[9]+"",s,n,c;function u(){return o[7](o[9])}return{c(){e=$("button"),l=y("Load "),s=y(t)},l(i){e=N(i,"BUTTON",{});var r=z(e);l=w(r,"Load "),s=w(r,t),r.forEach(p)},m(i,r){E(i,e,r),v(e,l),v(e,s),n||(c=R(e,"click",u),n=!0)},p(i,r){o=i,r&1&&t!==(t=o[9]+"")&&H(s,t)},d(i){i&&p(e),n=!1,c()}}}function et(o){let e,l,t,s,n,c,u,i;e=new Ge({props:{quiz:o[0]}}),e.$on("action",o[6]);const r=[xe,Ze,Ye],_=[];function a(f,d){return f[3]==="registration"?0:f[3]==="running"?1:f[3]==="results"?2:-1}return~(t=a(o))&&(s=_[t]=r[t](o)),{c(){K(e.$$.fragment),l=Q(),s&&s.c(),n=j()},l(f){J(e.$$.fragment,f),l=q(f),s&&s.l(f),n=j()},m(f,d){W(e,f,d),E(f,l,d),~t&&_[t].m(f,d),E(f,n,d),c=!0,u||(i=R(window,"keydown",o[4]),u=!0)},p(f,[d]){const h={};d&1&&(h.quiz=f[0]),e.$set(h);let k=t;t=a(f),t===k?~t&&_[t].p(f,d):(s&&(F(),P(_[k],1,1,()=>{_[k]=null}),G()),~t?(s=_[t],s?s.p(f,d):(s=_[t]=r[t](f),s.c()),D(s,1),s.m(n.parentNode,n)):s=null)},i(f){c||(D(e.$$.fragment,f),D(s),c=!0)},o(f){P(e.$$.fragment,f),P(s),c=!1},d(f){Y(e,f),f&&p(l),~t&&_[t].d(f),f&&p(n),u=!1,i()}}}function tt(o,e,l){let t,s,n,c,u;x(o,Ue,f=>l(8,c=f)),x(o,Oe,f=>l(0,u=f));async function i({key:f}){if(f==="L"){const d=await we("api/quiz");console.log(await d.json())}}function r(f,d){Z("api/quiz",se({action:f},d))}re(()=>{ze("quiz.admin",c)});const _=({detail:{type:f,data:d}})=>r(f,d),a=f=>r("load-type",{type:f});return o.$$.update=()=>{o.$$.dirty&1&&l(3,t=u==null?void 0:u.state),o.$$.dirty&1&&l(2,s=u==null?void 0:u.activeQuestion),o.$$.dirty&1&&l(1,n=u==null?void 0:u.users)},[u,n,s,t,i,r,_,a]}class lt extends M{constructor(e){super();I(this,e,tt,et,X,{})}}function ke(o,e,l){const t=o.slice();return t[5]=e[l],t}function ve(o,e,l){const t=o.slice();return t[11]=e[l],t}function st(o){let e,l,t,s,n,c,u=ie,i=[];for(let r=0;r<u.length;r+=1)i[r]=ge(ve(o,u,r));return{c(){e=$("button"),l=y("Reset Points"),t=Q();for(let r=0;r<i.length;r+=1)i[r].c();s=j()},l(r){e=N(r,"BUTTON",{});var _=z(e);l=w(_,"Reset Points"),_.forEach(p),t=q(r);for(let a=0;a<i.length;a+=1)i[a].l(r);s=j()},m(r,_){E(r,e,_),v(e,l),E(r,t,_);for(let a=0;a<i.length;a+=1)i[a].m(r,_);E(r,s,_),n||(c=R(e,"click",o[4]),n=!0)},p(r,_){if(_&8){u=ie;let a;for(a=0;a<u.length;a+=1){const f=ve(r,u,a);i[a]?i[a].p(f,_):(i[a]=ge(f),i[a].c(),i[a].m(s.parentNode,s))}for(;a<i.length;a+=1)i[a].d(1);i.length=u.length}},i:A,o:A,d(r){r&&p(e),r&&p(t),L(i,r),r&&p(s),n=!1,c()}}}function nt(o){let e,l;return e=new lt({}),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){W(e,t,s),l=!0},p:A,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function ge(o){let e,l,t=o[11]+"",s,n,c,u,i=o[11]+"",r,_,a;function f(){return o[6](o[11])}function d(){return o[7](o[11])}return{c(){e=$("button"),l=y("+5 "),s=y(t),n=Q(),c=$("button"),u=y("-5 "),r=y(i)},l(h){e=N(h,"BUTTON",{});var k=z(e);l=w(k,"+5 "),s=w(k,t),k.forEach(p),n=q(h),c=N(h,"BUTTON",{});var g=z(c);u=w(g,"-5 "),r=w(g,i),g.forEach(p)},m(h,k){E(h,e,k),v(e,l),v(e,s),E(h,n,k),E(h,c,k),v(c,u),v(c,r),_||(a=[R(e,"click",f),R(c,"click",d)],_=!0)},p(h,k){o=h},d(h){h&&p(e),h&&p(n),h&&p(c),_=!1,ne(a)}}}function Ee(o){let e,l=o[5]+"",t,s,n,c;function u(){return o[8](o[5])}return{c(){e=$("button"),t=y(l),s=Q()},l(i){e=N(i,"BUTTON",{});var r=z(e);t=w(r,l),s=q(r),r.forEach(p)},m(i,r){E(i,e,r),v(e,t),v(e,s),n||(c=R(e,"click",u),n=!0)},p(i,r){o=i},d(i){i&&p(e),n=!1,c()}}}function rt(o){let e,l,t,s,n;const c=[nt,st],u=[];function i(a,f){var d;return((d=a[0])==null?void 0:d.state)==="quiz"?0:1}e=i(o),l=u[e]=c[e](o);let r=o[1],_=[];for(let a=0;a<r.length;a+=1)_[a]=Ee(ke(o,r,a));return{c(){l.c(),t=Q(),s=$("footer");for(let a=0;a<_.length;a+=1)_[a].c();this.h()},l(a){l.l(a),t=q(a),s=N(a,"FOOTER",{class:!0});var f=z(s);for(let d=0;d<_.length;d+=1)_[d].l(f);f.forEach(p),this.h()},h(){S(s,"class","svelte-1a9brzh")},m(a,f){u[e].m(a,f),E(a,t,f),E(a,s,f);for(let d=0;d<_.length;d+=1)_[d].m(s,null);n=!0},p(a,[f]){let d=e;if(e=i(a),e===d?u[e].p(a,f):(F(),P(u[d],1,1,()=>{u[d]=null}),G(),l=u[e],l?l.p(a,f):(l=u[e]=c[e](a),l.c()),D(l,1),l.m(t.parentNode,t)),f&6){r=a[1];let h;for(h=0;h<r.length;h+=1){const k=ke(a,r,h);_[h]?_[h].p(k,f):(_[h]=Ee(k),_[h].c(),_[h].m(s,null))}for(;h<_.length;h+=1)_[h].d(1);_.length=r.length}},i(a){n||(D(l),n=!0)},o(a){P(l),n=!1},d(a){u[e].d(a),a&&p(t),a&&p(s),L(_,a)}}}function it(o,e,l){let t;const s=Qe();x(o,s,f=>l(0,t=f));const n=["quiz","points"];function c(f){Z("api/state",{state:f})}function u(f,d){Z("api/state",{points:{[f]:d}})}function i(){confirm("Reset Points?")&&Z("api/state",{reset:!0})}return re(()=>{s.init()}),[t,n,c,u,i,s,f=>u(f,5),f=>u(f,-5),f=>c(f)]}class ht extends M{constructor(e){super();I(this,e,it,rt,X,{})}}export{ht as default};
