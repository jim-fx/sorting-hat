var Ee=Object.defineProperty;var te=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var le=(o,e,l)=>e in o?Ee(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l,se=(o,e)=>{for(var l in e||(e={}))Te.call(e,l)&&le(o,l,e[l]);if(te)for(var l of te(e))$e.call(e,l)&&le(o,l,e[l]);return o};import{S as M,i as I,s as X,e as $,t as N,k as q,c as y,a as z,g as w,d as p,n as A,b as Q,f as T,G as v,h as H,H as D,ae as L,r as F,u as P,w as G,x as B,aj as ye,N as j,l as R,O as ze,j as K,m as J,o as W,v as Y,a7 as x,A as ne}from"../../chunks/vendor-453c144d.js";import{e as Ne,g as we,p as Z}from"../../chunks/index-51669b21.js";import{T as Qe}from"../../chunks/Crest.svelte_svelte_type_style_lang-cff3bd29.js";import{u as Se,q as Ue,g as qe}from"../../chunks/index-784f6ff0.js";import{h as re}from"../../chunks/houses-9a4fb946.js";function ie(o,e,l){const t=o.slice();return t[1]=e[l],t}function oe(o){let e,l,t=o[1].name+"",s,n,f,a=o[1].house+"",i,r;return{c(){e=$("tr"),l=$("td"),s=N(t),n=q(),f=$("td"),i=N(a),r=q(),this.h()},l(_){e=y(_,"TR",{class:!0});var c=z(e);l=y(c,"TD",{class:!0});var u=z(l);s=w(u,t),u.forEach(p),n=A(c),f=y(c,"TD",{class:!0});var d=z(f);i=w(d,a),d.forEach(p),r=A(c),c.forEach(p),this.h()},h(){Q(l,"class","svelte-g1t6o9"),Q(f,"class","svelte-g1t6o9"),Q(e,"class","svelte-g1t6o9")},m(_,c){T(_,e,c),v(e,l),v(l,s),v(e,n),v(e,f),v(f,i),v(e,r)},p(_,c){c&1&&t!==(t=_[1].name+"")&&H(s,t),c&1&&a!==(a=_[1].house+"")&&H(i,a)},d(_){_&&p(e)}}}function Ae(o){let e,l,t,s,n,f,a,i,r,_,c=o[0].length+"",u,d,h=o[0],g=[];for(let k=0;k<h.length;k+=1)g[k]=oe(ie(o,h,k));return{c(){e=$("table"),l=$("thead"),t=$("td"),s=N("Name"),n=q(),f=$("td"),a=N("House"),i=q();for(let k=0;k<g.length;k+=1)g[k].c();r=q(),_=$("p"),u=N(c),d=N(" registrations"),this.h()},l(k){e=y(k,"TABLE",{class:!0});var S=z(e);l=y(S,"THEAD",{});var m=z(l);t=y(m,"TD",{class:!0});var b=z(t);s=w(b,"Name"),b.forEach(p),n=A(m),f=y(m,"TD",{class:!0});var U=z(f);a=w(U,"House"),U.forEach(p),m.forEach(p),i=A(S);for(let O=0;O<g.length;O+=1)g[O].l(S);S.forEach(p),r=A(k),_=y(k,"P",{});var E=z(_);u=w(E,c),d=w(E," registrations"),E.forEach(p),this.h()},h(){Q(t,"class","svelte-g1t6o9"),Q(f,"class","svelte-g1t6o9"),Q(e,"class","svelte-g1t6o9")},m(k,S){T(k,e,S),v(e,l),v(l,t),v(t,s),v(l,n),v(l,f),v(f,a),v(e,i);for(let m=0;m<g.length;m+=1)g[m].m(e,null);T(k,r,S),T(k,_,S),v(_,u),v(_,d)},p(k,[S]){if(S&1){h=k[0];let m;for(m=0;m<h.length;m+=1){const b=ie(k,h,m);g[m]?g[m].p(b,S):(g[m]=oe(b),g[m].c(),g[m].m(e,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=h.length}S&1&&c!==(c=k[0].length+"")&&H(u,c)},i:D,o:D,d(k){k&&p(e),L(g,k),k&&p(r),k&&p(_)}}}function De(o,e,l){let{users:t}=e;return o.$$set=s=>{"users"in s&&l(0,t=s.users)},[t]}class Oe extends M{constructor(e){super();I(this,e,De,Ae,X,{users:0})}}function Be(o){let e,l,t,s;return{c(){e=$("button"),l=N("End Quiz"),this.h()},l(n){e=y(n,"BUTTON",{class:!0});var f=z(e);l=w(f,"End Quiz"),f.forEach(p),this.h()},h(){Q(e,"class","svelte-pg62n")},m(n,f){T(n,e,f),v(e,l),t||(s=j(e,"click",o[14]),t=!0)},p:D,i:D,o:D,d(n){n&&p(e),t=!1,s()}}}function He(o){let e,l,t,s,n;function f(r,_){if(r[2]==="open")return Ve;if(r[2]==="voting-open")return Re;if(r[2]==="closed")return je}let a=f(o),i=a&&a(o);return{c(){i&&i.c(),e=q(),l=$("button"),t=N("End Quiz"),this.h()},l(r){i&&i.l(r),e=A(r),l=y(r,"BUTTON",{class:!0});var _=z(l);t=w(_,"End Quiz"),_.forEach(p),this.h()},h(){Q(l,"class","svelte-pg62n")},m(r,_){i&&i.m(r,_),T(r,e,_),T(r,l,_),v(l,t),s||(n=j(l,"click",o[13]),s=!0)},p(r,_){a===(a=f(r))&&i?i.p(r,_):(i&&i.d(1),i=a&&a(r),i&&(i.c(),i.m(e.parentNode,e)))},i:D,o:D,d(r){i&&i.d(r),r&&p(e),r&&p(l),s=!1,n()}}}function Pe(o){let e,l,t,s,n,f,a,i,r;const _=[Ie,Me],c=[];function u(d,h){return d[0].startsAt?0:d[0].startsAt?-1:1}return~(s=u(o))&&(n=c[s]=_[s](o)),{c(){e=$("button"),l=N("Start Quiz"),t=q(),n&&n.c(),f=R(),this.h()},l(d){e=y(d,"BUTTON",{class:!0});var h=z(e);l=w(h,"Start Quiz"),h.forEach(p),t=A(d),n&&n.l(d),f=R(),this.h()},h(){Q(e,"class","svelte-pg62n")},m(d,h){T(d,e,h),v(e,l),T(d,t,h),~s&&c[s].m(d,h),T(d,f,h),a=!0,i||(r=j(e,"click",o[5]),i=!0)},p(d,h){let g=s;s=u(d),s===g?~s&&c[s].p(d,h):(n&&(F(),P(c[g],1,1,()=>{c[g]=null}),G()),~s?(n=c[s],n?n.p(d,h):(n=c[s]=_[s](d),n.c()),B(n,1),n.m(f.parentNode,f)):n=null)},i(d){a||(B(n),a=!0)},o(d){P(n),a=!1},d(d){d&&p(e),d&&p(t),~s&&c[s].d(d),d&&p(f),i=!1,r()}}}function je(o){let e;function l(n,f){var a;return((a=n[1])==null?void 0:a.index)===n[0].amount-1?Ce:Le}let t=l(o),s=t(o);return{c(){s.c(),e=R()},l(n){s.l(n),e=R()},m(n,f){s.m(n,f),T(n,e,f)},p(n,f){t===(t=l(n))&&s?s.p(n,f):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){s.d(n),n&&p(e)}}}function Re(o){let e,l,t,s;return{c(){e=$("button"),l=N("Close Voting"),this.h()},l(n){e=y(n,"BUTTON",{class:!0});var f=z(e);l=w(f,"Close Voting"),f.forEach(p),this.h()},h(){Q(e,"class","svelte-pg62n")},m(n,f){T(n,e,f),v(e,l),t||(s=j(e,"click",o[10]),t=!0)},p:D,d(n){n&&p(e),t=!1,s()}}}function Ve(o){var f;let e,l=(((f=o[1])==null?void 0:f.type)==="voting"?"Start Voting":"End Question")+"",t,s,n;return{c(){e=$("button"),t=N(l),this.h()},l(a){e=y(a,"BUTTON",{class:!0});var i=z(e);t=w(i,l),i.forEach(p),this.h()},h(){Q(e,"class","svelte-pg62n")},m(a,i){T(a,e,i),v(e,t),s||(n=j(e,"click",o[9]),s=!0)},p(a,i){var r;i&2&&l!==(l=(((r=a[1])==null?void 0:r.type)==="voting"?"Start Voting":"End Question")+"")&&H(t,l)},d(a){a&&p(e),s=!1,n()}}}function Le(o){let e,l,t,s;return{c(){e=$("button"),l=N("Next Question"),this.h()},l(n){e=y(n,"BUTTON",{class:!0});var f=z(e);l=w(f,"Next Question"),f.forEach(p),this.h()},h(){Q(e,"class","svelte-pg62n")},m(n,f){T(n,e,f),v(e,l),t||(s=j(e,"click",o[12]),t=!0)},p:D,d(n){n&&p(e),t=!1,s()}}}function Ce(o){let e,l,t,s;return{c(){e=$("button"),l=N("End Quiz"),this.h()},l(n){e=y(n,"BUTTON",{class:!0});var f=z(e);l=w(f,"End Quiz"),f.forEach(p),this.h()},h(){Q(e,"class","svelte-pg62n")},m(n,f){T(n,e,f),v(e,l),t||(s=j(e,"click",o[11]),t=!0)},p:D,d(n){n&&p(e),t=!1,s()}}}function Me(o){let e,l,t,s,n,f,a,i,r,_;return{c(){e=$("button"),l=N("Start in 10s"),t=q(),s=$("button"),n=N("Start in 1m"),f=q(),a=$("button"),i=N("Start in 5m"),this.h()},l(c){e=y(c,"BUTTON",{class:!0});var u=z(e);l=w(u,"Start in 10s"),u.forEach(p),t=A(c),s=y(c,"BUTTON",{class:!0});var d=z(s);n=w(d,"Start in 1m"),d.forEach(p),f=A(c),a=y(c,"BUTTON",{class:!0});var h=z(a);i=w(h,"Start in 5m"),h.forEach(p),this.h()},h(){Q(e,"class","svelte-pg62n"),Q(s,"class","svelte-pg62n"),Q(a,"class","svelte-pg62n")},m(c,u){T(c,e,u),v(e,l),T(c,t,u),T(c,s,u),v(s,n),T(c,f,u),T(c,a,u),v(a,i),r||(_=[j(e,"click",o[6]),j(s,"click",o[7]),j(a,"click",o[8])],r=!0)},p:D,i:D,o:D,d(c){c&&p(e),c&&p(t),c&&p(s),c&&p(f),c&&p(a),r=!1,ze(_)}}}function Ie(o){let e,l;return e=new Qe({props:{endsAt:o[0].startsAt}}),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){W(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.endsAt=t[0].startsAt),e.$set(n)},i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function Xe(o){let e,l,t,s=(o[2]?"."+o[2]:"")+"",n,f,a,i,r,_;const c=[Pe,He,Be],u=[];function d(h,g){return h[3]==="registration"?0:h[3]==="running"?1:h[3]==="results"?2:-1}return~(i=d(o))&&(r=u[i]=c[i](o)),{c(){e=$("header"),l=$("h1"),t=N(o[3]),n=N(s),f=q(),a=$("div"),r&&r.c(),this.h()},l(h){e=y(h,"HEADER",{class:!0});var g=z(e);l=y(g,"H1",{class:!0});var k=z(l);t=w(k,o[3]),n=w(k,s),k.forEach(p),f=A(g),a=y(g,"DIV",{class:!0});var S=z(a);r&&r.l(S),S.forEach(p),g.forEach(p),this.h()},h(){Q(l,"class","svelte-pg62n"),Q(a,"class","scroller svelte-pg62n"),Q(e,"class","svelte-pg62n")},m(h,g){T(h,e,g),v(e,l),v(l,t),v(l,n),v(e,f),v(e,a),~i&&u[i].m(a,null),_=!0},p(h,[g]){(!_||g&8)&&H(t,h[3]),(!_||g&4)&&s!==(s=(h[2]?"."+h[2]:"")+"")&&H(n,s);let k=i;i=d(h),i===k?~i&&u[i].p(h,g):(r&&(F(),P(u[k],1,1,()=>{u[k]=null}),G()),~i?(r=u[i],r?r.p(h,g):(r=u[i]=c[i](h),r.c()),B(r,1),r.m(a,null)):r=null)},i(h){_||(B(r),_=!0)},o(h){P(r),_=!1},d(h){h&&p(e),~i&&u[i].d()}}}function Fe(o,e,l){let t,s,n;const f=ye();let{quiz:a}=e;function i(b,U){f("action",{type:b,data:U})}const r=()=>i("start-quiz"),_=()=>i("start-quiz-timer",{time:10*1e3}),c=()=>i("start-quiz-timer",{time:60*1e3}),u=()=>i("start-quiz-timer",{time:60*1e3*5}),d=()=>i("close-question"),h=()=>i("close-voting"),g=()=>i("end-question"),k=()=>i("end-question"),S=()=>confirm("End Quiz?")&&i("end-quiz"),m=()=>confirm("End Quiz?")&&i("end-quiz");return o.$$set=b=>{"quiz"in b&&l(0,a=b.quiz)},o.$$.update=()=>{o.$$.dirty&1&&l(1,t=a==null?void 0:a.activeQuestion),o.$$.dirty&1&&l(3,s=a==null?void 0:a.state),o.$$.dirty&2&&l(2,n=t==null?void 0:t.state)},[a,t,n,s,i,r,_,c,u,d,h,g,k,S,m]}class Ge extends M{constructor(e){super();I(this,e,Fe,Xe,X,{quiz:0})}}function ce(o,e,l){const t=o.slice();return t[5]=e[l],t}function ae(o,e,l){const t=o.slice();return t[8]=e[l],t}function fe(o,e,l){const t=o.slice();return t[11]=e[l],t}function ue(o){let e,l=o[11].value+"",t;return{c(){e=$("td"),t=N(l),this.h()},l(s){e=y(s,"TD",{class:!0});var n=z(e);t=w(n,l),n.forEach(p),this.h()},h(){Q(e,"class","svelte-177xkck")},m(s,n){T(s,e,n),v(e,t)},p(s,n){n&1&&l!==(l=s[11].value+"")&&H(t,l)},d(s){s&&p(e)}}}function _e(o){let e,l=(o[8].votes.includes(o[5].id)?"X":" ")+"",t;return{c(){e=$("td"),t=N(l),this.h()},l(s){e=y(s,"TD",{class:!0});var n=z(e);t=w(n,l),n.forEach(p),this.h()},h(){Q(e,"class","svelte-177xkck")},m(s,n){T(s,e,n),v(e,t)},p(s,n){n&5&&l!==(l=(s[8].votes.includes(s[5].id)?"X":" ")+"")&&H(t,l)},d(s){s&&p(e)}}}function he(o){let e,l,t=o[5].name+"",s,n,f,a=o[0],i=[];for(let r=0;r<a.length;r+=1)i[r]=_e(ae(o,a,r));return{c(){e=$("tr"),l=$("td"),s=N(t),n=q();for(let r=0;r<i.length;r+=1)i[r].c();f=q(),this.h()},l(r){e=y(r,"TR",{class:!0});var _=z(e);l=y(_,"TD",{class:!0});var c=z(l);s=w(c,t),c.forEach(p),n=A(_);for(let u=0;u<i.length;u+=1)i[u].l(_);f=A(_),_.forEach(p),this.h()},h(){Q(l,"class","svelte-177xkck"),Q(e,"class","svelte-177xkck")},m(r,_){T(r,e,_),v(e,l),v(l,s),v(e,n);for(let c=0;c<i.length;c+=1)i[c].m(e,null);v(e,f)},p(r,_){if(_&4&&t!==(t=r[5].name+"")&&H(s,t),_&5){a=r[0];let c;for(c=0;c<a.length;c+=1){const u=ae(r,a,c);i[c]?i[c].p(u,_):(i[c]=_e(u),i[c].c(),i[c].m(e,f))}for(;c<i.length;c+=1)i[c].d(1);i.length=a.length}},d(r){r&&p(e),L(i,r)}}}function Ke(o){let e,l,t,s,n,f,a,i,r,_,c,u=Math.floor(o[1]/o[2].length*100)+"",d,h,g=o[0],k=[];for(let b=0;b<g.length;b+=1)k[b]=ue(fe(o,g,b));let S=o[2],m=[];for(let b=0;b<S.length;b+=1)m[b]=he(ce(o,S,b));return{c(){e=$("div"),l=$("table"),t=$("thead"),s=$("td"),n=N("User"),f=q();for(let b=0;b<k.length;b+=1)k[b].c();a=q();for(let b=0;b<m.length;b+=1)m[b].c();i=q(),r=$("p"),_=N(o[1]),c=N(" answers ("),d=N(u),h=N("%)"),this.h()},l(b){e=y(b,"DIV",{class:!0});var U=z(e);l=y(U,"TABLE",{class:!0});var E=z(l);t=y(E,"THEAD",{class:!0});var O=z(t);s=y(O,"TD",{class:!0});var ee=z(s);n=w(ee,"User"),ee.forEach(p),f=A(O);for(let V=0;V<k.length;V+=1)k[V].l(O);O.forEach(p),a=A(E);for(let V=0;V<m.length;V+=1)m[V].l(E);E.forEach(p),U.forEach(p),i=A(b),r=y(b,"P",{});var C=z(r);_=w(C,o[1]),c=w(C," answers ("),d=w(C,u),h=w(C,"%)"),C.forEach(p),this.h()},h(){Q(s,"class","svelte-177xkck"),Q(t,"class","svelte-177xkck"),Q(l,"class","svelte-177xkck"),Q(e,"class","w-wrapper svelte-177xkck")},m(b,U){T(b,e,U),v(e,l),v(l,t),v(t,s),v(s,n),v(t,f);for(let E=0;E<k.length;E+=1)k[E].m(t,null);v(l,a);for(let E=0;E<m.length;E+=1)m[E].m(l,null);T(b,i,U),T(b,r,U),v(r,_),v(r,c),v(r,d),v(r,h)},p(b,[U]){if(U&1){g=b[0];let E;for(E=0;E<g.length;E+=1){const O=fe(b,g,E);k[E]?k[E].p(O,U):(k[E]=ue(O),k[E].c(),k[E].m(t,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=g.length}if(U&5){S=b[2];let E;for(E=0;E<S.length;E+=1){const O=ce(b,S,E);m[E]?m[E].p(O,U):(m[E]=he(O),m[E].c(),m[E].m(l,null))}for(;E<m.length;E+=1)m[E].d(1);m.length=S.length}U&2&&H(_,b[1]),U&6&&u!==(u=Math.floor(b[1]/b[2].length*100)+"")&&H(d,u)},i:D,o:D,d(b){b&&p(e),L(k,b),L(m,b),b&&p(i),b&&p(r)}}}function Je(o,e,l){let t,s,n,f,{quiz:a}=e;return o.$$set=i=>{"quiz"in i&&l(3,a=i.quiz)},o.$$.update=()=>{o.$$.dirty&8&&l(4,t=a==null?void 0:a.activeQuestion),o.$$.dirty&16&&l(0,s=(t==null?void 0:t.answers)||[]),o.$$.dirty&8&&l(2,n=(a==null?void 0:a.users)||[]),o.$$.dirty&17&&l(1,f=(t==null?void 0:t.type)==="multiple"?(s==null?void 0:s.map(i=>i.votes).flat().length)||0:t.state!=="closed"?s.length:(s==null?void 0:s.map(i=>i.votes).flat().length)||0)},[s,f,n,a,t]}class We extends M{constructor(e){super();I(this,e,Je,Ke,X,{quiz:3})}}function de(o,e,l){const t=o.slice();return t[9]=e[l],t}function Ye(o){let e,l;return{c(){e=$("p"),l=N("results")},l(t){e=y(t,"P",{});var s=z(e);l=w(s,"results"),s.forEach(p)},m(t,s){T(t,e,s),v(e,l)},p:D,i:D,o:D,d(t){t&&p(e)}}}function Ze(o){var g,k,S;let e,l=((g=o[2])==null?void 0:g.index)+1+"",t,s,n=o[0].amount+"",f,a,i,r=((k=o[2])==null?void 0:k.description)+"",_,c,u,d,h=((S=o[2])==null?void 0:S.answers)&&pe(o);return{c(){e=$("p"),t=N(l),s=N("/"),f=N(n),a=q(),i=$("p"),_=N(r),c=q(),h&&h.c(),u=R()},l(m){e=y(m,"P",{});var b=z(e);t=w(b,l),s=w(b,"/"),f=w(b,n),b.forEach(p),a=A(m),i=y(m,"P",{});var U=z(i);_=w(U,r),U.forEach(p),c=A(m),h&&h.l(m),u=R()},m(m,b){T(m,e,b),v(e,t),v(e,s),v(e,f),T(m,a,b),T(m,i,b),v(i,_),T(m,c,b),h&&h.m(m,b),T(m,u,b),d=!0},p(m,b){var U,E,O;(!d||b&4)&&l!==(l=((U=m[2])==null?void 0:U.index)+1+"")&&H(t,l),(!d||b&1)&&n!==(n=m[0].amount+"")&&H(f,n),(!d||b&4)&&r!==(r=((E=m[2])==null?void 0:E.description)+"")&&H(_,r),((O=m[2])==null?void 0:O.answers)?h?(h.p(m,b),b&4&&B(h,1)):(h=pe(m),h.c(),B(h,1),h.m(u.parentNode,u)):h&&(F(),P(h,1,1,()=>{h=null}),G())},i(m){d||(B(h),d=!0)},o(m){P(h),d=!1},d(m){m&&p(e),m&&p(a),m&&p(i),m&&p(c),h&&h.d(m),m&&p(u)}}}function xe(o){let e,l,t,s=o[0].types,n=[];for(let f=0;f<s.length;f+=1)n[f]=me(de(o,s,f));return l=new Oe({props:{users:o[1]}}),{c(){for(let f=0;f<n.length;f+=1)n[f].c();e=q(),K(l.$$.fragment)},l(f){for(let a=0;a<n.length;a+=1)n[a].l(f);e=A(f),J(l.$$.fragment,f)},m(f,a){for(let i=0;i<n.length;i+=1)n[i].m(f,a);T(f,e,a),W(l,f,a),t=!0},p(f,a){if(a&33){s=f[0].types;let r;for(r=0;r<s.length;r+=1){const _=de(f,s,r);n[r]?n[r].p(_,a):(n[r]=me(_),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}const i={};a&2&&(i.users=f[1]),l.$set(i)},i(f){t||(B(l.$$.fragment,f),t=!0)},o(f){P(l.$$.fragment,f),t=!1},d(f){L(n,f),f&&p(e),Y(l,f)}}}function pe(o){let e,l;return e=new We({props:{quiz:o[0]}}),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){W(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.quiz=t[0]),e.$set(n)},i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function me(o){let e,l,t=o[9]+"",s,n,f;function a(){return o[7](o[9])}return{c(){e=$("button"),l=N("Load "),s=N(t)},l(i){e=y(i,"BUTTON",{});var r=z(e);l=w(r,"Load "),s=w(r,t),r.forEach(p)},m(i,r){T(i,e,r),v(e,l),v(e,s),n||(f=j(e,"click",a),n=!0)},p(i,r){o=i,r&1&&t!==(t=o[9]+"")&&H(s,t)},d(i){i&&p(e),n=!1,f()}}}function et(o){let e,l,t,s,n,f,a,i;e=new Ge({props:{quiz:o[0]}}),e.$on("action",o[6]);const r=[xe,Ze,Ye],_=[];function c(u,d){return u[3]==="registration"?0:u[3]==="running"?1:u[3]==="results"?2:-1}return~(t=c(o))&&(s=_[t]=r[t](o)),{c(){K(e.$$.fragment),l=q(),s&&s.c(),n=R()},l(u){J(e.$$.fragment,u),l=A(u),s&&s.l(u),n=R()},m(u,d){W(e,u,d),T(u,l,d),~t&&_[t].m(u,d),T(u,n,d),f=!0,a||(i=j(window,"keydown",o[4]),a=!0)},p(u,[d]){const h={};d&1&&(h.quiz=u[0]),e.$set(h);let g=t;t=c(u),t===g?~t&&_[t].p(u,d):(s&&(F(),P(_[g],1,1,()=>{_[g]=null}),G()),~t?(s=_[t],s?s.p(u,d):(s=_[t]=r[t](u),s.c()),B(s,1),s.m(n.parentNode,n)):s=null)},i(u){f||(B(e.$$.fragment,u),B(s),f=!0)},o(u){P(e.$$.fragment,u),P(s),f=!1},d(u){Y(e,u),u&&p(l),~t&&_[t].d(u),u&&p(n),a=!1,i()}}}function tt(o,e,l){let t,s,n,f,a;x(o,Se,u=>l(8,f=u)),x(o,Ue,u=>l(0,a=u));async function i({key:u}){if(u==="L"){const d=await we("api/quiz");console.log(await d.json())}}function r(u,d){Z("api/quiz",se({action:u},d))}ne(()=>{Ne("quiz.admin",f)});const _=({detail:{type:u,data:d}})=>r(u,d),c=u=>r("load-type",{type:u});return o.$$.update=()=>{o.$$.dirty&1&&l(3,t=a==null?void 0:a.state),o.$$.dirty&1&&l(2,s=a==null?void 0:a.activeQuestion),o.$$.dirty&1&&l(1,n=a==null?void 0:a.users)},[a,n,s,t,i,r,_,c]}class lt extends M{constructor(e){super();I(this,e,tt,et,X,{})}}function be(o,e,l){const t=o.slice();return t[5]=e[l],t}function ve(o,e,l){const t=o.slice();return t[10]=e[l],t}function st(o){let e,l,t,s,n,f,a=re,i=[];for(let r=0;r<a.length;r+=1)i[r]=ke(ve(o,a,r));return{c(){e=$("button"),l=N("Reset Points"),t=q();for(let r=0;r<i.length;r+=1)i[r].c();s=R()},l(r){e=y(r,"BUTTON",{});var _=z(e);l=w(_,"Reset Points"),_.forEach(p),t=A(r);for(let c=0;c<i.length;c+=1)i[c].l(r);s=R()},m(r,_){T(r,e,_),v(e,l),T(r,t,_);for(let c=0;c<i.length;c+=1)i[c].m(r,_);T(r,s,_),n||(f=j(e,"click",o[4]),n=!0)},p(r,_){if(_&8){a=re;let c;for(c=0;c<a.length;c+=1){const u=ve(r,a,c);i[c]?i[c].p(u,_):(i[c]=ke(u),i[c].c(),i[c].m(s.parentNode,s))}for(;c<i.length;c+=1)i[c].d(1);i.length=a.length}},i:D,o:D,d(r){r&&p(e),r&&p(t),L(i,r),r&&p(s),n=!1,f()}}}function nt(o){let e,l;return e=new lt({}),{c(){K(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){W(e,t,s),l=!0},p:D,i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function ke(o){let e,l,t=o[10]+"",s,n,f;function a(){return o[6](o[10])}return{c(){e=$("button"),l=N("+5 "),s=N(t)},l(i){e=y(i,"BUTTON",{});var r=z(e);l=w(r,"+5 "),s=w(r,t),r.forEach(p)},m(i,r){T(i,e,r),v(e,l),v(e,s),n||(f=j(e,"click",a),n=!0)},p(i,r){o=i},d(i){i&&p(e),n=!1,f()}}}function ge(o){let e,l=o[5]+"",t,s,n,f;function a(){return o[7](o[5])}return{c(){e=$("button"),t=N(l),s=q()},l(i){e=y(i,"BUTTON",{});var r=z(e);t=w(r,l),s=A(r),r.forEach(p)},m(i,r){T(i,e,r),v(e,t),v(e,s),n||(f=j(e,"click",a),n=!0)},p(i,r){o=i},d(i){i&&p(e),n=!1,f()}}}function rt(o){let e,l,t,s,n;const f=[nt,st],a=[];function i(c,u){var d;return((d=c[0])==null?void 0:d.state)==="quiz"?0:1}e=i(o),l=a[e]=f[e](o);let r=o[1],_=[];for(let c=0;c<r.length;c+=1)_[c]=ge(be(o,r,c));return{c(){l.c(),t=q(),s=$("footer");for(let c=0;c<_.length;c+=1)_[c].c();this.h()},l(c){l.l(c),t=A(c),s=y(c,"FOOTER",{class:!0});var u=z(s);for(let d=0;d<_.length;d+=1)_[d].l(u);u.forEach(p),this.h()},h(){Q(s,"class","svelte-1a9brzh")},m(c,u){a[e].m(c,u),T(c,t,u),T(c,s,u);for(let d=0;d<_.length;d+=1)_[d].m(s,null);n=!0},p(c,[u]){let d=e;if(e=i(c),e===d?a[e].p(c,u):(F(),P(a[d],1,1,()=>{a[d]=null}),G(),l=a[e],l?l.p(c,u):(l=a[e]=f[e](c),l.c()),B(l,1),l.m(t.parentNode,t)),u&6){r=c[1];let h;for(h=0;h<r.length;h+=1){const g=be(c,r,h);_[h]?_[h].p(g,u):(_[h]=ge(g),_[h].c(),_[h].m(s,null))}for(;h<_.length;h+=1)_[h].d(1);_.length=r.length}},i(c){n||(B(l),n=!0)},o(c){P(l),n=!1},d(c){a[e].d(c),c&&p(t),c&&p(s),L(_,c)}}}function it(o,e,l){let t;const s=qe();x(o,s,c=>l(0,t=c));const n=["quiz","points"];function f(c){Z("api/state",{state:c})}function a(c,u){Z("api/state",{points:{[c]:u}})}function i(){confirm("Reset Points?")&&Z("api/state",{reset:!0})}return ne(()=>{s.init()}),[t,n,f,a,i,s,c=>a(c,5),c=>f(c)]}class ht extends M{constructor(e){super();I(this,e,it,rt,X,{})}}export{ht as default};
