import{S as Ee,i as qe,s as Ve,e as b,t as N,k as P,l as ie,c as g,a as k,g as C,d as u,n as I,b as h,f as w,G as v,h as ne,H as F,N as re,al as ct,ai as Je,am as Y,Z as De,ab as X,P as ae,O as Qe,Q as ut,A as _t,$ as le,a0 as fe,J as je,j as de,m as he,F as oe,o as pe,a1 as ce,K as ze,L as Te,M as Re,x as Z,V as dt,Y as ht,X as pt,u as G,v as ve,w as vt,r as mt}from"../chunks/vendor-ed08ca3a.js";import{q as Ue,l as He,u as bt}from"../chunks/stores-f3c3934b.js";import{p as Me,d as gt}from"../chunks/index-0f7edb9d.js";import{s as Ke}from"../chunks/pointerStore-d4a3554d.js";import"../chunks/ws-9a419573.js";function Le(l,e,t){const s=l.slice();return s[19]=e[t],s[23]=t,s}function Xe(l,e,t){const s=l.slice();return s[19]=e[t],s}function Ze(l,e,t){const s=l.slice();return s[16]=e[t],s}function kt(l){let e,t=l[1].answers.sort(xe),s=[];for(let n=0;n<t.length;n+=1)s[n]=Ge(Le(l,t,n));return{c(){e=b("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=g(n,"DIV",{class:!0});var c=k(e);for(let o=0;o<s.length;o+=1)s[o].l(c);c.forEach(u),this.h()},h(){h(e,"class","vote-wrapper svelte-nrkr6g")},m(n,c){w(n,e,c);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(n,c){if(c&130){t=n[1].answers.sort(xe);let o;for(o=0;o<t.length;o+=1){const a=Le(n,t,o);s[o]?s[o].p(a,c):(s[o]=Ge(a),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}},d(n){n&&u(e),De(s,n)}}}function wt(l){let e,t,s,n,c=l[1].answers,o=[];for(let a=0;a<c.length;a+=1)o[a]=Ye(Xe(l,c,a));return{c(){e=b("p"),t=N("Vote for the best answer"),s=P(),n=b("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=g(a,"P",{class:!0});var r=k(e);t=C(r,"Vote for the best answer"),r.forEach(u),s=I(a),n=g(a,"DIV",{class:!0});var i=k(n);for(let f=0;f<o.length;f+=1)o[f].l(i);i.forEach(u),this.h()},h(){h(e,"class","svelte-nrkr6g"),h(n,"class","vote-wrapper svelte-nrkr6g")},m(a,r){w(a,e,r),v(e,t),w(a,s,r),w(a,n,r);for(let i=0;i<o.length;i+=1)o[i].m(n,null)},p(a,r){if(r&74){c=a[1].answers;let i;for(i=0;i<c.length;i+=1){const f=Xe(a,c,i);o[i]?o[i].p(f,r):(o[i]=Ye(f),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=c.length}},d(a){a&&u(e),a&&u(s),a&&u(n),De(o,a)}}}function yt(l){let e,t,s,n,c,o,a;return{c(){e=b("textarea"),t=P(),s=b("button"),n=N("abschicken"),this.h()},l(r){e=g(r,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0,class:!0}),k(e).forEach(u),t=I(r),s=g(r,"BUTTON",{});var i=k(s);n=C(i,"abschicken"),i.forEach(u),this.h()},h(){var r;h(e,"name",""),h(e,"id",""),h(e,"cols","30"),h(e,"rows","10"),h(e,"class","svelte-nrkr6g"),s.disabled=c=!((r=l[0])==null?void 0:r.length)},m(r,i){w(r,e,i),Qe(e,l[0]),w(r,t,i),w(r,s,i),v(s,n),o||(a=[ae(e,"input",l[10]),ae(s,"click",l[11])],o=!0)},p(r,i){var f;i&1&&Qe(e,r[0]),i&1&&c!==(c=!((f=r[0])==null?void 0:f.length))&&(s.disabled=c)},d(r){r&&u(e),r&&u(t),r&&u(s),o=!1,ut(a)}}}function Et(l){let e,t=l[1].answers,s=[];for(let n=0;n<t.length;n+=1)s[n]=$e(Ze(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=ie()},l(n){for(let c=0;c<s.length;c+=1)s[c].l(n);e=ie()},m(n,c){for(let o=0;o<s.length;o+=1)s[o].m(n,c);w(n,e,c)},p(n,c){if(c&26){t=n[1].answers;let o;for(o=0;o<t.length;o+=1){const a=Ze(n,t,o);s[o]?s[o].p(a,c):(s[o]=$e(a),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}},d(n){De(s,n),n&&u(e)}}}function qt(l){let e,t,s=l[7](l[19].userId)+"",n,c;return{c(){e=b("br"),t=N(`
					(`),n=N(s),c=N(")")},l(o){e=g(o,"BR",{}),t=C(o,`
					(`),n=C(o,s),c=C(o,")")},m(o,a){w(o,e,a),w(o,t,a),w(o,n,a),w(o,c,a)},p(o,a){a&2&&s!==(s=o[7](o[19].userId)+"")&&ne(n,s)},d(o){o&&u(e),o&&u(t),o&&u(n),o&&u(c)}}}function Ge(l){let e,t=l[19].votes.length+"",s,n,c,o=l[19].value+"",a,r,i,f=l[23]===0&&qt(l);return{c(){e=b("p"),s=N(t),n=P(),c=b("p"),a=N(o),r=P(),f&&f.c(),i=P(),this.h()},l(_){e=g(_,"P",{class:!0});var d=k(e);s=C(d,t),d.forEach(u),n=I(_),c=g(_,"P",{class:!0});var p=k(c);a=C(p,o),r=I(p),f&&f.l(p),i=I(p),p.forEach(u),this.h()},h(){h(e,"class","vote-amount svelte-nrkr6g"),h(c,"class","vote-value svelte-nrkr6g")},m(_,d){w(_,e,d),v(e,s),w(_,n,d),w(_,c,d),v(c,a),v(c,r),f&&f.m(c,null),v(c,i)},p(_,d){d&2&&t!==(t=_[19].votes.length+"")&&ne(s,t),d&2&&o!==(o=_[19].value+"")&&ne(a,o),_[23]===0&&f.p(_,d)},d(_){_&&u(e),_&&u(n),_&&u(c),f&&f.d()}}}function Ye(l){let e,t=(l[3].vote!==l[19].id?"\u2610":"\u2612")+"",s,n,c,o=l[19].value+"",a,r,i;function f(){return l[12](l[19])}return{c(){e=b("button"),s=N(t),n=P(),c=b("p"),a=N(o),this.h()},l(_){e=g(_,"BUTTON",{class:!0});var d=k(e);s=C(d,t),d.forEach(u),n=I(_),c=g(_,"P",{class:!0});var p=k(c);a=C(p,o),p.forEach(u),this.h()},h(){h(e,"class","vote-button svelte-nrkr6g"),X(e,"selected",l[3].vote===l[19].id),h(c,"class","vote-value svelte-nrkr6g")},m(_,d){w(_,e,d),v(e,s),w(_,n,d),w(_,c,d),v(c,a),r||(i=ae(e,"click",f),r=!0)},p(_,d){l=_,d&10&&t!==(t=(l[3].vote!==l[19].id?"\u2610":"\u2612")+"")&&ne(s,t),d&10&&X(e,"selected",l[3].vote===l[19].id),d&2&&o!==(o=l[19].value+"")&&ne(a,o)},d(_){_&&u(e),_&&u(n),_&&u(c),r=!1,i()}}}function $e(l){let e,t=l[16].value+"",s,n,c;function o(){return l[9](l[16])}return{c(){e=b("button"),s=N(t),this.h()},l(a){e=g(a,"BUTTON",{class:!0});var r=k(e);s=C(r,t),r.forEach(u),this.h()},h(){var a,r,i;h(e,"class","answer svelte-nrkr6g"),X(e,"showAnswer",(a=l[1])==null?void 0:a.correctAnswer),X(e,"correct",l[16].id===((r=l[1])==null?void 0:r.correctAnswer)),X(e,"selected",((i=l[3])==null?void 0:i.aid)===l[16].id)},m(a,r){w(a,e,r),v(e,s),n||(c=ae(e,"click",o),n=!0)},p(a,r){var i,f,_;l=a,r&2&&t!==(t=l[16].value+"")&&ne(s,t),r&2&&X(e,"showAnswer",(i=l[1])==null?void 0:i.correctAnswer),r&2&&X(e,"correct",l[16].id===((f=l[1])==null?void 0:f.correctAnswer)),r&10&&X(e,"selected",((_=l[3])==null?void 0:_.aid)===l[16].id)},d(a){a&&u(e),n=!1,c()}}}function Vt(l){let e,t=l[1].description+"",s,n,c;function o(i,f){if(i[1].type==="multiple")return Et;if(i[1].state==="open")return yt;if(i[1].state==="voting-open")return wt;if(i[1].state==="closed")return kt}let a=o(l),r=a&&a(l);return{c(){e=b("p"),s=N(t),n=P(),r&&r.c(),c=ie(),this.h()},l(i){e=g(i,"P",{class:!0});var f=k(e);s=C(f,t),f.forEach(u),n=I(i),r&&r.l(i),c=ie(),this.h()},h(){h(e,"class","description svelte-nrkr6g")},m(i,f){w(i,e,f),v(e,s),w(i,n,f),r&&r.m(i,f),w(i,c,f)},p(i,[f]){f&2&&t!==(t=i[1].description+"")&&ne(s,t),a===(a=o(i))&&r?r.p(i,f):(r&&r.d(1),r=a&&a(i),r&&(r.c(),r.m(c.parentNode,c)))},i:F,o:F,d(i){i&&u(e),i&&u(n),r&&r.d(i),i&&u(c)}}}const xe=(l,e)=>l.votes.length>e.votes.length?-1:1;function At(l,e,t){let s,n,c=F,o=()=>(c(),c=Je(f,y=>t(3,n=y)),f),a;re(l,Ue,y=>t(8,a=y)),l.$$.on_destroy.push(()=>c());const r=ct();let{question:i}=e;const f=He("active-question",{qid:"",aid:"",value:"",vote:""});o();let{textValue:_}=e;function d(y){y!==n.qid&&i.state==="open"&&(Y(f,n.qid=i.id,n),Y(f,n.aid=y,n),r("answer",y))}function p(y){r("text",y)}function V(y){Y(f,n.vote=y,n),r("vote",y)}function R(y){const j=s.find(A=>A.id===y);return j?j==null?void 0:j.name:""}const D=y=>d(y.id);function O(){_=this.value,t(0,_)}const q=()=>p(_),T=y=>V(y.id);return l.$$set=y=>{"question"in y&&t(1,i=y.question),"textValue"in y&&t(0,_=y.textValue)},l.$$.update=()=>{l.$$.dirty&256&&(s=a.users),l.$$.dirty&10&&(i==null||i.correctAnswer,n.aid)},[_,i,f,n,d,p,V,R,a,D,O,q,T]}class St extends Ee{constructor(e){super();qe(this,e,At,Vt,Ve,{question:1,questionStore:2,textValue:0})}get questionStore(){return this.$$.ctx[2]}}function Nt(l){let e;return{c(){e=b("canvas"),this.h()},l(t){e=g(t,"CANVAS",{width:!0,height:!0,style:!0,class:!0}),k(e).forEach(u),this.h()},h(){h(e,"width",l[0]),h(e,"height",l[1]),h(e,"style","transform: translateZ(var(--z))"),h(e,"class","svelte-m0dfni")},m(t,s){w(t,e,s),l[5](e)},p(t,[s]){s&1&&h(e,"width",t[0]),s&2&&h(e,"height",t[1])},i:F,o:F,d(t){t&&u(e),l[5](null)}}}const ue=9;function Pt(l,e,t){let s,n;re(l,Ke,q=>t(9,n=q));let{width:c=200}=e,{height:o=400}=e,{amount:a=200}=e,r,i;function f(q,T){s.splice(q,T.length,...T)}function _(q){return s.slice(q,q+ue)}const d=()=>Math.random();function p(){console.log("INit Particles");for(let q=0;q<s.length-ue;q+=ue){const T=c/2,y=o-10,j=5+Math.random()*7,A=j/12,W=(d()-.5)*(A*A)*5,J=1+Math.random()*5,M=1+Math.random()*5,Q=Math.random(),E=Math.random()*.1,z=.1+Math.random()*.4;f(q,[T,y,W,j,J,M,Q,E,z])}V||(V=!0,D())}let V=!1;function R(){p()}function D(){if(V)requestAnimationFrame(D);else{i.clearRect(0,0,c,o);return}i.clearRect(0,0,c,o);const q=n.x;n.y;let T=0;for(let y=0;y<a;y++){let[j,A,W,J,M,Q,E,z,B]=_(y*ue);if(j===0)continue;T++;const _e=B+E/10%.5;i.fillStyle=`hsl(34, 100%, ${_e*100}%, 1)`,i.save(),i.translate(j+M/2,A+Q/2),i.rotate(E),i.fillRect(-M/2,-Q/2,M,Q),i.restore(),j-=W-q,A-=J-.2,J>-2&&(J-=.2),E+=z,A>o&&(j=0),f(y*ue,[j,A,W,J,M,Q,E,z])}V=T>1}_t(()=>{i=r.getContext("2d")});function O(q){le[q?"unshift":"push"](()=>{r=q,t(2,r)})}return l.$$set=q=>{"width"in q&&t(0,c=q.width),"height"in q&&t(1,o=q.height),"amount"in q&&t(3,a=q.amount)},l.$$.update=()=>{l.$$.dirty&8&&(s=new Array(a*ue).fill(null))},[c,o,r,a,R,O]}class et extends Ee{constructor(e){super();qe(this,e,Pt,Nt,Ve,{width:0,height:1,amount:3,show:4})}get show(){return this.$$.ctx[4]}}const Ct=l=>({}),tt=l=>({}),It=l=>({}),st=l=>({}),Dt=l=>({}),nt=l=>({});function jt(l){let e,t;return{c(){e=b("p"),t=N("No Frontside")},l(s){e=g(s,"P",{});var n=k(e);t=C(n,"No Frontside"),n.forEach(u)},m(s,n){w(s,e,n),v(e,t)},d(s){s&&u(e)}}}function zt(l){let e;return{c(){e=b("p")},l(t){e=g(t,"P",{}),k(e).forEach(u)},m(t,s){w(t,e,s)},d(t){t&&u(e)}}}function Tt(l){let e;return{c(){e=b("span")},l(t){e=g(t,"SPAN",{}),k(e).forEach(u)},m(t,s){w(t,e,s)},d(t){t&&u(e)}}}function Rt(l){let e,t,s,n,c,o,a,r,i,f,_,d,p,V,R,D,O,q,T,y,j,A,W,J,M,Q,E,z,B,_e,te,Ae,se,me,Se,Ne,U;function at(m){l[8](m)}let Fe={amount:200};l[1]!==void 0&&(Fe.show=l[1]),t=new et({props:Fe}),le.push(()=>fe(t,"show",at));function ft(m){l[9](m)}let Oe={amount:50};l[2]!==void 0&&(Oe.show=l[2]),a=new et({props:Oe}),le.push(()=>fe(a,"show",ft));const Pe=l[7].front,be=je(Pe,l,l[6],nt),H=be||jt(),Ce=l[7].back,ge=je(Ce,l,l[6],st),K=ge||zt(),Ie=l[7].info,ke=je(Ie,l,l[6],tt),L=ke||Tt();return{c(){e=b("div"),s=b("div"),de(t.$$.fragment),o=P(),r=b("div"),de(a.$$.fragment),_=P(),d=b("div"),p=b("div"),V=b("span"),R=P(),D=b("span"),O=P(),q=b("span"),T=P(),y=b("span"),j=P(),A=b("div"),W=b("span"),J=P(),M=b("span"),Q=P(),E=b("span"),z=P(),B=b("span"),_e=P(),te=b("div"),H&&H.c(),Ae=P(),se=b("div"),K&&K.c(),Se=P(),L&&L.c(),this.h()},l(m){e=g(m,"DIV",{class:!0});var S=k(e);s=g(S,"DIV",{style:!0});var we=k(s);he(t.$$.fragment,we),o=I(S),r=g(S,"DIV",{style:!0});var ye=k(r);he(a.$$.fragment,ye),_=I(S),d=g(S,"DIV",{class:!0,style:!0});var $=k(d);p=g($,"DIV",{class:!0});var x=k(p);V=g(x,"SPAN",{class:!0}),k(V).forEach(u),R=I(x),D=g(x,"SPAN",{class:!0}),k(D).forEach(u),O=I(x),q=g(x,"SPAN",{class:!0}),k(q).forEach(u),T=I(x),y=g(x,"SPAN",{class:!0}),k(y).forEach(u),x.forEach(u),j=I($),A=g($,"DIV",{class:!0});var ee=k(A);W=g(ee,"SPAN",{class:!0}),k(W).forEach(u),J=I(ee),M=g(ee,"SPAN",{class:!0}),k(M).forEach(u),Q=I(ee),E=g(ee,"SPAN",{class:!0}),k(E).forEach(u),z=I(ee),B=g(ee,"SPAN",{class:!0}),k(B).forEach(u),ee.forEach(u),_e=I($),te=g($,"DIV",{class:!0,id:!0});var Be=k(te);H&&H.l(Be),Be.forEach(u),Ae=I($),se=g($,"DIV",{class:!0,id:!0});var We=k(se);K&&K.l(We),We.forEach(u),$.forEach(u),Se=I(S),L&&L.l(S),S.forEach(u),this.h()},h(){oe(s,"display","contents"),oe(s,"--opacity","0.4"),oe(s,"--z",c=l[0]?"-30px":"30px"),oe(r,"display","contents"),oe(r,"--z",f=l[0]?"-70px":"70px"),h(V,"class","corner tr svelte-14m8728"),h(D,"class","corner tl svelte-14m8728"),h(q,"class","corner br svelte-14m8728"),h(y,"class","corner bl svelte-14m8728"),h(p,"class","corner-wrapper svelte-14m8728"),h(W,"class","corner tr svelte-14m8728"),h(M,"class","corner tl svelte-14m8728"),h(E,"class","corner br svelte-14m8728"),h(B,"class","corner bl svelte-14m8728"),h(A,"class","corner-wrapper back svelte-14m8728"),h(te,"class","card-face svelte-14m8728"),h(te,"id","front"),h(se,"class","card-face svelte-14m8728"),h(se,"id","back"),h(d,"class","card svelte-14m8728"),h(d,"style",me=`
		--x:${l[4].x*l[3]}deg;
		--y:${l[4].y*-l[3]}deg;
		`),h(e,"class","scene svelte-14m8728"),X(e,"flipped",l[0])},m(m,S){w(m,e,S),v(e,s),pe(t,s,null),v(e,o),v(e,r),pe(a,r,null),v(e,_),v(e,d),v(d,p),v(p,V),v(p,R),v(p,D),v(p,O),v(p,q),v(p,T),v(p,y),v(d,j),v(d,A),v(A,W),v(A,J),v(A,M),v(A,Q),v(A,E),v(A,z),v(A,B),v(d,_e),v(d,te),H&&H.m(te,null),v(d,Ae),v(d,se),K&&K.m(se,null),v(e,Se),L&&L.m(e,null),U=!0},p(m,[S]){S&1&&c!==(c=m[0]?"-30px":"30px")&&oe(s,"--z",c);const we={};!n&&S&2&&(n=!0,we.show=m[1],ce(()=>n=!1)),t.$set(we),S&1&&f!==(f=m[0]?"-70px":"70px")&&oe(r,"--z",f);const ye={};!i&&S&4&&(i=!0,ye.show=m[2],ce(()=>i=!1)),a.$set(ye),be&&be.p&&(!U||S&64)&&ze(be,Pe,m,m[6],U?Re(Pe,m[6],S,Dt):Te(m[6]),nt),ge&&ge.p&&(!U||S&64)&&ze(ge,Ce,m,m[6],U?Re(Ce,m[6],S,It):Te(m[6]),st),(!U||S&24&&me!==(me=`
		--x:${m[4].x*m[3]}deg;
		--y:${m[4].y*-m[3]}deg;
		`))&&h(d,"style",me),ke&&ke.p&&(!U||S&64)&&ze(ke,Ie,m,m[6],U?Re(Ie,m[6],S,Ct):Te(m[6]),tt),S&1&&X(e,"flipped",m[0])},i(m){U||(Z(t.$$.fragment,m),Z(a.$$.fragment,m),Z(H,m),Z(K,m),Z(L,m),Ne||dt(()=>{Ne=ht(e,pt,{}),Ne.start()}),U=!0)},o(m){G(t.$$.fragment,m),G(a.$$.fragment,m),G(H,m),G(K,m),G(L,m),U=!1},d(m){m&&u(e),ve(t),ve(a),H&&H.d(m),K&&K.d(m),L&&L.d(m)}}}function Mt(l,e,t){let s,n;re(l,Ke,V=>t(4,n=V));let{$$slots:c={},$$scope:o}=e,{flipped:a=!1}=e,r,i,f;const _=()=>{console.log("ShowCOnfetti"),r==null||r(),i==null||i(),f==null||f()};function d(V){r=V,t(1,r)}function p(V){f=V,t(2,f)}return l.$$set=V=>{"flipped"in V&&t(0,a=V.flipped),"$$scope"in V&&t(6,o=V.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(3,s=a?1:10)},[a,r,f,s,n,_,o,c,d,p]}class lt extends Ee{constructor(e){super();qe(this,e,Mt,Rt,Ve,{flipped:0,showConfetti:5})}get showConfetti(){return this.$$.ctx[5]}}function Ft(l){let e,t;return{c(){e=b("p"),t=N("Quiz Already started")},l(s){e=g(s,"P",{});var n=k(e);t=C(n,"Quiz Already started"),n.forEach(u)},m(s,n){w(s,e,n),v(e,t)},p:F,i:F,o:F,d(s){s&&u(e)}}}function Ot(l){let e,t;return{c(){e=b("p"),t=N("Results")},l(s){e=g(s,"P",{});var n=k(e);t=C(n,"Results"),n.forEach(u)},m(s,n){w(s,e,n),v(e,t)},p:F,i:F,o:F,d(s){s&&u(e)}}}function Bt(l){let e,t,s;function n(o){l[21](o)}let c={flipped:l[1]!=="closed"&&l[5]&&l[1]!=="voting-open",$$slots:{info:[Ut],back:[Qt],front:[Jt]},$$scope:{ctx:l}};return l[0]!==void 0&&(c.showConfetti=l[0]),e=new lt({props:c}),le.push(()=>fe(e,"showConfetti",n)),{c(){de(e.$$.fragment)},l(o){he(e.$$.fragment,o)},m(o,a){pe(e,o,a),s=!0},p(o,a){const r={};a&34&&(r.flipped=o[1]!=="closed"&&o[5]&&o[1]!=="voting-open"),a&8388670&&(r.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,r.showConfetti=o[0],ce(()=>t=!1)),e.$set(r)},i(o){s||(Z(e.$$.fragment,o),s=!0)},o(o){G(e.$$.fragment,o),s=!1},d(o){ve(e,o)}}}function Wt(l){let e,t,s;function n(o){l[18](o)}let c={flipped:l[6],$$slots:{info:[Xt],front:[Lt]},$$scope:{ctx:l}};return l[0]!==void 0&&(c.showConfetti=l[0]),e=new lt({props:c}),le.push(()=>fe(e,"showConfetti",n)),{c(){de(e.$$.fragment)},l(o){he(e.$$.fragment,o)},m(o,a){pe(e,o,a),s=!0},p(o,a){const r={};a&64&&(r.flipped=o[6]),a&8388928&&(r.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,r.showConfetti=o[0],ce(()=>t=!1)),e.$set(r)},i(o){s||(Z(e.$$.fragment,o),s=!0)},o(o){G(e.$$.fragment,o),s=!1},d(o){ve(e,o)}}}function Jt(l){let e,t,s,n,c;function o(i){l[19](i)}function a(i){l[20](i)}let r={question:l[2].activeQuestion};return l[4]!==void 0&&(r.textValue=l[4]),l[3]!==void 0&&(r.questionStore=l[3]),t=new St({props:r}),le.push(()=>fe(t,"textValue",o)),le.push(()=>fe(t,"questionStore",a)),t.$on("vote",l[12]),t.$on("answer",l[11]),t.$on("text",l[11]),{c(){e=b("div"),de(t.$$.fragment),this.h()},l(i){e=g(i,"DIV",{slot:!0,class:!0});var f=k(e);he(t.$$.fragment,f),f.forEach(u),this.h()},h(){h(e,"slot","front"),h(e,"class","svelte-1jxik5q")},m(i,f){w(i,e,f),pe(t,e,null),c=!0},p(i,f){const _={};f&4&&(_.question=i[2].activeQuestion),!s&&f&16&&(s=!0,_.textValue=i[4],ce(()=>s=!1)),!n&&f&8&&(n=!0,_.questionStore=i[3],ce(()=>n=!1)),t.$set(_)},i(i){c||(Z(t.$$.fragment,i),c=!0)},o(i){G(t.$$.fragment,i),c=!1},d(i){i&&u(e),ve(t)}}}function ot(l){let e,t;return{c(){e=b("p"),t=N("Vote for the best answer")},l(s){e=g(s,"P",{});var n=k(e);t=C(n,"Vote for the best answer"),n.forEach(u)},m(s,n){w(s,e,n),v(e,t)},d(s){s&&u(e)}}}function Qt(l){let e,t=l[1]==="voting-open"&&ot();return{c(){e=b("div"),t&&t.c(),this.h()},l(s){e=g(s,"DIV",{slot:!0});var n=k(e);t&&t.l(n),n.forEach(u),this.h()},h(){h(e,"slot","back")},m(s,n){w(s,e,n),t&&t.m(e,null)},p(s,n){s[1]==="voting-open"?t||(t=ot(),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(s){s&&u(e),t&&t.d()}}}function it(l){let e,t;return{c(){e=b("p"),t=N("Warte bis die Frage beendet wird.")},l(s){e=g(s,"P",{});var n=k(e);t=C(n,"Warte bis die Frage beendet wird."),n.forEach(u)},m(s,n){w(s,e,n),v(e,t)},d(s){s&&u(e)}}}function Ut(l){let e,t=l[5]&&l[1]!=="closed"&&l[1]!=="voting-open"&&it();return{c(){e=b("div"),t&&t.c(),this.h()},l(s){e=g(s,"DIV",{slot:!0});var n=k(e);t&&t.l(n),n.forEach(u),this.h()},h(){h(e,"slot","info")},m(s,n){w(s,e,n),t&&t.m(e,null)},p(s,n){s[5]&&s[1]!=="closed"&&s[1]!=="voting-open"?t||(t=it(),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(s){s&&u(e),t&&t.d()}}}function Ht(l){let e,t,s,n;return{c(){e=b("button"),t=N("Join the quiz")},l(c){e=g(c,"BUTTON",{});var o=k(e);t=C(o,"Join the quiz"),o.forEach(u)},m(c,o){w(c,e,o),v(e,t),s||(n=ae(e,"click",l[10]),s=!0)},p:F,d(c){c&&u(e),s=!1,n()}}}function Kt(l){let e,t;return{c(){e=b("a"),t=N("Need to input your name"),this.h()},l(s){e=g(s,"A",{href:!0,class:!0});var n=k(e);t=C(n,"Need to input your name"),n.forEach(u),this.h()},h(){h(e,"href","/"),h(e,"class","svelte-1jxik5q")},m(s,n){w(s,e,n),v(e,t)},p:F,d(s){s&&u(e)}}}function Lt(l){let e,t,s,n;function c(r,i){return!r[8].name||!r[8].house?Kt:Ht}let o=c(l),a=o(l);return{c(){e=b("div"),t=b("h1"),s=N("Registration"),n=P(),a.c(),this.h()},l(r){e=g(r,"DIV",{slot:!0,class:!0});var i=k(e);t=g(i,"H1",{});var f=k(t);s=C(f,"Registration"),f.forEach(u),n=I(i),a.l(i),i.forEach(u),this.h()},h(){h(e,"slot","front"),h(e,"class","svelte-1jxik5q")},m(r,i){w(r,e,i),v(e,t),v(t,s),v(e,n),a.m(e,null)},p(r,i){o===(o=c(r))&&a?a.p(r,i):(a.d(1),a=o(r),a&&(a.c(),a.m(e,null)))},d(r){r&&u(e),a.d()}}}function rt(l){let e,t;return{c(){e=b("p"),t=N("Warte bis das Quiz beginnt")},l(s){e=g(s,"P",{});var n=k(e);t=C(n,"Warte bis das Quiz beginnt"),n.forEach(u)},m(s,n){w(s,e,n),v(e,t)},d(s){s&&u(e)}}}function Xt(l){let e,t=l[6]&&rt();return{c(){e=b("div"),t&&t.c(),this.h()},l(s){e=g(s,"DIV",{slot:!0,id:!0,class:!0});var n=k(e);t&&t.l(n),n.forEach(u),this.h()},h(){h(e,"slot","info"),h(e,"id","registration-success"),h(e,"class","svelte-1jxik5q")},m(s,n){w(s,e,n),t&&t.m(e,null)},p(s,n){s[6]?t||(t=rt(),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(s){s&&u(e),t&&t.d()}}}function Zt(l){let e,t,s,n,c,o;const a=[Wt,Bt,Ot,Ft],r=[];function i(f,_){var d,p;return f[7]==="registration"?0:f[7]==="running"&&((p=(d=f[2])==null?void 0:d.activeQuestion)==null?void 0:p.id)&&f[6]?1:f[7]==="results"&&f[6]?2:3}return e=i(l),t=r[e]=a[e](l),{c(){t.c(),s=ie()},l(f){t.l(f),s=ie()},m(f,_){r[e].m(f,_),w(f,s,_),n=!0,c||(o=ae(window,"keydown",l[13]),c=!0)},p(f,[_]){let d=e;e=i(f),e===d?r[e].p(f,_):(mt(),G(r[d],1,1,()=>{r[d]=null}),vt(),t=r[e],t?t.p(f,_):(t=r[e]=a[e](f),t.c()),Z(t,1),t.m(s.parentNode,s))},i(f){n||(Z(t),n=!0)},o(f){G(t),n=!1},d(f){r[e].d(f),f&&u(s),c=!1,o()}}}function Gt(l,e,t){let s,n,c,o,a,r,i,f,_=F,d=()=>(_(),_=Je(D,E=>t(16,f=E)),D),p,V;re(l,Ue,E=>t(2,i=E)),re(l,bt,E=>t(8,V=E)),l.$$.on_destroy.push(()=>_());let R,D;const O=He("quiz-user-data",{id:"",qid:"",token:""});re(l,O,E=>t(17,p=E));let q;async function T(){const z=await(await Me("api/quiz/register",{name:V.name,house:V.house})).json(),B=gt(z.token);Y(O,p.token=z.token,p),Y(O,p.id=B.id,p),Y(O,p.qid=B.qid,p)}async function y({detail:E}){const z=await Me("api/quiz/answer",E,p.token);if(!z.ok)return;const B=await z.json();Y(D,f.qid=n.id,f),Y(D,f.value=E,f),n.type==="voting"&&B.id&&Y(D,f.aid=B.id,f)}async function j({detail:E}){const z=await Me("api/quiz/vote",E,p.token);console.log(await z.json())}function A({key:E}){E==="L"&&console.log(f,i)}function W(E){R=E,t(0,R)}function J(E){q=E,t(4,q)}function M(E){D=E,d(t(3,D))}function Q(E){R=E,t(0,R)}return l.$$.update=()=>{l.$$.dirty&4&&t(7,s=i==null?void 0:i.state),l.$$.dirty&4&&t(14,n=i==null?void 0:i.activeQuestion),l.$$.dirty&16384&&t(1,c=n==null?void 0:n.state),l.$$.dirty&4&&(i==null||i.users),l.$$.dirty&131076&&t(6,o=(p==null?void 0:p.id)&&(p==null?void 0:p.qid)===(i==null?void 0:i.id)),l.$$.dirty&81920&&t(5,a=(n==null?void 0:n.type)==="multiple"?(f==null?void 0:f.qid)===(n==null?void 0:n.id):(f==null?void 0:f.qid)===(n==null?void 0:n.id)&&(f==null?void 0:f.value)),l.$$.dirty&81920&&t(15,r=(n==null?void 0:n.correctAnswer)===(f==null?void 0:f.aid)),l.$$.dirty&32771&&c==="closed"&&r&&setTimeout(()=>{R()},1e3)},[R,c,i,D,q,a,o,s,V,O,T,y,j,A,n,r,f,p,W,J,M,Q]}class ss extends Ee{constructor(e){super();qe(this,e,Gt,Zt,Ve,{})}}export{ss as default};
